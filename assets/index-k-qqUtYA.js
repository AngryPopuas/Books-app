var VI=Object.defineProperty;var LI=(e,t,n)=>t in e?VI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Wf=(e,t,n)=>(LI(e,typeof t!="symbol"?t+"":t,n),n);function FI(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function n1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var r1={exports:{}},Rd={},o1={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jl=Symbol.for("react.element"),jI=Symbol.for("react.portal"),UI=Symbol.for("react.fragment"),BI=Symbol.for("react.strict_mode"),zI=Symbol.for("react.profiler"),WI=Symbol.for("react.provider"),HI=Symbol.for("react.context"),qI=Symbol.for("react.forward_ref"),KI=Symbol.for("react.suspense"),GI=Symbol.for("react.memo"),QI=Symbol.for("react.lazy"),$v=Symbol.iterator;function ZI(e){return e===null||typeof e!="object"?null:(e=$v&&e[$v]||e["@@iterator"],typeof e=="function"?e:null)}var s1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},i1=Object.assign,a1={};function Mi(e,t,n){this.props=e,this.context=t,this.refs=a1,this.updater=n||s1}Mi.prototype.isReactComponent={};Mi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function l1(){}l1.prototype=Mi.prototype;function Gm(e,t,n){this.props=e,this.context=t,this.refs=a1,this.updater=n||s1}var Qm=Gm.prototype=new l1;Qm.constructor=Gm;i1(Qm,Mi.prototype);Qm.isPureReactComponent=!0;var Nv=Array.isArray,c1=Object.prototype.hasOwnProperty,Zm={current:null},u1={key:!0,ref:!0,__self:!0,__source:!0};function d1(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)c1.call(t,r)&&!u1.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:jl,type:e,key:s,ref:i,props:o,_owner:Zm.current}}function YI(e,t){return{$$typeof:jl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ym(e){return typeof e=="object"&&e!==null&&e.$$typeof===jl}function XI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Dv=/\/+/g;function Hf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?XI(""+e.key):t.toString(36)}function Jc(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case jl:case jI:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+Hf(i,0):r,Nv(o)?(n="",e!=null&&(n=e.replace(Dv,"$&/")+"/"),Jc(o,t,n,"",function(c){return c})):o!=null&&(Ym(o)&&(o=YI(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Dv,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",Nv(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Hf(s,a);i+=Jc(s,t,n,l,o)}else if(l=ZI(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Hf(s,a++),i+=Jc(s,t,n,l,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function pc(e,t,n){if(e==null)return e;var r=[],o=0;return Jc(e,r,"","",function(s){return t.call(n,s,o++)}),r}function JI(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Yt={current:null},eu={transition:null},eA={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:eu,ReactCurrentOwner:Zm};function f1(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:pc,forEach:function(e,t,n){pc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pc(e,function(){t++}),t},toArray:function(e){return pc(e,function(t){return t})||[]},only:function(e){if(!Ym(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=Mi;_e.Fragment=UI;_e.Profiler=zI;_e.PureComponent=Gm;_e.StrictMode=BI;_e.Suspense=KI;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eA;_e.act=f1;_e.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=i1({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=Zm.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)c1.call(t,l)&&!u1.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:jl,type:e.type,key:o,ref:s,props:r,_owner:i}};_e.createContext=function(e){return e={$$typeof:HI,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:WI,_context:e},e.Consumer=e};_e.createElement=d1;_e.createFactory=function(e){var t=d1.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:qI,render:e}};_e.isValidElement=Ym;_e.lazy=function(e){return{$$typeof:QI,_payload:{_status:-1,_result:e},_init:JI}};_e.memo=function(e,t){return{$$typeof:GI,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=eu.transition;eu.transition={};try{e()}finally{eu.transition=t}};_e.unstable_act=f1;_e.useCallback=function(e,t){return Yt.current.useCallback(e,t)};_e.useContext=function(e){return Yt.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return Yt.current.useDeferredValue(e)};_e.useEffect=function(e,t){return Yt.current.useEffect(e,t)};_e.useId=function(){return Yt.current.useId()};_e.useImperativeHandle=function(e,t,n){return Yt.current.useImperativeHandle(e,t,n)};_e.useInsertionEffect=function(e,t){return Yt.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return Yt.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return Yt.current.useMemo(e,t)};_e.useReducer=function(e,t,n){return Yt.current.useReducer(e,t,n)};_e.useRef=function(e){return Yt.current.useRef(e)};_e.useState=function(e){return Yt.current.useState(e)};_e.useSyncExternalStore=function(e,t,n){return Yt.current.useSyncExternalStore(e,t,n)};_e.useTransition=function(){return Yt.current.useTransition()};_e.version="18.3.1";o1.exports=_e;var f=o1.exports;const Ge=n1(f),ep=FI({__proto__:null,default:Ge},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tA=f,nA=Symbol.for("react.element"),rA=Symbol.for("react.fragment"),oA=Object.prototype.hasOwnProperty,sA=tA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iA={key:!0,ref:!0,__self:!0,__source:!0};function h1(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)oA.call(t,r)&&!iA.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:nA,type:e,key:s,ref:i,props:o,_owner:sA.current}}Rd.Fragment=rA;Rd.jsx=h1;Rd.jsxs=h1;r1.exports=Rd;var S=r1.exports,tp={},p1={exports:{}},Tn={},m1={exports:{}},g1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,k){var H=D.length;D.push(k);e:for(;0<H;){var ie=H-1>>>1,he=D[ie];if(0<o(he,k))D[ie]=k,D[H]=he,H=ie;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var k=D[0],H=D.pop();if(H!==k){D[0]=H;e:for(var ie=0,he=D.length,Ke=he>>>1;ie<Ke;){var Ve=2*(ie+1)-1,mt=D[Ve],$e=Ve+1,re=D[$e];if(0>o(mt,H))$e<he&&0>o(re,mt)?(D[ie]=re,D[$e]=H,ie=$e):(D[ie]=mt,D[Ve]=H,ie=Ve);else if($e<he&&0>o(re,H))D[ie]=re,D[$e]=H,ie=$e;else break e}}return k}function o(D,k){var H=D.sortIndex-k.sortIndex;return H!==0?H:D.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],u=1,d=null,h=3,m=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var k=n(c);k!==null;){if(k.callback===null)r(c);else if(k.startTime<=D)r(c),k.sortIndex=k.expirationTime,t(l,k);else break;k=n(c)}}function E(D){if(y=!1,_(D),!v)if(n(l)!==null)v=!0,te(x);else{var k=n(c);k!==null&&Y(E,k.startTime-D)}}function x(D,k){v=!1,y&&(y=!1,g(I),I=-1),m=!0;var H=h;try{for(_(k),d=n(l);d!==null&&(!(d.expirationTime>k)||D&&!oe());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,h=d.priorityLevel;var he=ie(d.expirationTime<=k);k=e.unstable_now(),typeof he=="function"?d.callback=he:d===n(l)&&r(l),_(k)}else r(l);d=n(l)}if(d!==null)var Ke=!0;else{var Ve=n(c);Ve!==null&&Y(E,Ve.startTime-k),Ke=!1}return Ke}finally{d=null,h=H,m=!1}}var b=!1,C=null,I=-1,F=5,V=-1;function oe(){return!(e.unstable_now()-V<F)}function P(){if(C!==null){var D=e.unstable_now();V=D;var k=!0;try{k=C(!0,D)}finally{k?G():(b=!1,C=null)}}else b=!1}var G;if(typeof p=="function")G=function(){p(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,U=N.port2;N.port1.onmessage=P,G=function(){U.postMessage(null)}}else G=function(){w(P,0)};function te(D){C=D,b||(b=!0,G())}function Y(D,k){I=w(function(){D(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,te(x))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var H=h;h=k;try{return D()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,k){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=h;h=D;try{return k()}finally{h=H}},e.unstable_scheduleCallback=function(D,k,H){var ie=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ie+H:ie):H=ie,D){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=H+he,D={id:u++,callback:k,priorityLevel:D,startTime:H,expirationTime:he,sortIndex:-1},H>ie?(D.sortIndex=H,t(c,D),n(l)===null&&D===n(c)&&(y?(g(I),I=-1):y=!0,Y(E,H-ie))):(D.sortIndex=he,t(l,D),v||m||(v=!0,te(x))),D},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(D){var k=h;return function(){var H=h;h=k;try{return D.apply(this,arguments)}finally{h=H}}}})(g1);m1.exports=g1;var aA=m1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lA=f,_n=aA;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y1=new Set,ja={};function ys(e,t){pi(e,t),pi(e+"Capture",t)}function pi(e,t){for(ja[e]=t,e=0;e<t.length;e++)y1.add(t[e])}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),np=Object.prototype.hasOwnProperty,cA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ov={},Mv={};function uA(e){return np.call(Mv,e)?!0:np.call(Ov,e)?!1:cA.test(e)?Mv[e]=!0:(Ov[e]=!0,!1)}function dA(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fA(e,t,n,r){if(t===null||typeof t>"u"||dA(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xt(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kt[e]=new Xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kt[t]=new Xt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kt[e]=new Xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kt[e]=new Xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kt[e]=new Xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kt[e]=new Xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kt[e]=new Xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kt[e]=new Xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kt[e]=new Xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xm=/[\-:]([a-z])/g;function Jm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xm,Jm);kt[t]=new Xt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xm,Jm);kt[t]=new Xt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xm,Jm);kt[t]=new Xt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kt[e]=new Xt(e,1,!1,e.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kt[e]=new Xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function eg(e,t,n,r){var o=kt.hasOwnProperty(t)?kt[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fA(t,n,o,r)&&(n=null),r||o===null?uA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Br=lA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mc=Symbol.for("react.element"),Fs=Symbol.for("react.portal"),js=Symbol.for("react.fragment"),tg=Symbol.for("react.strict_mode"),rp=Symbol.for("react.profiler"),v1=Symbol.for("react.provider"),_1=Symbol.for("react.context"),ng=Symbol.for("react.forward_ref"),op=Symbol.for("react.suspense"),sp=Symbol.for("react.suspense_list"),rg=Symbol.for("react.memo"),Qr=Symbol.for("react.lazy"),w1=Symbol.for("react.offscreen"),Vv=Symbol.iterator;function Ji(e){return e===null||typeof e!="object"?null:(e=Vv&&e[Vv]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Object.assign,qf;function ha(e){if(qf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);qf=t&&t[1]||""}return`
`+qf+e}var Kf=!1;function Gf(e,t){if(!e||Kf)return"";Kf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{Kf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ha(e):""}function hA(e){switch(e.tag){case 5:return ha(e.type);case 16:return ha("Lazy");case 13:return ha("Suspense");case 19:return ha("SuspenseList");case 0:case 2:case 15:return e=Gf(e.type,!1),e;case 11:return e=Gf(e.type.render,!1),e;case 1:return e=Gf(e.type,!0),e;default:return""}}function ip(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case js:return"Fragment";case Fs:return"Portal";case rp:return"Profiler";case tg:return"StrictMode";case op:return"Suspense";case sp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _1:return(e.displayName||"Context")+".Consumer";case v1:return(e._context.displayName||"Context")+".Provider";case ng:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rg:return t=e.displayName||null,t!==null?t:ip(e.type)||"Memo";case Qr:t=e._payload,e=e._init;try{return ip(e(t))}catch{}}return null}function pA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ip(t);case 8:return t===tg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function E1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mA(e){var t=E1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gc(e){e._valueTracker||(e._valueTracker=mA(e))}function x1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=E1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Eu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ap(e,t){var n=t.checked;return Je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Lv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=yo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function T1(e,t){t=t.checked,t!=null&&eg(e,"checked",t,!1)}function lp(e,t){T1(e,t);var n=yo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cp(e,t.type,n):t.hasOwnProperty("defaultValue")&&cp(e,t.type,yo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function cp(e,t,n){(t!=="number"||Eu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var pa=Array.isArray;function ei(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+yo(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function up(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return Je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(pa(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:yo(n)}}function S1(e,t){var n=yo(t.value),r=yo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Uv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function b1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?b1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yc,C1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yc=yc||document.createElement("div"),yc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ua(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Sa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gA=["Webkit","ms","Moz","O"];Object.keys(Sa).forEach(function(e){gA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sa[t]=Sa[e]})});function I1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Sa.hasOwnProperty(e)&&Sa[e]?(""+t).trim():t+"px"}function A1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=I1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var yA=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fp(e,t){if(t){if(yA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function hp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pp=null;function og(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mp=null,ti=null,ni=null;function Bv(e){if(e=zl(e)){if(typeof mp!="function")throw Error(M(280));var t=e.stateNode;t&&(t=Dd(t),mp(e.stateNode,e.type,t))}}function R1(e){ti?ni?ni.push(e):ni=[e]:ti=e}function k1(){if(ti){var e=ti,t=ni;if(ni=ti=null,Bv(e),t)for(e=0;e<t.length;e++)Bv(t[e])}}function P1(e,t){return e(t)}function $1(){}var Qf=!1;function N1(e,t,n){if(Qf)return e(t,n);Qf=!0;try{return P1(e,t,n)}finally{Qf=!1,(ti!==null||ni!==null)&&($1(),k1())}}function Ba(e,t){var n=e.stateNode;if(n===null)return null;var r=Dd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var gp=!1;if(kr)try{var ea={};Object.defineProperty(ea,"passive",{get:function(){gp=!0}}),window.addEventListener("test",ea,ea),window.removeEventListener("test",ea,ea)}catch{gp=!1}function vA(e,t,n,r,o,s,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var ba=!1,xu=null,Tu=!1,yp=null,_A={onError:function(e){ba=!0,xu=e}};function wA(e,t,n,r,o,s,i,a,l){ba=!1,xu=null,vA.apply(_A,arguments)}function EA(e,t,n,r,o,s,i,a,l){if(wA.apply(this,arguments),ba){if(ba){var c=xu;ba=!1,xu=null}else throw Error(M(198));Tu||(Tu=!0,yp=c)}}function vs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function D1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zv(e){if(vs(e)!==e)throw Error(M(188))}function xA(e){var t=e.alternate;if(!t){if(t=vs(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return zv(o),e;if(s===r)return zv(o),t;s=s.sibling}throw Error(M(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function O1(e){return e=xA(e),e!==null?M1(e):null}function M1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=M1(e);if(t!==null)return t;e=e.sibling}return null}var V1=_n.unstable_scheduleCallback,Wv=_n.unstable_cancelCallback,TA=_n.unstable_shouldYield,SA=_n.unstable_requestPaint,ot=_n.unstable_now,bA=_n.unstable_getCurrentPriorityLevel,sg=_n.unstable_ImmediatePriority,L1=_n.unstable_UserBlockingPriority,Su=_n.unstable_NormalPriority,CA=_n.unstable_LowPriority,F1=_n.unstable_IdlePriority,kd=null,ir=null;function IA(e){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(kd,e,void 0,(e.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:kA,AA=Math.log,RA=Math.LN2;function kA(e){return e>>>=0,e===0?32:31-(AA(e)/RA|0)|0}var vc=64,_c=4194304;function ma(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=ma(a):(s&=i,s!==0&&(r=ma(s)))}else i=n&~o,i!==0?r=ma(i):s!==0&&(r=ma(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Un(t),o=1<<n,r|=e[n],t&=~o;return r}function PA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $A(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Un(s),a=1<<i,l=o[i];l===-1?(!(a&n)||a&r)&&(o[i]=PA(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function vp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function j1(){var e=vc;return vc<<=1,!(vc&4194240)&&(vc=64),e}function Zf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ul(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Un(t),e[t]=n}function NA(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Un(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function ig(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Un(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var De=0;function U1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var B1,ag,z1,W1,H1,_p=!1,wc=[],oo=null,so=null,io=null,za=new Map,Wa=new Map,Yr=[],DA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hv(e,t){switch(e){case"focusin":case"focusout":oo=null;break;case"dragenter":case"dragleave":so=null;break;case"mouseover":case"mouseout":io=null;break;case"pointerover":case"pointerout":za.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wa.delete(t.pointerId)}}function ta(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=zl(t),t!==null&&ag(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function OA(e,t,n,r,o){switch(t){case"focusin":return oo=ta(oo,e,t,n,r,o),!0;case"dragenter":return so=ta(so,e,t,n,r,o),!0;case"mouseover":return io=ta(io,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return za.set(s,ta(za.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Wa.set(s,ta(Wa.get(s)||null,e,t,n,r,o)),!0}return!1}function q1(e){var t=zo(e.target);if(t!==null){var n=vs(t);if(n!==null){if(t=n.tag,t===13){if(t=D1(n),t!==null){e.blockedOn=t,H1(e.priority,function(){z1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pp=r,n.target.dispatchEvent(r),pp=null}else return t=zl(n),t!==null&&ag(t),e.blockedOn=n,!1;t.shift()}return!0}function qv(e,t,n){tu(e)&&n.delete(t)}function MA(){_p=!1,oo!==null&&tu(oo)&&(oo=null),so!==null&&tu(so)&&(so=null),io!==null&&tu(io)&&(io=null),za.forEach(qv),Wa.forEach(qv)}function na(e,t){e.blockedOn===t&&(e.blockedOn=null,_p||(_p=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,MA)))}function Ha(e){function t(o){return na(o,e)}if(0<wc.length){na(wc[0],e);for(var n=1;n<wc.length;n++){var r=wc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(oo!==null&&na(oo,e),so!==null&&na(so,e),io!==null&&na(io,e),za.forEach(t),Wa.forEach(t),n=0;n<Yr.length;n++)r=Yr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Yr.length&&(n=Yr[0],n.blockedOn===null);)q1(n),n.blockedOn===null&&Yr.shift()}var ri=Br.ReactCurrentBatchConfig,Cu=!0;function VA(e,t,n,r){var o=De,s=ri.transition;ri.transition=null;try{De=1,lg(e,t,n,r)}finally{De=o,ri.transition=s}}function LA(e,t,n,r){var o=De,s=ri.transition;ri.transition=null;try{De=4,lg(e,t,n,r)}finally{De=o,ri.transition=s}}function lg(e,t,n,r){if(Cu){var o=wp(e,t,n,r);if(o===null)ih(e,t,r,Iu,n),Hv(e,r);else if(OA(o,e,t,n,r))r.stopPropagation();else if(Hv(e,r),t&4&&-1<DA.indexOf(e)){for(;o!==null;){var s=zl(o);if(s!==null&&B1(s),s=wp(e,t,n,r),s===null&&ih(e,t,r,Iu,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else ih(e,t,r,null,n)}}var Iu=null;function wp(e,t,n,r){if(Iu=null,e=og(r),e=zo(e),e!==null)if(t=vs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=D1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Iu=e,null}function K1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bA()){case sg:return 1;case L1:return 4;case Su:case CA:return 16;case F1:return 536870912;default:return 16}default:return 16}}var eo=null,cg=null,nu=null;function G1(){if(nu)return nu;var e,t=cg,n=t.length,r,o="value"in eo?eo.value:eo.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return nu=o.slice(e,1<r?1-r:void 0)}function ru(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ec(){return!0}function Kv(){return!1}function Sn(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ec:Kv,this.isPropagationStopped=Kv,this}return Je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ec)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ec)},persist:function(){},isPersistent:Ec}),t}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ug=Sn(Vi),Bl=Je({},Vi,{view:0,detail:0}),FA=Sn(Bl),Yf,Xf,ra,Pd=Je({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ra&&(ra&&e.type==="mousemove"?(Yf=e.screenX-ra.screenX,Xf=e.screenY-ra.screenY):Xf=Yf=0,ra=e),Yf)},movementY:function(e){return"movementY"in e?e.movementY:Xf}}),Gv=Sn(Pd),jA=Je({},Pd,{dataTransfer:0}),UA=Sn(jA),BA=Je({},Bl,{relatedTarget:0}),Jf=Sn(BA),zA=Je({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),WA=Sn(zA),HA=Je({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qA=Sn(HA),KA=Je({},Vi,{data:0}),Qv=Sn(KA),GA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ZA[e])?!!t[e]:!1}function dg(){return YA}var XA=Je({},Bl,{key:function(e){if(e.key){var t=GA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ru(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?QA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dg,charCode:function(e){return e.type==="keypress"?ru(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ru(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),JA=Sn(XA),eR=Je({},Pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zv=Sn(eR),tR=Je({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dg}),nR=Sn(tR),rR=Je({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),oR=Sn(rR),sR=Je({},Pd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),iR=Sn(sR),aR=[9,13,27,32],fg=kr&&"CompositionEvent"in window,Ca=null;kr&&"documentMode"in document&&(Ca=document.documentMode);var lR=kr&&"TextEvent"in window&&!Ca,Q1=kr&&(!fg||Ca&&8<Ca&&11>=Ca),Yv=" ",Xv=!1;function Z1(e,t){switch(e){case"keyup":return aR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Us=!1;function cR(e,t){switch(e){case"compositionend":return Y1(t);case"keypress":return t.which!==32?null:(Xv=!0,Yv);case"textInput":return e=t.data,e===Yv&&Xv?null:e;default:return null}}function uR(e,t){if(Us)return e==="compositionend"||!fg&&Z1(e,t)?(e=G1(),nu=cg=eo=null,Us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Q1&&t.locale!=="ko"?null:t.data;default:return null}}var dR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dR[e.type]:t==="textarea"}function X1(e,t,n,r){R1(r),t=Au(t,"onChange"),0<t.length&&(n=new ug("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ia=null,qa=null;function fR(e){cE(e,0)}function $d(e){var t=Ws(e);if(x1(t))return e}function hR(e,t){if(e==="change")return t}var J1=!1;if(kr){var eh;if(kr){var th="oninput"in document;if(!th){var e0=document.createElement("div");e0.setAttribute("oninput","return;"),th=typeof e0.oninput=="function"}eh=th}else eh=!1;J1=eh&&(!document.documentMode||9<document.documentMode)}function t0(){Ia&&(Ia.detachEvent("onpropertychange",eE),qa=Ia=null)}function eE(e){if(e.propertyName==="value"&&$d(qa)){var t=[];X1(t,qa,e,og(e)),N1(fR,t)}}function pR(e,t,n){e==="focusin"?(t0(),Ia=t,qa=n,Ia.attachEvent("onpropertychange",eE)):e==="focusout"&&t0()}function mR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $d(qa)}function gR(e,t){if(e==="click")return $d(t)}function yR(e,t){if(e==="input"||e==="change")return $d(t)}function vR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qn=typeof Object.is=="function"?Object.is:vR;function Ka(e,t){if(qn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!np.call(t,o)||!qn(e[o],t[o]))return!1}return!0}function n0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r0(e,t){var n=n0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=n0(n)}}function tE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nE(){for(var e=window,t=Eu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Eu(e.document)}return t}function hg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _R(e){var t=nE(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&tE(n.ownerDocument.documentElement,n)){if(r!==null&&hg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=r0(n,s);var i=r0(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wR=kr&&"documentMode"in document&&11>=document.documentMode,Bs=null,Ep=null,Aa=null,xp=!1;function o0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xp||Bs==null||Bs!==Eu(r)||(r=Bs,"selectionStart"in r&&hg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Aa&&Ka(Aa,r)||(Aa=r,r=Au(Ep,"onSelect"),0<r.length&&(t=new ug("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Bs)))}function xc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zs={animationend:xc("Animation","AnimationEnd"),animationiteration:xc("Animation","AnimationIteration"),animationstart:xc("Animation","AnimationStart"),transitionend:xc("Transition","TransitionEnd")},nh={},rE={};kr&&(rE=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Nd(e){if(nh[e])return nh[e];if(!zs[e])return e;var t=zs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rE)return nh[e]=t[n];return e}var oE=Nd("animationend"),sE=Nd("animationiteration"),iE=Nd("animationstart"),aE=Nd("transitionend"),lE=new Map,s0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Po(e,t){lE.set(e,t),ys(t,[e])}for(var rh=0;rh<s0.length;rh++){var oh=s0[rh],ER=oh.toLowerCase(),xR=oh[0].toUpperCase()+oh.slice(1);Po(ER,"on"+xR)}Po(oE,"onAnimationEnd");Po(sE,"onAnimationIteration");Po(iE,"onAnimationStart");Po("dblclick","onDoubleClick");Po("focusin","onFocus");Po("focusout","onBlur");Po(aE,"onTransitionEnd");pi("onMouseEnter",["mouseout","mouseover"]);pi("onMouseLeave",["mouseout","mouseover"]);pi("onPointerEnter",["pointerout","pointerover"]);pi("onPointerLeave",["pointerout","pointerover"]);ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TR=new Set("cancel close invalid load scroll toggle".split(" ").concat(ga));function i0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,EA(r,t,void 0,e),e.currentTarget=null}function cE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;i0(o,a,c),s=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;i0(o,a,c),s=l}}}if(Tu)throw e=yp,Tu=!1,yp=null,e}function Be(e,t){var n=t[Ip];n===void 0&&(n=t[Ip]=new Set);var r=e+"__bubble";n.has(r)||(uE(t,e,2,!1),n.add(r))}function sh(e,t,n){var r=0;t&&(r|=4),uE(n,e,r,t)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function Ga(e){if(!e[Tc]){e[Tc]=!0,y1.forEach(function(n){n!=="selectionchange"&&(TR.has(n)||sh(n,!1,e),sh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Tc]||(t[Tc]=!0,sh("selectionchange",!1,t))}}function uE(e,t,n,r){switch(K1(t)){case 1:var o=VA;break;case 4:o=LA;break;default:o=lg}n=o.bind(null,t,n,e),o=void 0,!gp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function ih(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=zo(a),i===null)return;if(l=i.tag,l===5||l===6){r=s=i;continue e}a=a.parentNode}}r=r.return}N1(function(){var c=s,u=og(n),d=[];e:{var h=lE.get(e);if(h!==void 0){var m=ug,v=e;switch(e){case"keypress":if(ru(n)===0)break e;case"keydown":case"keyup":m=JA;break;case"focusin":v="focus",m=Jf;break;case"focusout":v="blur",m=Jf;break;case"beforeblur":case"afterblur":m=Jf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Gv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=UA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=nR;break;case oE:case sE:case iE:m=WA;break;case aE:m=oR;break;case"scroll":m=FA;break;case"wheel":m=iR;break;case"copy":case"cut":case"paste":m=qA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Zv}var y=(t&4)!==0,w=!y&&e==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var p=c,_;p!==null;){_=p;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,g!==null&&(E=Ba(p,g),E!=null&&y.push(Qa(p,E,_)))),w)break;p=p.return}0<y.length&&(h=new m(h,v,null,n,u),d.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==pp&&(v=n.relatedTarget||n.fromElement)&&(zo(v)||v[Pr]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?zo(v):null,v!==null&&(w=vs(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(y=Gv,E="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=Zv,E="onPointerLeave",g="onPointerEnter",p="pointer"),w=m==null?h:Ws(m),_=v==null?h:Ws(v),h=new y(E,p+"leave",m,n,u),h.target=w,h.relatedTarget=_,E=null,zo(u)===c&&(y=new y(g,p+"enter",v,n,u),y.target=_,y.relatedTarget=w,E=y),w=E,m&&v)t:{for(y=m,g=v,p=0,_=y;_;_=Rs(_))p++;for(_=0,E=g;E;E=Rs(E))_++;for(;0<p-_;)y=Rs(y),p--;for(;0<_-p;)g=Rs(g),_--;for(;p--;){if(y===g||g!==null&&y===g.alternate)break t;y=Rs(y),g=Rs(g)}y=null}else y=null;m!==null&&a0(d,h,m,y,!1),v!==null&&w!==null&&a0(d,w,v,y,!0)}}e:{if(h=c?Ws(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var x=hR;else if(Jv(h))if(J1)x=yR;else{x=mR;var b=pR}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=gR);if(x&&(x=x(e,c))){X1(d,x,n,u);break e}b&&b(e,h,c),e==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&cp(h,"number",h.value)}switch(b=c?Ws(c):window,e){case"focusin":(Jv(b)||b.contentEditable==="true")&&(Bs=b,Ep=c,Aa=null);break;case"focusout":Aa=Ep=Bs=null;break;case"mousedown":xp=!0;break;case"contextmenu":case"mouseup":case"dragend":xp=!1,o0(d,n,u);break;case"selectionchange":if(wR)break;case"keydown":case"keyup":o0(d,n,u)}var C;if(fg)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Us?Z1(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Q1&&n.locale!=="ko"&&(Us||I!=="onCompositionStart"?I==="onCompositionEnd"&&Us&&(C=G1()):(eo=u,cg="value"in eo?eo.value:eo.textContent,Us=!0)),b=Au(c,I),0<b.length&&(I=new Qv(I,e,null,n,u),d.push({event:I,listeners:b}),C?I.data=C:(C=Y1(n),C!==null&&(I.data=C)))),(C=lR?cR(e,n):uR(e,n))&&(c=Au(c,"onBeforeInput"),0<c.length&&(u=new Qv("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}cE(d,t)})}function Qa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Au(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Ba(e,n),s!=null&&r.unshift(Qa(e,s,o)),s=Ba(e,t),s!=null&&r.push(Qa(e,s,o))),e=e.return}return r}function Rs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function a0(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=Ba(n,s),l!=null&&i.unshift(Qa(n,l,a))):o||(l=Ba(n,s),l!=null&&i.push(Qa(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var SR=/\r\n?/g,bR=/\u0000|\uFFFD/g;function l0(e){return(typeof e=="string"?e:""+e).replace(SR,`
`).replace(bR,"")}function Sc(e,t,n){if(t=l0(t),l0(e)!==t&&n)throw Error(M(425))}function Ru(){}var Tp=null,Sp=null;function bp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cp=typeof setTimeout=="function"?setTimeout:void 0,CR=typeof clearTimeout=="function"?clearTimeout:void 0,c0=typeof Promise=="function"?Promise:void 0,IR=typeof queueMicrotask=="function"?queueMicrotask:typeof c0<"u"?function(e){return c0.resolve(null).then(e).catch(AR)}:Cp;function AR(e){setTimeout(function(){throw e})}function ah(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Ha(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Ha(t)}function ao(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function u0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Li=Math.random().toString(36).slice(2),er="__reactFiber$"+Li,Za="__reactProps$"+Li,Pr="__reactContainer$"+Li,Ip="__reactEvents$"+Li,RR="__reactListeners$"+Li,kR="__reactHandles$"+Li;function zo(e){var t=e[er];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pr]||n[er]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=u0(e);e!==null;){if(n=e[er])return n;e=u0(e)}return t}e=n,n=e.parentNode}return null}function zl(e){return e=e[er]||e[Pr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ws(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function Dd(e){return e[Za]||null}var Ap=[],Hs=-1;function $o(e){return{current:e}}function He(e){0>Hs||(e.current=Ap[Hs],Ap[Hs]=null,Hs--)}function Le(e,t){Hs++,Ap[Hs]=e.current,e.current=t}var vo={},Ut=$o(vo),rn=$o(!1),ts=vo;function mi(e,t){var n=e.type.contextTypes;if(!n)return vo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function on(e){return e=e.childContextTypes,e!=null}function ku(){He(rn),He(Ut)}function d0(e,t,n){if(Ut.current!==vo)throw Error(M(168));Le(Ut,t),Le(rn,n)}function dE(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(M(108,pA(e)||"Unknown",o));return Je({},n,r)}function Pu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vo,ts=Ut.current,Le(Ut,e),Le(rn,rn.current),!0}function f0(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=dE(e,t,ts),r.__reactInternalMemoizedMergedChildContext=e,He(rn),He(Ut),Le(Ut,e)):He(rn),Le(rn,n)}var xr=null,Od=!1,lh=!1;function fE(e){xr===null?xr=[e]:xr.push(e)}function PR(e){Od=!0,fE(e)}function No(){if(!lh&&xr!==null){lh=!0;var e=0,t=De;try{var n=xr;for(De=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}xr=null,Od=!1}catch(o){throw xr!==null&&(xr=xr.slice(e+1)),V1(sg,No),o}finally{De=t,lh=!1}}return null}var qs=[],Ks=0,$u=null,Nu=0,Cn=[],In=0,ns=null,Sr=1,br="";function Fo(e,t){qs[Ks++]=Nu,qs[Ks++]=$u,$u=e,Nu=t}function hE(e,t,n){Cn[In++]=Sr,Cn[In++]=br,Cn[In++]=ns,ns=e;var r=Sr;e=br;var o=32-Un(r)-1;r&=~(1<<o),n+=1;var s=32-Un(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Sr=1<<32-Un(t)+o|n<<o|r,br=s+e}else Sr=1<<s|n<<o|r,br=e}function pg(e){e.return!==null&&(Fo(e,1),hE(e,1,0))}function mg(e){for(;e===$u;)$u=qs[--Ks],qs[Ks]=null,Nu=qs[--Ks],qs[Ks]=null;for(;e===ns;)ns=Cn[--In],Cn[In]=null,br=Cn[--In],Cn[In]=null,Sr=Cn[--In],Cn[In]=null}var mn=null,fn=null,Qe=!1,Vn=null;function pE(e,t){var n=Rn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function h0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mn=e,fn=ao(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mn=e,fn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ns!==null?{id:Sr,overflow:br}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Rn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mn=e,fn=null,!0):!1;default:return!1}}function Rp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kp(e){if(Qe){var t=fn;if(t){var n=t;if(!h0(e,t)){if(Rp(e))throw Error(M(418));t=ao(n.nextSibling);var r=mn;t&&h0(e,t)?pE(r,n):(e.flags=e.flags&-4097|2,Qe=!1,mn=e)}}else{if(Rp(e))throw Error(M(418));e.flags=e.flags&-4097|2,Qe=!1,mn=e}}}function p0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mn=e}function bc(e){if(e!==mn)return!1;if(!Qe)return p0(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bp(e.type,e.memoizedProps)),t&&(t=fn)){if(Rp(e))throw mE(),Error(M(418));for(;t;)pE(e,t),t=ao(t.nextSibling)}if(p0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){fn=ao(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}fn=null}}else fn=mn?ao(e.stateNode.nextSibling):null;return!0}function mE(){for(var e=fn;e;)e=ao(e.nextSibling)}function gi(){fn=mn=null,Qe=!1}function gg(e){Vn===null?Vn=[e]:Vn.push(e)}var $R=Br.ReactCurrentBatchConfig;function oa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function Cc(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function m0(e){var t=e._init;return t(e._payload)}function gE(e){function t(g,p){if(e){var _=g.deletions;_===null?(g.deletions=[p],g.flags|=16):_.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function o(g,p){return g=fo(g,p),g.index=0,g.sibling=null,g}function s(g,p,_){return g.index=_,e?(_=g.alternate,_!==null?(_=_.index,_<p?(g.flags|=2,p):_):(g.flags|=2,p)):(g.flags|=1048576,p)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,p,_,E){return p===null||p.tag!==6?(p=mh(_,g.mode,E),p.return=g,p):(p=o(p,_),p.return=g,p)}function l(g,p,_,E){var x=_.type;return x===js?u(g,p,_.props.children,E,_.key):p!==null&&(p.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Qr&&m0(x)===p.type)?(E=o(p,_.props),E.ref=oa(g,p,_),E.return=g,E):(E=uu(_.type,_.key,_.props,null,g.mode,E),E.ref=oa(g,p,_),E.return=g,E)}function c(g,p,_,E){return p===null||p.tag!==4||p.stateNode.containerInfo!==_.containerInfo||p.stateNode.implementation!==_.implementation?(p=gh(_,g.mode,E),p.return=g,p):(p=o(p,_.children||[]),p.return=g,p)}function u(g,p,_,E,x){return p===null||p.tag!==7?(p=Xo(_,g.mode,E,x),p.return=g,p):(p=o(p,_),p.return=g,p)}function d(g,p,_){if(typeof p=="string"&&p!==""||typeof p=="number")return p=mh(""+p,g.mode,_),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case mc:return _=uu(p.type,p.key,p.props,null,g.mode,_),_.ref=oa(g,null,p),_.return=g,_;case Fs:return p=gh(p,g.mode,_),p.return=g,p;case Qr:var E=p._init;return d(g,E(p._payload),_)}if(pa(p)||Ji(p))return p=Xo(p,g.mode,_,null),p.return=g,p;Cc(g,p)}return null}function h(g,p,_,E){var x=p!==null?p.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return x!==null?null:a(g,p,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case mc:return _.key===x?l(g,p,_,E):null;case Fs:return _.key===x?c(g,p,_,E):null;case Qr:return x=_._init,h(g,p,x(_._payload),E)}if(pa(_)||Ji(_))return x!==null?null:u(g,p,_,E,null);Cc(g,_)}return null}function m(g,p,_,E,x){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(_)||null,a(p,g,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case mc:return g=g.get(E.key===null?_:E.key)||null,l(p,g,E,x);case Fs:return g=g.get(E.key===null?_:E.key)||null,c(p,g,E,x);case Qr:var b=E._init;return m(g,p,_,b(E._payload),x)}if(pa(E)||Ji(E))return g=g.get(_)||null,u(p,g,E,x,null);Cc(p,E)}return null}function v(g,p,_,E){for(var x=null,b=null,C=p,I=p=0,F=null;C!==null&&I<_.length;I++){C.index>I?(F=C,C=null):F=C.sibling;var V=h(g,C,_[I],E);if(V===null){C===null&&(C=F);break}e&&C&&V.alternate===null&&t(g,C),p=s(V,p,I),b===null?x=V:b.sibling=V,b=V,C=F}if(I===_.length)return n(g,C),Qe&&Fo(g,I),x;if(C===null){for(;I<_.length;I++)C=d(g,_[I],E),C!==null&&(p=s(C,p,I),b===null?x=C:b.sibling=C,b=C);return Qe&&Fo(g,I),x}for(C=r(g,C);I<_.length;I++)F=m(C,g,I,_[I],E),F!==null&&(e&&F.alternate!==null&&C.delete(F.key===null?I:F.key),p=s(F,p,I),b===null?x=F:b.sibling=F,b=F);return e&&C.forEach(function(oe){return t(g,oe)}),Qe&&Fo(g,I),x}function y(g,p,_,E){var x=Ji(_);if(typeof x!="function")throw Error(M(150));if(_=x.call(_),_==null)throw Error(M(151));for(var b=x=null,C=p,I=p=0,F=null,V=_.next();C!==null&&!V.done;I++,V=_.next()){C.index>I?(F=C,C=null):F=C.sibling;var oe=h(g,C,V.value,E);if(oe===null){C===null&&(C=F);break}e&&C&&oe.alternate===null&&t(g,C),p=s(oe,p,I),b===null?x=oe:b.sibling=oe,b=oe,C=F}if(V.done)return n(g,C),Qe&&Fo(g,I),x;if(C===null){for(;!V.done;I++,V=_.next())V=d(g,V.value,E),V!==null&&(p=s(V,p,I),b===null?x=V:b.sibling=V,b=V);return Qe&&Fo(g,I),x}for(C=r(g,C);!V.done;I++,V=_.next())V=m(C,g,I,V.value,E),V!==null&&(e&&V.alternate!==null&&C.delete(V.key===null?I:V.key),p=s(V,p,I),b===null?x=V:b.sibling=V,b=V);return e&&C.forEach(function(P){return t(g,P)}),Qe&&Fo(g,I),x}function w(g,p,_,E){if(typeof _=="object"&&_!==null&&_.type===js&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case mc:e:{for(var x=_.key,b=p;b!==null;){if(b.key===x){if(x=_.type,x===js){if(b.tag===7){n(g,b.sibling),p=o(b,_.props.children),p.return=g,g=p;break e}}else if(b.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Qr&&m0(x)===b.type){n(g,b.sibling),p=o(b,_.props),p.ref=oa(g,b,_),p.return=g,g=p;break e}n(g,b);break}else t(g,b);b=b.sibling}_.type===js?(p=Xo(_.props.children,g.mode,E,_.key),p.return=g,g=p):(E=uu(_.type,_.key,_.props,null,g.mode,E),E.ref=oa(g,p,_),E.return=g,g=E)}return i(g);case Fs:e:{for(b=_.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===_.containerInfo&&p.stateNode.implementation===_.implementation){n(g,p.sibling),p=o(p,_.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=gh(_,g.mode,E),p.return=g,g=p}return i(g);case Qr:return b=_._init,w(g,p,b(_._payload),E)}if(pa(_))return v(g,p,_,E);if(Ji(_))return y(g,p,_,E);Cc(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,p!==null&&p.tag===6?(n(g,p.sibling),p=o(p,_),p.return=g,g=p):(n(g,p),p=mh(_,g.mode,E),p.return=g,g=p),i(g)):n(g,p)}return w}var yi=gE(!0),yE=gE(!1),Du=$o(null),Ou=null,Gs=null,yg=null;function vg(){yg=Gs=Ou=null}function _g(e){var t=Du.current;He(Du),e._currentValue=t}function Pp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function oi(e,t){Ou=e,yg=Gs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nn=!0),e.firstContext=null)}function Pn(e){var t=e._currentValue;if(yg!==e)if(e={context:e,memoizedValue:t,next:null},Gs===null){if(Ou===null)throw Error(M(308));Gs=e,Ou.dependencies={lanes:0,firstContext:e}}else Gs=Gs.next=e;return t}var Wo=null;function wg(e){Wo===null?Wo=[e]:Wo.push(e)}function vE(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,wg(t)):(n.next=o.next,o.next=n),t.interleaved=n,$r(e,r)}function $r(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zr=!1;function Eg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _E(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ir(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,$r(e,n)}return o=r.interleaved,o===null?(t.next=t,wg(r)):(t.next=o.next,o.next=t),r.interleaved=t,$r(e,n)}function ou(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ig(e,n)}}function g0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mu(e,t,n,r){var o=e.updateQueue;Zr=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==i&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=o.baseState;i=0,u=c=l=null,a=s;do{var h=a.lane,m=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,y=a;switch(h=t,m=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(m,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(m,d,h):v,h==null)break e;d=Je({},d,h);break e;case 2:Zr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,i|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(u===null&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);os|=i,e.lanes=i,e.memoizedState=d}}function y0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(M(191,o));o.call(r)}}}var Wl={},ar=$o(Wl),Ya=$o(Wl),Xa=$o(Wl);function Ho(e){if(e===Wl)throw Error(M(174));return e}function xg(e,t){switch(Le(Xa,t),Le(Ya,e),Le(ar,Wl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dp(t,e)}He(ar),Le(ar,t)}function vi(){He(ar),He(Ya),He(Xa)}function wE(e){Ho(Xa.current);var t=Ho(ar.current),n=dp(t,e.type);t!==n&&(Le(Ya,e),Le(ar,n))}function Tg(e){Ya.current===e&&(He(ar),He(Ya))}var Ye=$o(0);function Vu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ch=[];function Sg(){for(var e=0;e<ch.length;e++)ch[e]._workInProgressVersionPrimary=null;ch.length=0}var su=Br.ReactCurrentDispatcher,uh=Br.ReactCurrentBatchConfig,rs=0,Xe=null,dt=null,vt=null,Lu=!1,Ra=!1,Ja=0,NR=0;function Nt(){throw Error(M(321))}function bg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qn(e[n],t[n]))return!1;return!0}function Cg(e,t,n,r,o,s){if(rs=s,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,su.current=e===null||e.memoizedState===null?VR:LR,e=n(r,o),Ra){s=0;do{if(Ra=!1,Ja=0,25<=s)throw Error(M(301));s+=1,vt=dt=null,t.updateQueue=null,su.current=FR,e=n(r,o)}while(Ra)}if(su.current=Fu,t=dt!==null&&dt.next!==null,rs=0,vt=dt=Xe=null,Lu=!1,t)throw Error(M(300));return e}function Ig(){var e=Ja!==0;return Ja=0,e}function Jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Xe.memoizedState=vt=e:vt=vt.next=e,vt}function $n(){if(dt===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=vt===null?Xe.memoizedState:vt.next;if(t!==null)vt=t,dt=e;else{if(e===null)throw Error(M(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},vt===null?Xe.memoizedState=vt=e:vt=vt.next=e}return vt}function el(e,t){return typeof t=="function"?t(e):t}function dh(e){var t=$n(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=dt,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,l=null,c=s;do{var u=c.lane;if((rs&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,i=r):l=l.next=d,Xe.lanes|=u,os|=u}c=c.next}while(c!==null&&c!==s);l===null?i=r:l.next=a,qn(r,t.memoizedState)||(nn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,Xe.lanes|=s,os|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fh(e){var t=$n(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);qn(s,t.memoizedState)||(nn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function EE(){}function xE(e,t){var n=Xe,r=$n(),o=t(),s=!qn(r.memoizedState,o);if(s&&(r.memoizedState=o,nn=!0),r=r.queue,Ag(bE.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,tl(9,SE.bind(null,n,r,o,t),void 0,null),_t===null)throw Error(M(349));rs&30||TE(n,t,o)}return o}function TE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function SE(e,t,n,r){t.value=n,t.getSnapshot=r,CE(t)&&IE(e)}function bE(e,t,n){return n(function(){CE(t)&&IE(e)})}function CE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qn(e,n)}catch{return!0}}function IE(e){var t=$r(e,1);t!==null&&Bn(t,e,1,-1)}function v0(e){var t=Jn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:e},t.queue=e,e=e.dispatch=MR.bind(null,Xe,e),[t.memoizedState,e]}function tl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function AE(){return $n().memoizedState}function iu(e,t,n,r){var o=Jn();Xe.flags|=e,o.memoizedState=tl(1|t,n,void 0,r===void 0?null:r)}function Md(e,t,n,r){var o=$n();r=r===void 0?null:r;var s=void 0;if(dt!==null){var i=dt.memoizedState;if(s=i.destroy,r!==null&&bg(r,i.deps)){o.memoizedState=tl(t,n,s,r);return}}Xe.flags|=e,o.memoizedState=tl(1|t,n,s,r)}function _0(e,t){return iu(8390656,8,e,t)}function Ag(e,t){return Md(2048,8,e,t)}function RE(e,t){return Md(4,2,e,t)}function kE(e,t){return Md(4,4,e,t)}function PE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $E(e,t,n){return n=n!=null?n.concat([e]):null,Md(4,4,PE.bind(null,t,e),n)}function Rg(){}function NE(e,t){var n=$n();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function DE(e,t){var n=$n();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function OE(e,t,n){return rs&21?(qn(n,t)||(n=j1(),Xe.lanes|=n,os|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nn=!0),e.memoizedState=n)}function DR(e,t){var n=De;De=n!==0&&4>n?n:4,e(!0);var r=uh.transition;uh.transition={};try{e(!1),t()}finally{De=n,uh.transition=r}}function ME(){return $n().memoizedState}function OR(e,t,n){var r=uo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},VE(e))LE(t,n);else if(n=vE(e,t,n,r),n!==null){var o=Kt();Bn(n,e,r,o),FE(n,t,r)}}function MR(e,t,n){var r=uo(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(VE(e))LE(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,qn(a,i)){var l=t.interleaved;l===null?(o.next=o,wg(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=vE(e,t,o,r),n!==null&&(o=Kt(),Bn(n,e,r,o),FE(n,t,r))}}function VE(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function LE(e,t){Ra=Lu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function FE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ig(e,n)}}var Fu={readContext:Pn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},VR={readContext:Pn,useCallback:function(e,t){return Jn().memoizedState=[e,t===void 0?null:t],e},useContext:Pn,useEffect:_0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,iu(4194308,4,PE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return iu(4194308,4,e,t)},useInsertionEffect:function(e,t){return iu(4,2,e,t)},useMemo:function(e,t){var n=Jn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Jn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=OR.bind(null,Xe,e),[r.memoizedState,e]},useRef:function(e){var t=Jn();return e={current:e},t.memoizedState=e},useState:v0,useDebugValue:Rg,useDeferredValue:function(e){return Jn().memoizedState=e},useTransition:function(){var e=v0(!1),t=e[0];return e=DR.bind(null,e[1]),Jn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xe,o=Jn();if(Qe){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),_t===null)throw Error(M(349));rs&30||TE(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,_0(bE.bind(null,r,s,e),[e]),r.flags|=2048,tl(9,SE.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Jn(),t=_t.identifierPrefix;if(Qe){var n=br,r=Sr;n=(r&~(1<<32-Un(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ja++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=NR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},LR={readContext:Pn,useCallback:NE,useContext:Pn,useEffect:Ag,useImperativeHandle:$E,useInsertionEffect:RE,useLayoutEffect:kE,useMemo:DE,useReducer:dh,useRef:AE,useState:function(){return dh(el)},useDebugValue:Rg,useDeferredValue:function(e){var t=$n();return OE(t,dt.memoizedState,e)},useTransition:function(){var e=dh(el)[0],t=$n().memoizedState;return[e,t]},useMutableSource:EE,useSyncExternalStore:xE,useId:ME,unstable_isNewReconciler:!1},FR={readContext:Pn,useCallback:NE,useContext:Pn,useEffect:Ag,useImperativeHandle:$E,useInsertionEffect:RE,useLayoutEffect:kE,useMemo:DE,useReducer:fh,useRef:AE,useState:function(){return fh(el)},useDebugValue:Rg,useDeferredValue:function(e){var t=$n();return dt===null?t.memoizedState=e:OE(t,dt.memoizedState,e)},useTransition:function(){var e=fh(el)[0],t=$n().memoizedState;return[e,t]},useMutableSource:EE,useSyncExternalStore:xE,useId:ME,unstable_isNewReconciler:!1};function On(e,t){if(e&&e.defaultProps){t=Je({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function $p(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Je({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vd={isMounted:function(e){return(e=e._reactInternals)?vs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kt(),o=uo(e),s=Ir(r,o);s.payload=t,n!=null&&(s.callback=n),t=lo(e,s,o),t!==null&&(Bn(t,e,o,r),ou(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kt(),o=uo(e),s=Ir(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=lo(e,s,o),t!==null&&(Bn(t,e,o,r),ou(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kt(),r=uo(e),o=Ir(n,r);o.tag=2,t!=null&&(o.callback=t),t=lo(e,o,r),t!==null&&(Bn(t,e,r,n),ou(t,e,r))}};function w0(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!Ka(n,r)||!Ka(o,s):!0}function jE(e,t,n){var r=!1,o=vo,s=t.contextType;return typeof s=="object"&&s!==null?s=Pn(s):(o=on(t)?ts:Ut.current,r=t.contextTypes,s=(r=r!=null)?mi(e,o):vo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function E0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vd.enqueueReplaceState(t,t.state,null)}function Np(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Eg(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=Pn(s):(s=on(t)?ts:Ut.current,o.context=mi(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&($p(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Vd.enqueueReplaceState(o,o.state,null),Mu(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function _i(e,t){try{var n="",r=t;do n+=hA(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function hh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Dp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var jR=typeof WeakMap=="function"?WeakMap:Map;function UE(e,t,n){n=Ir(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Uu||(Uu=!0,Wp=r),Dp(e,t)},n}function BE(e,t,n){n=Ir(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Dp(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Dp(e,t),typeof r!="function"&&(co===null?co=new Set([this]):co.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function x0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new jR;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=ek.bind(null,e,t,n),t.then(e,e))}function T0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function S0(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ir(-1,1),t.tag=2,lo(n,t,1))),n.lanes|=1),e)}var UR=Br.ReactCurrentOwner,nn=!1;function Wt(e,t,n,r){t.child=e===null?yE(t,null,n,r):yi(t,e.child,n,r)}function b0(e,t,n,r,o){n=n.render;var s=t.ref;return oi(t,o),r=Cg(e,t,n,r,s,o),n=Ig(),e!==null&&!nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Nr(e,t,o)):(Qe&&n&&pg(t),t.flags|=1,Wt(e,t,r,o),t.child)}function C0(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!Vg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,zE(e,t,s,r,o)):(e=uu(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ka,n(i,r)&&e.ref===t.ref)return Nr(e,t,o)}return t.flags|=1,e=fo(s,r),e.ref=t.ref,e.return=t,t.child=e}function zE(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(Ka(s,r)&&e.ref===t.ref)if(nn=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(nn=!0);else return t.lanes=e.lanes,Nr(e,t,o)}return Op(e,t,n,r,o)}function WE(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Zs,un),un|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(Zs,un),un|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Le(Zs,un),un|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Le(Zs,un),un|=r;return Wt(e,t,o,n),t.child}function HE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Op(e,t,n,r,o){var s=on(n)?ts:Ut.current;return s=mi(t,s),oi(t,o),n=Cg(e,t,n,r,s,o),r=Ig(),e!==null&&!nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Nr(e,t,o)):(Qe&&r&&pg(t),t.flags|=1,Wt(e,t,n,o),t.child)}function I0(e,t,n,r,o){if(on(n)){var s=!0;Pu(t)}else s=!1;if(oi(t,o),t.stateNode===null)au(e,t),jE(t,n,r),Np(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Pn(c):(c=on(n)?ts:Ut.current,c=mi(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&E0(t,i,r,c),Zr=!1;var h=t.memoizedState;i.state=h,Mu(t,r,i,o),l=t.memoizedState,a!==r||h!==l||rn.current||Zr?(typeof u=="function"&&($p(t,n,u,r),l=t.memoizedState),(a=Zr||w0(t,n,a,r,h,l,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,_E(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:On(t.type,a),i.props=c,d=t.pendingProps,h=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Pn(l):(l=on(n)?ts:Ut.current,l=mi(t,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==d||h!==l)&&E0(t,i,r,l),Zr=!1,h=t.memoizedState,i.state=h,Mu(t,r,i,o);var v=t.memoizedState;a!==d||h!==v||rn.current||Zr?(typeof m=="function"&&($p(t,n,m,r),v=t.memoizedState),(c=Zr||w0(t,n,c,r,h,v,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),i.props=r,i.state=v,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Mp(e,t,n,r,s,o)}function Mp(e,t,n,r,o,s){HE(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&f0(t,n,!1),Nr(e,t,s);r=t.stateNode,UR.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=yi(t,e.child,null,s),t.child=yi(t,null,a,s)):Wt(e,t,a,s),t.memoizedState=r.state,o&&f0(t,n,!0),t.child}function qE(e){var t=e.stateNode;t.pendingContext?d0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&d0(e,t.context,!1),xg(e,t.containerInfo)}function A0(e,t,n,r,o){return gi(),gg(o),t.flags|=256,Wt(e,t,n,r),t.child}var Vp={dehydrated:null,treeContext:null,retryLane:0};function Lp(e){return{baseLanes:e,cachePool:null,transitions:null}}function KE(e,t,n){var r=t.pendingProps,o=Ye.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Le(Ye,o&1),e===null)return kp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=jd(i,r,0,null),e=Xo(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Lp(n),t.memoizedState=Vp,e):kg(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return BR(e,t,i,r,a,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=fo(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=fo(a,s):(s=Xo(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?Lp(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=Vp,r}return s=e.child,e=s.sibling,r=fo(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function kg(e,t){return t=jd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ic(e,t,n,r){return r!==null&&gg(r),yi(t,e.child,null,n),e=kg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function BR(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=hh(Error(M(422))),Ic(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=jd({mode:"visible",children:r.children},o,0,null),s=Xo(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&yi(t,e.child,null,i),t.child.memoizedState=Lp(i),t.memoizedState=Vp,s);if(!(t.mode&1))return Ic(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(M(419)),r=hh(s,r,void 0),Ic(e,t,i,r)}if(a=(i&e.childLanes)!==0,nn||a){if(r=_t,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,$r(e,o),Bn(r,e,o,-1))}return Mg(),r=hh(Error(M(421))),Ic(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=tk.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,fn=ao(o.nextSibling),mn=t,Qe=!0,Vn=null,e!==null&&(Cn[In++]=Sr,Cn[In++]=br,Cn[In++]=ns,Sr=e.id,br=e.overflow,ns=t),t=kg(t,r.children),t.flags|=4096,t)}function R0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Pp(e.return,t,n)}function ph(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function GE(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Wt(e,t,r.children,n),r=Ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&R0(e,n,t);else if(e.tag===19)R0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Le(Ye,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Vu(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ph(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Vu(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ph(t,!0,n,null,s);break;case"together":ph(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function au(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),os|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=fo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function zR(e,t,n){switch(t.tag){case 3:qE(t),gi();break;case 5:wE(t);break;case 1:on(t.type)&&Pu(t);break;case 4:xg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Le(Du,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Le(Ye,Ye.current&1),t.flags|=128,null):n&t.child.childLanes?KE(e,t,n):(Le(Ye,Ye.current&1),e=Nr(e,t,n),e!==null?e.sibling:null);Le(Ye,Ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return GE(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Le(Ye,Ye.current),r)break;return null;case 22:case 23:return t.lanes=0,WE(e,t,n)}return Nr(e,t,n)}var QE,Fp,ZE,YE;QE=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fp=function(){};ZE=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ho(ar.current);var s=null;switch(n){case"input":o=ap(e,o),r=ap(e,r),s=[];break;case"select":o=Je({},o,{value:void 0}),r=Je({},r,{value:void 0}),s=[];break;case"textarea":o=up(e,o),r=up(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ru)}fp(n,r);var i;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ja.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ja.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Be("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};YE=function(e,t,n,r){n!==r&&(t.flags|=4)};function sa(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function WR(e,t,n){var r=t.pendingProps;switch(mg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(t),null;case 1:return on(t.type)&&ku(),Dt(t),null;case 3:return r=t.stateNode,vi(),He(rn),He(Ut),Sg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(bc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vn!==null&&(Kp(Vn),Vn=null))),Fp(e,t),Dt(t),null;case 5:Tg(t);var o=Ho(Xa.current);if(n=t.type,e!==null&&t.stateNode!=null)ZE(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return Dt(t),null}if(e=Ho(ar.current),bc(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[er]=t,r[Za]=s,e=(t.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(o=0;o<ga.length;o++)Be(ga[o],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Lv(r,s),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Be("invalid",r);break;case"textarea":jv(r,s),Be("invalid",r)}fp(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Sc(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Sc(r.textContent,a,e),o=["children",""+a]):ja.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Be("scroll",r)}switch(n){case"input":gc(r),Fv(r,s,!0);break;case"textarea":gc(r),Uv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ru)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=b1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[er]=t,e[Za]=r,QE(e,t,!1,!1),t.stateNode=e;e:{switch(i=hp(n,r),n){case"dialog":Be("cancel",e),Be("close",e),o=r;break;case"iframe":case"object":case"embed":Be("load",e),o=r;break;case"video":case"audio":for(o=0;o<ga.length;o++)Be(ga[o],e);o=r;break;case"source":Be("error",e),o=r;break;case"img":case"image":case"link":Be("error",e),Be("load",e),o=r;break;case"details":Be("toggle",e),o=r;break;case"input":Lv(e,r),o=ap(e,r),Be("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Je({},r,{value:void 0}),Be("invalid",e);break;case"textarea":jv(e,r),o=up(e,r),Be("invalid",e);break;default:o=r}fp(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?A1(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&C1(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ua(e,l):typeof l=="number"&&Ua(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ja.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Be("scroll",e):l!=null&&eg(e,s,l,i))}switch(n){case"input":gc(e),Fv(e,r,!1);break;case"textarea":gc(e),Uv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+yo(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ei(e,!!r.multiple,s,!1):r.defaultValue!=null&&ei(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ru)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Dt(t),null;case 6:if(e&&t.stateNode!=null)YE(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=Ho(Xa.current),Ho(ar.current),bc(t)){if(r=t.stateNode,n=t.memoizedProps,r[er]=t,(s=r.nodeValue!==n)&&(e=mn,e!==null))switch(e.tag){case 3:Sc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Sc(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[er]=t,t.stateNode=r}return Dt(t),null;case 13:if(He(Ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&fn!==null&&t.mode&1&&!(t.flags&128))mE(),gi(),t.flags|=98560,s=!1;else if(s=bc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(M(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(M(317));s[er]=t}else gi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Dt(t),s=!1}else Vn!==null&&(Kp(Vn),Vn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?ft===0&&(ft=3):Mg())),t.updateQueue!==null&&(t.flags|=4),Dt(t),null);case 4:return vi(),Fp(e,t),e===null&&Ga(t.stateNode.containerInfo),Dt(t),null;case 10:return _g(t.type._context),Dt(t),null;case 17:return on(t.type)&&ku(),Dt(t),null;case 19:if(He(Ye),s=t.memoizedState,s===null)return Dt(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)sa(s,!1);else{if(ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Vu(e),i!==null){for(t.flags|=128,sa(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Le(Ye,Ye.current&1|2),t.child}e=e.sibling}s.tail!==null&&ot()>wi&&(t.flags|=128,r=!0,sa(s,!1),t.lanes=4194304)}else{if(!r)if(e=Vu(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),sa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Qe)return Dt(t),null}else 2*ot()-s.renderingStartTime>wi&&n!==1073741824&&(t.flags|=128,r=!0,sa(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ot(),t.sibling=null,n=Ye.current,Le(Ye,r?n&1|2:n&1),t):(Dt(t),null);case 22:case 23:return Og(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?un&1073741824&&(Dt(t),t.subtreeFlags&6&&(t.flags|=8192)):Dt(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function HR(e,t){switch(mg(t),t.tag){case 1:return on(t.type)&&ku(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vi(),He(rn),He(Ut),Sg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Tg(t),null;case 13:if(He(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));gi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(Ye),null;case 4:return vi(),null;case 10:return _g(t.type._context),null;case 22:case 23:return Og(),null;case 24:return null;default:return null}}var Ac=!1,Vt=!1,qR=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Qs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(e,t,r)}else n.current=null}function jp(e,t,n){try{n()}catch(r){tt(e,t,r)}}var k0=!1;function KR(e,t){if(Tp=Cu,e=nE(),hg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var m;d!==n||o!==0&&d.nodeType!==3||(a=i+o),d!==s||r!==0&&d.nodeType!==3||(l=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===n&&++c===o&&(a=i),h===s&&++u===r&&(l=i),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sp={focusedElem:e,selectionRange:n},Cu=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:On(t.type,y),w);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(E){tt(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return v=k0,k0=!1,v}function ka(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&jp(t,n,s)}o=o.next}while(o!==r)}}function Ld(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Up(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function XE(e){var t=e.alternate;t!==null&&(e.alternate=null,XE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[er],delete t[Za],delete t[Ip],delete t[RR],delete t[kR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function JE(e){return e.tag===5||e.tag===3||e.tag===4}function P0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||JE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ru));else if(r!==4&&(e=e.child,e!==null))for(Bp(e,t,n),e=e.sibling;e!==null;)Bp(e,t,n),e=e.sibling}function zp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(zp(e,t,n),e=e.sibling;e!==null;)zp(e,t,n),e=e.sibling}var Tt=null,Mn=!1;function Hr(e,t,n){for(n=n.child;n!==null;)ex(e,t,n),n=n.sibling}function ex(e,t,n){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(kd,n)}catch{}switch(n.tag){case 5:Vt||Qs(n,t);case 6:var r=Tt,o=Mn;Tt=null,Hr(e,t,n),Tt=r,Mn=o,Tt!==null&&(Mn?(e=Tt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(Mn?(e=Tt,n=n.stateNode,e.nodeType===8?ah(e.parentNode,n):e.nodeType===1&&ah(e,n),Ha(e)):ah(Tt,n.stateNode));break;case 4:r=Tt,o=Mn,Tt=n.stateNode.containerInfo,Mn=!0,Hr(e,t,n),Tt=r,Mn=o;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&jp(n,t,i),o=o.next}while(o!==r)}Hr(e,t,n);break;case 1:if(!Vt&&(Qs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tt(n,t,a)}Hr(e,t,n);break;case 21:Hr(e,t,n);break;case 22:n.mode&1?(Vt=(r=Vt)||n.memoizedState!==null,Hr(e,t,n),Vt=r):Hr(e,t,n);break;default:Hr(e,t,n)}}function $0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new qR),t.forEach(function(r){var o=nk.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Dn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Tt=a.stateNode,Mn=!1;break e;case 3:Tt=a.stateNode.containerInfo,Mn=!0;break e;case 4:Tt=a.stateNode.containerInfo,Mn=!0;break e}a=a.return}if(Tt===null)throw Error(M(160));ex(s,i,o),Tt=null,Mn=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){tt(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tx(t,e),t=t.sibling}function tx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dn(t,e),Xn(e),r&4){try{ka(3,e,e.return),Ld(3,e)}catch(y){tt(e,e.return,y)}try{ka(5,e,e.return)}catch(y){tt(e,e.return,y)}}break;case 1:Dn(t,e),Xn(e),r&512&&n!==null&&Qs(n,n.return);break;case 5:if(Dn(t,e),Xn(e),r&512&&n!==null&&Qs(n,n.return),e.flags&32){var o=e.stateNode;try{Ua(o,"")}catch(y){tt(e,e.return,y)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&T1(o,s),hp(a,i);var c=hp(a,s);for(i=0;i<l.length;i+=2){var u=l[i],d=l[i+1];u==="style"?A1(o,d):u==="dangerouslySetInnerHTML"?C1(o,d):u==="children"?Ua(o,d):eg(o,u,d,c)}switch(a){case"input":lp(o,s);break;case"textarea":S1(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ei(o,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?ei(o,!!s.multiple,s.defaultValue,!0):ei(o,!!s.multiple,s.multiple?[]:"",!1))}o[Za]=s}catch(y){tt(e,e.return,y)}}break;case 6:if(Dn(t,e),Xn(e),r&4){if(e.stateNode===null)throw Error(M(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(y){tt(e,e.return,y)}}break;case 3:if(Dn(t,e),Xn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ha(t.containerInfo)}catch(y){tt(e,e.return,y)}break;case 4:Dn(t,e),Xn(e);break;case 13:Dn(t,e),Xn(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Ng=ot())),r&4&&$0(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Vt=(c=Vt)||u,Dn(t,e),Vt=c):Dn(t,e),Xn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Z=e,u=e.child;u!==null;){for(d=Z=u;Z!==null;){switch(h=Z,m=h.child,h.tag){case 0:case 11:case 14:case 15:ka(4,h,h.return);break;case 1:Qs(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){tt(r,n,y)}}break;case 5:Qs(h,h.return);break;case 22:if(h.memoizedState!==null){D0(d);continue}}m!==null?(m.return=h,Z=m):D0(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{o=d.stateNode,c?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=I1("display",i))}catch(y){tt(e,e.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){tt(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Dn(t,e),Xn(e),r&4&&$0(e);break;case 21:break;default:Dn(t,e),Xn(e)}}function Xn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(JE(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ua(o,""),r.flags&=-33);var s=P0(e);zp(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=P0(e);Bp(e,a,i);break;default:throw Error(M(161))}}catch(l){tt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function GR(e,t,n){Z=e,nx(e)}function nx(e,t,n){for(var r=(e.mode&1)!==0;Z!==null;){var o=Z,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||Ac;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Vt;a=Ac;var c=Vt;if(Ac=i,(Vt=l)&&!c)for(Z=o;Z!==null;)i=Z,l=i.child,i.tag===22&&i.memoizedState!==null?O0(o):l!==null?(l.return=i,Z=l):O0(o);for(;s!==null;)Z=s,nx(s),s=s.sibling;Z=o,Ac=a,Vt=c}N0(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,Z=s):N0(e)}}function N0(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vt||Ld(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Vt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:On(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&y0(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}y0(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ha(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Vt||t.flags&512&&Up(t)}catch(h){tt(t,t.return,h)}}if(t===e){Z=null;break}if(n=t.sibling,n!==null){n.return=t.return,Z=n;break}Z=t.return}}function D0(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Z=n;break}Z=t.return}}function O0(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ld(4,t)}catch(l){tt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){tt(t,o,l)}}var s=t.return;try{Up(t)}catch(l){tt(t,s,l)}break;case 5:var i=t.return;try{Up(t)}catch(l){tt(t,i,l)}}}catch(l){tt(t,t.return,l)}if(t===e){Z=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Z=a;break}Z=t.return}}var QR=Math.ceil,ju=Br.ReactCurrentDispatcher,Pg=Br.ReactCurrentOwner,kn=Br.ReactCurrentBatchConfig,Se=0,_t=null,lt=null,It=0,un=0,Zs=$o(0),ft=0,nl=null,os=0,Fd=0,$g=0,Pa=null,en=null,Ng=0,wi=1/0,wr=null,Uu=!1,Wp=null,co=null,Rc=!1,to=null,Bu=0,$a=0,Hp=null,lu=-1,cu=0;function Kt(){return Se&6?ot():lu!==-1?lu:lu=ot()}function uo(e){return e.mode&1?Se&2&&It!==0?It&-It:$R.transition!==null?(cu===0&&(cu=j1()),cu):(e=De,e!==0||(e=window.event,e=e===void 0?16:K1(e.type)),e):1}function Bn(e,t,n,r){if(50<$a)throw $a=0,Hp=null,Error(M(185));Ul(e,n,r),(!(Se&2)||e!==_t)&&(e===_t&&(!(Se&2)&&(Fd|=n),ft===4&&Xr(e,It)),sn(e,r),n===1&&Se===0&&!(t.mode&1)&&(wi=ot()+500,Od&&No()))}function sn(e,t){var n=e.callbackNode;$A(e,t);var r=bu(e,e===_t?It:0);if(r===0)n!==null&&Wv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Wv(n),t===1)e.tag===0?PR(M0.bind(null,e)):fE(M0.bind(null,e)),IR(function(){!(Se&6)&&No()}),n=null;else{switch(U1(r)){case 1:n=sg;break;case 4:n=L1;break;case 16:n=Su;break;case 536870912:n=F1;break;default:n=Su}n=ux(n,rx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rx(e,t){if(lu=-1,cu=0,Se&6)throw Error(M(327));var n=e.callbackNode;if(si()&&e.callbackNode!==n)return null;var r=bu(e,e===_t?It:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=zu(e,r);else{t=r;var o=Se;Se|=2;var s=sx();(_t!==e||It!==t)&&(wr=null,wi=ot()+500,Yo(e,t));do try{XR();break}catch(a){ox(e,a)}while(!0);vg(),ju.current=s,Se=o,lt!==null?t=0:(_t=null,It=0,t=ft)}if(t!==0){if(t===2&&(o=vp(e),o!==0&&(r=o,t=qp(e,o))),t===1)throw n=nl,Yo(e,0),Xr(e,r),sn(e,ot()),n;if(t===6)Xr(e,r);else{if(o=e.current.alternate,!(r&30)&&!ZR(o)&&(t=zu(e,r),t===2&&(s=vp(e),s!==0&&(r=s,t=qp(e,s))),t===1))throw n=nl,Yo(e,0),Xr(e,r),sn(e,ot()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:jo(e,en,wr);break;case 3:if(Xr(e,r),(r&130023424)===r&&(t=Ng+500-ot(),10<t)){if(bu(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Kt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Cp(jo.bind(null,e,en,wr),t);break}jo(e,en,wr);break;case 4:if(Xr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-Un(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*QR(r/1960))-r,10<r){e.timeoutHandle=Cp(jo.bind(null,e,en,wr),r);break}jo(e,en,wr);break;case 5:jo(e,en,wr);break;default:throw Error(M(329))}}}return sn(e,ot()),e.callbackNode===n?rx.bind(null,e):null}function qp(e,t){var n=Pa;return e.current.memoizedState.isDehydrated&&(Yo(e,t).flags|=256),e=zu(e,t),e!==2&&(t=en,en=n,t!==null&&Kp(t)),e}function Kp(e){en===null?en=e:en.push.apply(en,e)}function ZR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!qn(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xr(e,t){for(t&=~$g,t&=~Fd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Un(t),r=1<<n;e[n]=-1,t&=~r}}function M0(e){if(Se&6)throw Error(M(327));si();var t=bu(e,0);if(!(t&1))return sn(e,ot()),null;var n=zu(e,t);if(e.tag!==0&&n===2){var r=vp(e);r!==0&&(t=r,n=qp(e,r))}if(n===1)throw n=nl,Yo(e,0),Xr(e,t),sn(e,ot()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jo(e,en,wr),sn(e,ot()),null}function Dg(e,t){var n=Se;Se|=1;try{return e(t)}finally{Se=n,Se===0&&(wi=ot()+500,Od&&No())}}function ss(e){to!==null&&to.tag===0&&!(Se&6)&&si();var t=Se;Se|=1;var n=kn.transition,r=De;try{if(kn.transition=null,De=1,e)return e()}finally{De=r,kn.transition=n,Se=t,!(Se&6)&&No()}}function Og(){un=Zs.current,He(Zs)}function Yo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,CR(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(mg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ku();break;case 3:vi(),He(rn),He(Ut),Sg();break;case 5:Tg(r);break;case 4:vi();break;case 13:He(Ye);break;case 19:He(Ye);break;case 10:_g(r.type._context);break;case 22:case 23:Og()}n=n.return}if(_t=e,lt=e=fo(e.current,null),It=un=t,ft=0,nl=null,$g=Fd=os=0,en=Pa=null,Wo!==null){for(t=0;t<Wo.length;t++)if(n=Wo[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}Wo=null}return e}function ox(e,t){do{var n=lt;try{if(vg(),su.current=Fu,Lu){for(var r=Xe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Lu=!1}if(rs=0,vt=dt=Xe=null,Ra=!1,Ja=0,Pg.current=null,n===null||n.return===null){ft=1,nl=t,lt=null;break}e:{var s=e,i=n.return,a=n,l=t;if(t=It,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=T0(i);if(m!==null){m.flags&=-257,S0(m,i,a,s,t),m.mode&1&&x0(s,c,t),t=m,l=c;var v=t.updateQueue;if(v===null){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}else{if(!(t&1)){x0(s,c,t),Mg();break e}l=Error(M(426))}}else if(Qe&&a.mode&1){var w=T0(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),S0(w,i,a,s,t),gg(_i(l,a));break e}}s=l=_i(l,a),ft!==4&&(ft=2),Pa===null?Pa=[s]:Pa.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=UE(s,l,t);g0(s,g);break e;case 1:a=l;var p=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(co===null||!co.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=BE(s,a,t);g0(s,E);break e}}s=s.return}while(s!==null)}ax(n)}catch(x){t=x,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function sx(){var e=ju.current;return ju.current=Fu,e===null?Fu:e}function Mg(){(ft===0||ft===3||ft===2)&&(ft=4),_t===null||!(os&268435455)&&!(Fd&268435455)||Xr(_t,It)}function zu(e,t){var n=Se;Se|=2;var r=sx();(_t!==e||It!==t)&&(wr=null,Yo(e,t));do try{YR();break}catch(o){ox(e,o)}while(!0);if(vg(),Se=n,ju.current=r,lt!==null)throw Error(M(261));return _t=null,It=0,ft}function YR(){for(;lt!==null;)ix(lt)}function XR(){for(;lt!==null&&!TA();)ix(lt)}function ix(e){var t=cx(e.alternate,e,un);e.memoizedProps=e.pendingProps,t===null?ax(e):lt=t,Pg.current=null}function ax(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=HR(n,t),n!==null){n.flags&=32767,lt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ft=6,lt=null;return}}else if(n=WR(n,t,un),n!==null){lt=n;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);ft===0&&(ft=5)}function jo(e,t,n){var r=De,o=kn.transition;try{kn.transition=null,De=1,JR(e,t,n,r)}finally{kn.transition=o,De=r}return null}function JR(e,t,n,r){do si();while(to!==null);if(Se&6)throw Error(M(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(NA(e,s),e===_t&&(lt=_t=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rc||(Rc=!0,ux(Su,function(){return si(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=kn.transition,kn.transition=null;var i=De;De=1;var a=Se;Se|=4,Pg.current=null,KR(e,n),tx(n,e),_R(Sp),Cu=!!Tp,Sp=Tp=null,e.current=n,GR(n),SA(),Se=a,De=i,kn.transition=s}else e.current=n;if(Rc&&(Rc=!1,to=e,Bu=o),s=e.pendingLanes,s===0&&(co=null),IA(n.stateNode),sn(e,ot()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Uu)throw Uu=!1,e=Wp,Wp=null,e;return Bu&1&&e.tag!==0&&si(),s=e.pendingLanes,s&1?e===Hp?$a++:($a=0,Hp=e):$a=0,No(),null}function si(){if(to!==null){var e=U1(Bu),t=kn.transition,n=De;try{if(kn.transition=null,De=16>e?16:e,to===null)var r=!1;else{if(e=to,to=null,Bu=0,Se&6)throw Error(M(331));var o=Se;for(Se|=4,Z=e.current;Z!==null;){var s=Z,i=s.child;if(Z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Z=c;Z!==null;){var u=Z;switch(u.tag){case 0:case 11:case 15:ka(8,u,s)}var d=u.child;if(d!==null)d.return=u,Z=d;else for(;Z!==null;){u=Z;var h=u.sibling,m=u.return;if(XE(u),u===c){Z=null;break}if(h!==null){h.return=m,Z=h;break}Z=m}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}Z=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,Z=i;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ka(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Z=g;break e}Z=s.return}}var p=e.current;for(Z=p;Z!==null;){i=Z;var _=i.child;if(i.subtreeFlags&2064&&_!==null)_.return=i,Z=_;else e:for(i=p;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ld(9,a)}}catch(x){tt(a,a.return,x)}if(a===i){Z=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Z=E;break e}Z=a.return}}if(Se=o,No(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(kd,e)}catch{}r=!0}return r}finally{De=n,kn.transition=t}}return!1}function V0(e,t,n){t=_i(n,t),t=UE(e,t,1),e=lo(e,t,1),t=Kt(),e!==null&&(Ul(e,1,t),sn(e,t))}function tt(e,t,n){if(e.tag===3)V0(e,e,n);else for(;t!==null;){if(t.tag===3){V0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(co===null||!co.has(r))){e=_i(n,e),e=BE(t,e,1),t=lo(t,e,1),e=Kt(),t!==null&&(Ul(t,1,e),sn(t,e));break}}t=t.return}}function ek(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Kt(),e.pingedLanes|=e.suspendedLanes&n,_t===e&&(It&n)===n&&(ft===4||ft===3&&(It&130023424)===It&&500>ot()-Ng?Yo(e,0):$g|=n),sn(e,t)}function lx(e,t){t===0&&(e.mode&1?(t=_c,_c<<=1,!(_c&130023424)&&(_c=4194304)):t=1);var n=Kt();e=$r(e,t),e!==null&&(Ul(e,t,n),sn(e,n))}function tk(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),lx(e,n)}function nk(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),lx(e,n)}var cx;cx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||rn.current)nn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return nn=!1,zR(e,t,n);nn=!!(e.flags&131072)}else nn=!1,Qe&&t.flags&1048576&&hE(t,Nu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;au(e,t),e=t.pendingProps;var o=mi(t,Ut.current);oi(t,n),o=Cg(null,t,r,e,o,n);var s=Ig();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,on(r)?(s=!0,Pu(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Eg(t),o.updater=Vd,t.stateNode=o,o._reactInternals=t,Np(t,r,e,n),t=Mp(null,t,r,!0,s,n)):(t.tag=0,Qe&&s&&pg(t),Wt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(au(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=ok(r),e=On(r,e),o){case 0:t=Op(null,t,r,e,n);break e;case 1:t=I0(null,t,r,e,n);break e;case 11:t=b0(null,t,r,e,n);break e;case 14:t=C0(null,t,r,On(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:On(r,o),Op(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:On(r,o),I0(e,t,r,o,n);case 3:e:{if(qE(t),e===null)throw Error(M(387));r=t.pendingProps,s=t.memoizedState,o=s.element,_E(e,t),Mu(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=_i(Error(M(423)),t),t=A0(e,t,r,n,o);break e}else if(r!==o){o=_i(Error(M(424)),t),t=A0(e,t,r,n,o);break e}else for(fn=ao(t.stateNode.containerInfo.firstChild),mn=t,Qe=!0,Vn=null,n=yE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gi(),r===o){t=Nr(e,t,n);break e}Wt(e,t,r,n)}t=t.child}return t;case 5:return wE(t),e===null&&kp(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,bp(r,o)?i=null:s!==null&&bp(r,s)&&(t.flags|=32),HE(e,t),Wt(e,t,i,n),t.child;case 6:return e===null&&kp(t),null;case 13:return KE(e,t,n);case 4:return xg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=yi(t,null,r,n):Wt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:On(r,o),b0(e,t,r,o,n);case 7:return Wt(e,t,t.pendingProps,n),t.child;case 8:return Wt(e,t,t.pendingProps.children,n),t.child;case 12:return Wt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,Le(Du,r._currentValue),r._currentValue=i,s!==null)if(qn(s.value,i)){if(s.children===o.children&&!rn.current){t=Nr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ir(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Pp(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(M(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Pp(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Wt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,oi(t,n),o=Pn(o),r=r(o),t.flags|=1,Wt(e,t,r,n),t.child;case 14:return r=t.type,o=On(r,t.pendingProps),o=On(r.type,o),C0(e,t,r,o,n);case 15:return zE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:On(r,o),au(e,t),t.tag=1,on(r)?(e=!0,Pu(t)):e=!1,oi(t,n),jE(t,r,o),Np(t,r,o,n),Mp(null,t,r,!0,e,n);case 19:return GE(e,t,n);case 22:return WE(e,t,n)}throw Error(M(156,t.tag))};function ux(e,t){return V1(e,t)}function rk(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,t,n,r){return new rk(e,t,n,r)}function Vg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ok(e){if(typeof e=="function")return Vg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ng)return 11;if(e===rg)return 14}return 2}function fo(e,t){var n=e.alternate;return n===null?(n=Rn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function uu(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")Vg(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case js:return Xo(n.children,o,s,t);case tg:i=8,o|=8;break;case rp:return e=Rn(12,n,t,o|2),e.elementType=rp,e.lanes=s,e;case op:return e=Rn(13,n,t,o),e.elementType=op,e.lanes=s,e;case sp:return e=Rn(19,n,t,o),e.elementType=sp,e.lanes=s,e;case w1:return jd(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case v1:i=10;break e;case _1:i=9;break e;case ng:i=11;break e;case rg:i=14;break e;case Qr:i=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=Rn(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Xo(e,t,n,r){return e=Rn(7,e,r,t),e.lanes=n,e}function jd(e,t,n,r){return e=Rn(22,e,r,t),e.elementType=w1,e.lanes=n,e.stateNode={isHidden:!1},e}function mh(e,t,n){return e=Rn(6,e,null,t),e.lanes=n,e}function gh(e,t,n){return t=Rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sk(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zf(0),this.expirationTimes=Zf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zf(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Lg(e,t,n,r,o,s,i,a,l){return e=new sk(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Rn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eg(s),e}function ik(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function dx(e){if(!e)return vo;e=e._reactInternals;e:{if(vs(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(on(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(on(n))return dE(e,n,t)}return t}function fx(e,t,n,r,o,s,i,a,l){return e=Lg(n,r,!0,e,o,s,i,a,l),e.context=dx(null),n=e.current,r=Kt(),o=uo(n),s=Ir(r,o),s.callback=t??null,lo(n,s,o),e.current.lanes=o,Ul(e,o,r),sn(e,r),e}function Ud(e,t,n,r){var o=t.current,s=Kt(),i=uo(o);return n=dx(n),t.context===null?t.context=n:t.pendingContext=n,t=Ir(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=lo(o,t,i),e!==null&&(Bn(e,o,i,s),ou(e,o,i)),i}function Wu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function L0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fg(e,t){L0(e,t),(e=e.alternate)&&L0(e,t)}function ak(){return null}var hx=typeof reportError=="function"?reportError:function(e){console.error(e)};function jg(e){this._internalRoot=e}Bd.prototype.render=jg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));Ud(e,t,null,null)};Bd.prototype.unmount=jg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ss(function(){Ud(null,e,null,null)}),t[Pr]=null}};function Bd(e){this._internalRoot=e}Bd.prototype.unstable_scheduleHydration=function(e){if(e){var t=W1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yr.length&&t!==0&&t<Yr[n].priority;n++);Yr.splice(n,0,e),n===0&&q1(e)}};function Ug(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function F0(){}function lk(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var c=Wu(i);s.call(c)}}var i=fx(t,r,e,0,null,!1,!1,"",F0);return e._reactRootContainer=i,e[Pr]=i.current,Ga(e.nodeType===8?e.parentNode:e),ss(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=Wu(l);a.call(c)}}var l=Lg(e,0,!1,null,null,!1,!1,"",F0);return e._reactRootContainer=l,e[Pr]=l.current,Ga(e.nodeType===8?e.parentNode:e),ss(function(){Ud(t,l,n,r)}),l}function Wd(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=Wu(i);a.call(l)}}Ud(t,i,e,o)}else i=lk(n,t,e,o,r);return Wu(i)}B1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ma(t.pendingLanes);n!==0&&(ig(t,n|1),sn(t,ot()),!(Se&6)&&(wi=ot()+500,No()))}break;case 13:ss(function(){var r=$r(e,1);if(r!==null){var o=Kt();Bn(r,e,1,o)}}),Fg(e,1)}};ag=function(e){if(e.tag===13){var t=$r(e,134217728);if(t!==null){var n=Kt();Bn(t,e,134217728,n)}Fg(e,134217728)}};z1=function(e){if(e.tag===13){var t=uo(e),n=$r(e,t);if(n!==null){var r=Kt();Bn(n,e,t,r)}Fg(e,t)}};W1=function(){return De};H1=function(e,t){var n=De;try{return De=e,t()}finally{De=n}};mp=function(e,t,n){switch(t){case"input":if(lp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Dd(r);if(!o)throw Error(M(90));x1(r),lp(r,o)}}}break;case"textarea":S1(e,n);break;case"select":t=n.value,t!=null&&ei(e,!!n.multiple,t,!1)}};P1=Dg;$1=ss;var ck={usingClientEntryPoint:!1,Events:[zl,Ws,Dd,R1,k1,Dg]},ia={findFiberByHostInstance:zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uk={bundleType:ia.bundleType,version:ia.version,rendererPackageName:ia.rendererPackageName,rendererConfig:ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Br.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=O1(e),e===null?null:e.stateNode},findFiberByHostInstance:ia.findFiberByHostInstance||ak,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{kd=kc.inject(uk),ir=kc}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ck;Tn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ug(t))throw Error(M(200));return ik(e,t,null,n)};Tn.createRoot=function(e,t){if(!Ug(e))throw Error(M(299));var n=!1,r="",o=hx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Lg(e,1,!1,null,null,n,!1,r,o),e[Pr]=t.current,Ga(e.nodeType===8?e.parentNode:e),new jg(t)};Tn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=O1(t),e=e===null?null:e.stateNode,e};Tn.flushSync=function(e){return ss(e)};Tn.hydrate=function(e,t,n){if(!zd(t))throw Error(M(200));return Wd(null,e,t,!0,n)};Tn.hydrateRoot=function(e,t,n){if(!Ug(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=hx;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=fx(t,null,e,1,n??null,o,!1,s,i),e[Pr]=t.current,Ga(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Bd(t)};Tn.render=function(e,t,n){if(!zd(t))throw Error(M(200));return Wd(null,e,t,!1,n)};Tn.unmountComponentAtNode=function(e){if(!zd(e))throw Error(M(40));return e._reactRootContainer?(ss(function(){Wd(null,null,e,!1,function(){e._reactRootContainer=null,e[Pr]=null})}),!0):!1};Tn.unstable_batchedUpdates=Dg;Tn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zd(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return Wd(e,t,n,!1,r)};Tn.version="18.3.1-next-f1338f8080-20240426";function px(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(px)}catch(e){console.error(e)}}px(),p1.exports=Tn;var Do=p1.exports;const dk=n1(Do);var j0=Do;tp.createRoot=j0.createRoot,tp.hydrateRoot=j0.hydrateRoot;var Hl=e=>e.type==="checkbox",Ys=e=>e instanceof Date,Ht=e=>e==null;const mx=e=>typeof e=="object";var pt=e=>!Ht(e)&&!Array.isArray(e)&&mx(e)&&!Ys(e),fk=e=>pt(e)&&e.target?Hl(e.target)?e.target.checked:e.target.value:e,hk=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,pk=(e,t)=>e.has(hk(t)),mk=e=>{const t=e.constructor&&e.constructor.prototype;return pt(t)&&t.hasOwnProperty("isPrototypeOf")},Bg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function bn(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Bg&&(e instanceof Blob||e instanceof FileList))&&(n||pt(e)))if(t=n?[]:{},!n&&!mk(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=bn(e[r]));else return e;return t}var ql=e=>Array.isArray(e)?e.filter(Boolean):[],rt=e=>e===void 0,X=(e,t,n)=>{if(!t||!pt(e))return n;const r=ql(t.split(/[,[\].]+?/)).reduce((o,s)=>Ht(o)?o:o[s],e);return rt(r)||r===e?rt(e[t])?n:e[t]:r},Tr=e=>typeof e=="boolean";const U0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ln={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},gr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Ge.createContext(null);var gk=(e,t,n,r=!0)=>{const o={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(o,s,{get:()=>{const i=s;return t._proxyFormState[i]!==Ln.all&&(t._proxyFormState[i]=!r||Ln.all),e[i]}});return o},cn=e=>pt(e)&&!Object.keys(e).length,yk=(e,t,n,r)=>{n(e);const{name:o,...s}=e;return cn(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(i=>t[i]===Ln.all)},yh=e=>Array.isArray(e)?e:[e];function vk(e){const t=Ge.useRef(e);t.current=e,Ge.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}var rr=e=>typeof e=="string",_k=(e,t,n,r,o)=>rr(e)?(r&&t.watch.add(e),X(n,e,o)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),X(n,s))):(r&&(t.watchAll=!0),n),zg=e=>/^\w*$/.test(e),gx=e=>ql(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Me=(e,t,n)=>{let r=-1;const o=zg(t)?[t]:gx(t),s=o.length,i=s-1;for(;++r<s;){const a=o[r];let l=n;if(r!==i){const c=e[a];l=pt(c)||Array.isArray(c)?c:isNaN(+o[r+1])?{}:[]}e[a]=l,e=e[a]}return e},yx=(e,t,n,r,o)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:o||!0}}:{},B0=e=>({isOnSubmit:!e||e===Ln.onSubmit,isOnBlur:e===Ln.onBlur,isOnChange:e===Ln.onChange,isOnAll:e===Ln.all,isOnTouch:e===Ln.onTouched}),z0=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Na=(e,t,n,r)=>{for(const o of n||Object.keys(e)){const s=X(e,o);if(s){const{_f:i,...a}=s;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],o)&&!r)break;if(i.ref&&t(i.ref,i.name)&&!r)break;Na(a,t)}else pt(a)&&Na(a,t)}}};var wk=(e,t,n)=>{const r=ql(X(e,n));return Me(r,"root",t[n]),Me(e,n,r),e},Wg=e=>e.type==="file",no=e=>typeof e=="function",Hu=e=>{if(!Bg)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},du=e=>rr(e),Hg=e=>e.type==="radio",qu=e=>e instanceof RegExp;const W0={value:!1,isValid:!1},H0={value:!0,isValid:!0};var vx=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!rt(e[0].attributes.value)?rt(e[0].value)||e[0].value===""?H0:{value:e[0].value,isValid:!0}:H0:W0}return W0};const q0={isValid:!1,value:null};var _x=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,q0):q0;function K0(e,t,n="validate"){if(du(e)||Array.isArray(e)&&e.every(du)||Tr(e)&&!e)return{type:n,message:du(e)?e:"",ref:t}}var ks=e=>pt(e)&&!qu(e)?e:{value:e,message:""},G0=async(e,t,n,r,o)=>{const{ref:s,refs:i,required:a,maxLength:l,minLength:c,min:u,max:d,pattern:h,validate:m,name:v,valueAsNumber:y,mount:w,disabled:g}=e._f,p=X(t,v);if(!w||g)return{};const _=i?i[0]:s,E=P=>{r&&_.reportValidity&&(_.setCustomValidity(Tr(P)?"":P||""),_.reportValidity())},x={},b=Hg(s),C=Hl(s),I=b||C,F=(y||Wg(s))&&rt(s.value)&&rt(p)||Hu(s)&&s.value===""||p===""||Array.isArray(p)&&!p.length,V=yx.bind(null,v,n,x),oe=(P,G,N,U=gr.maxLength,te=gr.minLength)=>{const Y=P?G:N;x[v]={type:P?U:te,message:Y,ref:s,...V(P?U:te,Y)}};if(o?!Array.isArray(p)||!p.length:a&&(!I&&(F||Ht(p))||Tr(p)&&!p||C&&!vx(i).isValid||b&&!_x(i).isValid)){const{value:P,message:G}=du(a)?{value:!!a,message:a}:ks(a);if(P&&(x[v]={type:gr.required,message:G,ref:_,...V(gr.required,G)},!n))return E(G),x}if(!F&&(!Ht(u)||!Ht(d))){let P,G;const N=ks(d),U=ks(u);if(!Ht(p)&&!isNaN(p)){const te=s.valueAsNumber||p&&+p;Ht(N.value)||(P=te>N.value),Ht(U.value)||(G=te<U.value)}else{const te=s.valueAsDate||new Date(p),Y=H=>new Date(new Date().toDateString()+" "+H),D=s.type=="time",k=s.type=="week";rr(N.value)&&p&&(P=D?Y(p)>Y(N.value):k?p>N.value:te>new Date(N.value)),rr(U.value)&&p&&(G=D?Y(p)<Y(U.value):k?p<U.value:te<new Date(U.value))}if((P||G)&&(oe(!!P,N.message,U.message,gr.max,gr.min),!n))return E(x[v].message),x}if((l||c)&&!F&&(rr(p)||o&&Array.isArray(p))){const P=ks(l),G=ks(c),N=!Ht(P.value)&&p.length>+P.value,U=!Ht(G.value)&&p.length<+G.value;if((N||U)&&(oe(N,P.message,G.message),!n))return E(x[v].message),x}if(h&&!F&&rr(p)){const{value:P,message:G}=ks(h);if(qu(P)&&!p.match(P)&&(x[v]={type:gr.pattern,message:G,ref:s,...V(gr.pattern,G)},!n))return E(G),x}if(m){if(no(m)){const P=await m(p,t),G=K0(P,_);if(G&&(x[v]={...G,...V(gr.validate,G.message)},!n))return E(G.message),x}else if(pt(m)){let P={};for(const G in m){if(!cn(P)&&!n)break;const N=K0(await m[G](p,t),_,G);N&&(P={...N,...V(G,N.message)},E(N.message),n&&(x[v]=P))}if(!cn(P)&&(x[v]={ref:_,...P},!n))return x}}return E(!0),x};function Ek(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=rt(e)?r++:e[t[r++]];return e}function xk(e){for(const t in e)if(e.hasOwnProperty(t)&&!rt(e[t]))return!1;return!0}function ut(e,t){const n=Array.isArray(t)?t:zg(t)?[t]:gx(t),r=n.length===1?e:Ek(e,n),o=n.length-1,s=n[o];return r&&delete r[s],o!==0&&(pt(r)&&cn(r)||Array.isArray(r)&&xk(r))&&ut(e,n.slice(0,-1)),e}var vh=()=>{let e=[];return{get observers(){return e},next:o=>{for(const s of e)s.next&&s.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(s=>s!==o)}}),unsubscribe:()=>{e=[]}}},Ku=e=>Ht(e)||!mx(e);function qo(e,t){if(Ku(e)||Ku(t))return e===t;if(Ys(e)&&Ys(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const o of n){const s=e[o];if(!r.includes(o))return!1;if(o!=="ref"){const i=t[o];if(Ys(s)&&Ys(i)||pt(s)&&pt(i)||Array.isArray(s)&&Array.isArray(i)?!qo(s,i):s!==i)return!1}}return!0}var wx=e=>e.type==="select-multiple",Tk=e=>Hg(e)||Hl(e),_h=e=>Hu(e)&&e.isConnected,Ex=e=>{for(const t in e)if(no(e[t]))return!0;return!1};function Gu(e,t={}){const n=Array.isArray(e);if(pt(e)||n)for(const r in e)Array.isArray(e[r])||pt(e[r])&&!Ex(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Gu(e[r],t[r])):Ht(e[r])||(t[r]=!0);return t}function xx(e,t,n){const r=Array.isArray(e);if(pt(e)||r)for(const o in e)Array.isArray(e[o])||pt(e[o])&&!Ex(e[o])?rt(t)||Ku(n[o])?n[o]=Array.isArray(e[o])?Gu(e[o],[]):{...Gu(e[o])}:xx(e[o],Ht(t)?{}:t[o],n[o]):n[o]=!qo(e[o],t[o]);return n}var Pc=(e,t)=>xx(e,t,Gu(t)),Tx=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>rt(e)?e:t?e===""?NaN:e&&+e:n&&rr(e)?new Date(e):r?r(e):e;function wh(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return Wg(t)?t.files:Hg(t)?_x(e.refs).value:wx(t)?[...t.selectedOptions].map(({value:n})=>n):Hl(t)?vx(e.refs).value:Tx(rt(t.value)?e.ref.value:t.value,e)}var Sk=(e,t,n,r)=>{const o={};for(const s of e){const i=X(t,s);i&&Me(o,s,i._f)}return{criteriaMode:n,names:[...e],fields:o,shouldUseNativeValidation:r}},aa=e=>rt(e)?e:qu(e)?e.source:pt(e)?qu(e.value)?e.value.source:e.value:e,bk=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Q0(e,t,n){const r=X(e,n);if(r||zg(n))return{error:r,name:n};const o=n.split(".");for(;o.length;){const s=o.join("."),i=X(t,s),a=X(e,s);if(i&&!Array.isArray(i)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};o.pop()}return{name:n}}var Ck=(e,t,n,r,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(t||e):(n?r.isOnBlur:o.isOnBlur)?!e:(n?r.isOnChange:o.isOnChange)?e:!0,Ik=(e,t)=>!ql(X(e,t)).length&&ut(e,t);const Ak={mode:Ln.onSubmit,reValidateMode:Ln.onChange,shouldFocusError:!0};function Rk(e={}){let t={...Ak,...e},n={submitCount:0,isDirty:!1,isLoading:no(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},o=pt(t.defaultValues)||pt(t.values)?bn(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:bn(o),i={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:vh(),array:vh(),state:vh()},h=B0(t.mode),m=B0(t.reValidateMode),v=t.criteriaMode===Ln.all,y=T=>A=>{clearTimeout(c),c=setTimeout(T,A)},w=async T=>{if(u.isValid||T){const A=t.resolver?cn((await I()).errors):await V(r,!0);A!==n.isValid&&d.state.next({isValid:A})}},g=(T,A)=>{(u.isValidating||u.validatingFields)&&((T||Array.from(a.mount)).forEach(R=>{R&&(A?Me(n.validatingFields,R,A):ut(n.validatingFields,R))}),d.state.next({validatingFields:n.validatingFields,isValidating:!cn(n.validatingFields)}))},p=(T,A=[],R,q,B=!0,j=!0)=>{if(q&&R){if(i.action=!0,j&&Array.isArray(X(r,T))){const ae=R(X(r,T),q.argA,q.argB);B&&Me(r,T,ae)}if(j&&Array.isArray(X(n.errors,T))){const ae=R(X(n.errors,T),q.argA,q.argB);B&&Me(n.errors,T,ae),Ik(n.errors,T)}if(u.touchedFields&&j&&Array.isArray(X(n.touchedFields,T))){const ae=R(X(n.touchedFields,T),q.argA,q.argB);B&&Me(n.touchedFields,T,ae)}u.dirtyFields&&(n.dirtyFields=Pc(o,s)),d.state.next({name:T,isDirty:P(T,A),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Me(s,T,A)},_=(T,A)=>{Me(n.errors,T,A),d.state.next({errors:n.errors})},E=T=>{n.errors=T,d.state.next({errors:n.errors,isValid:!1})},x=(T,A,R,q)=>{const B=X(r,T);if(B){const j=X(s,T,rt(R)?X(o,T):R);rt(j)||q&&q.defaultChecked||A?Me(s,T,A?j:wh(B._f)):U(T,j),i.mount&&w()}},b=(T,A,R,q,B)=>{let j=!1,ae=!1;const Ne={name:T},gt=!!(X(r,T)&&X(r,T)._f.disabled);if(!R||q){u.isDirty&&(ae=n.isDirty,n.isDirty=Ne.isDirty=P(),j=ae!==Ne.isDirty);const ln=gt||qo(X(o,T),A);ae=!!(!gt&&X(n.dirtyFields,T)),ln||gt?ut(n.dirtyFields,T):Me(n.dirtyFields,T,!0),Ne.dirtyFields=n.dirtyFields,j=j||u.dirtyFields&&ae!==!ln}if(R){const ln=X(n.touchedFields,T);ln||(Me(n.touchedFields,T,R),Ne.touchedFields=n.touchedFields,j=j||u.touchedFields&&ln!==R)}return j&&B&&d.state.next(Ne),j?Ne:{}},C=(T,A,R,q)=>{const B=X(n.errors,T),j=u.isValid&&Tr(A)&&n.isValid!==A;if(e.delayError&&R?(l=y(()=>_(T,R)),l(e.delayError)):(clearTimeout(c),l=null,R?Me(n.errors,T,R):ut(n.errors,T)),(R?!qo(B,R):B)||!cn(q)||j){const ae={...q,...j&&Tr(A)?{isValid:A}:{},errors:n.errors,name:T};n={...n,...ae},d.state.next(ae)}},I=async T=>{g(T,!0);const A=await t.resolver(s,t.context,Sk(T||a.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return g(T),A},F=async T=>{const{errors:A}=await I(T);if(T)for(const R of T){const q=X(A,R);q?Me(n.errors,R,q):ut(n.errors,R)}else n.errors=A;return A},V=async(T,A,R={valid:!0})=>{for(const q in T){const B=T[q];if(B){const{_f:j,...ae}=B;if(j){const Ne=a.array.has(j.name);g([q],!0);const gt=await G0(B,s,v,t.shouldUseNativeValidation&&!A,Ne);if(g([q]),gt[j.name]&&(R.valid=!1,A))break;!A&&(X(gt,j.name)?Ne?wk(n.errors,gt,j.name):Me(n.errors,j.name,gt[j.name]):ut(n.errors,j.name))}ae&&await V(ae,A,R)}}return R.valid},oe=()=>{for(const T of a.unMount){const A=X(r,T);A&&(A._f.refs?A._f.refs.every(R=>!_h(R)):!_h(A._f.ref))&&$e(T)}a.unMount=new Set},P=(T,A)=>(T&&A&&Me(s,T,A),!qo(ie(),o)),G=(T,A,R)=>_k(T,a,{...i.mount?s:rt(A)?o:rr(T)?{[T]:A}:A},R,A),N=T=>ql(X(i.mount?s:o,T,e.shouldUnregister?X(o,T,[]):[])),U=(T,A,R={})=>{const q=X(r,T);let B=A;if(q){const j=q._f;j&&(!j.disabled&&Me(s,T,Tx(A,j)),B=Hu(j.ref)&&Ht(A)?"":A,wx(j.ref)?[...j.ref.options].forEach(ae=>ae.selected=B.includes(ae.value)):j.refs?Hl(j.ref)?j.refs.length>1?j.refs.forEach(ae=>(!ae.defaultChecked||!ae.disabled)&&(ae.checked=Array.isArray(B)?!!B.find(Ne=>Ne===ae.value):B===ae.value)):j.refs[0]&&(j.refs[0].checked=!!B):j.refs.forEach(ae=>ae.checked=ae.value===B):Wg(j.ref)?j.ref.value="":(j.ref.value=B,j.ref.type||d.values.next({name:T,values:{...s}})))}(R.shouldDirty||R.shouldTouch)&&b(T,B,R.shouldTouch,R.shouldDirty,!0),R.shouldValidate&&H(T)},te=(T,A,R)=>{for(const q in A){const B=A[q],j=`${T}.${q}`,ae=X(r,j);(a.array.has(T)||!Ku(B)||ae&&!ae._f)&&!Ys(B)?te(j,B,R):U(j,B,R)}},Y=(T,A,R={})=>{const q=X(r,T),B=a.array.has(T),j=bn(A);Me(s,T,j),B?(d.array.next({name:T,values:{...s}}),(u.isDirty||u.dirtyFields)&&R.shouldDirty&&d.state.next({name:T,dirtyFields:Pc(o,s),isDirty:P(T,j)})):q&&!q._f&&!Ht(j)?te(T,j,R):U(T,j,R),z0(T,a)&&d.state.next({...n}),d.values.next({name:i.mount?T:void 0,values:{...s}})},D=async T=>{i.mount=!0;const A=T.target;let R=A.name,q=!0;const B=X(r,R),j=()=>A.type?wh(B._f):fk(T),ae=Ne=>{q=Number.isNaN(Ne)||Ne===X(s,R,Ne)};if(B){let Ne,gt;const ln=j(),As=T.type===U0.BLUR||T.type===U0.FOCUS_OUT,DI=!bk(B._f)&&!t.resolver&&!X(n.errors,R)&&!B._f.deps||Ck(As,X(n.touchedFields,R),n.isSubmitted,m,h),Bf=z0(R,a,As);Me(s,R,ln),As?(B._f.onBlur&&B._f.onBlur(T),l&&l(0)):B._f.onChange&&B._f.onChange(T);const zf=b(R,ln,As,!1),OI=!cn(zf)||Bf;if(!As&&d.values.next({name:R,type:T.type,values:{...s}}),DI)return u.isValid&&w(),OI&&d.state.next({name:R,...Bf?{}:zf});if(!As&&Bf&&d.state.next({...n}),t.resolver){const{errors:kv}=await I([R]);if(ae(ln),q){const MI=Q0(n.errors,r,R),Pv=Q0(kv,r,MI.name||R);Ne=Pv.error,R=Pv.name,gt=cn(kv)}}else g([R],!0),Ne=(await G0(B,s,v,t.shouldUseNativeValidation))[R],g([R]),ae(ln),q&&(Ne?gt=!1:u.isValid&&(gt=await V(r,!0)));q&&(B._f.deps&&H(B._f.deps),C(R,gt,Ne,zf))}},k=(T,A)=>{if(X(n.errors,A)&&T.focus)return T.focus(),1},H=async(T,A={})=>{let R,q;const B=yh(T);if(t.resolver){const j=await F(rt(T)?T:B);R=cn(j),q=T?!B.some(ae=>X(j,ae)):R}else T?(q=(await Promise.all(B.map(async j=>{const ae=X(r,j);return await V(ae&&ae._f?{[j]:ae}:ae)}))).every(Boolean),!(!q&&!n.isValid)&&w()):q=R=await V(r);return d.state.next({...!rr(T)||u.isValid&&R!==n.isValid?{}:{name:T},...t.resolver||!T?{isValid:R}:{},errors:n.errors}),A.shouldFocus&&!q&&Na(r,k,T?B:a.mount),q},ie=T=>{const A={...i.mount?s:o};return rt(T)?A:rr(T)?X(A,T):T.map(R=>X(A,R))},he=(T,A)=>({invalid:!!X((A||n).errors,T),isDirty:!!X((A||n).dirtyFields,T),isTouched:!!X((A||n).touchedFields,T),isValidating:!!X((A||n).validatingFields,T),error:X((A||n).errors,T)}),Ke=T=>{T&&yh(T).forEach(A=>ut(n.errors,A)),d.state.next({errors:T?n.errors:{}})},Ve=(T,A,R)=>{const q=(X(r,T,{_f:{}})._f||{}).ref;Me(n.errors,T,{...A,ref:q}),d.state.next({name:T,errors:n.errors,isValid:!1}),R&&R.shouldFocus&&q&&q.focus&&q.focus()},mt=(T,A)=>no(T)?d.values.subscribe({next:R=>T(G(void 0,A),R)}):G(T,A,!0),$e=(T,A={})=>{for(const R of T?yh(T):a.mount)a.mount.delete(R),a.array.delete(R),A.keepValue||(ut(r,R),ut(s,R)),!A.keepError&&ut(n.errors,R),!A.keepDirty&&ut(n.dirtyFields,R),!A.keepTouched&&ut(n.touchedFields,R),!A.keepIsValidating&&ut(n.validatingFields,R),!t.shouldUnregister&&!A.keepDefaultValue&&ut(o,R);d.values.next({values:{...s}}),d.state.next({...n,...A.keepDirty?{isDirty:P()}:{}}),!A.keepIsValid&&w()},re=({disabled:T,name:A,field:R,fields:q,value:B})=>{if(Tr(T)){const j=T?void 0:rt(B)?wh(R?R._f:X(q,A)._f):B;Me(s,A,j),b(A,j,!1,!1,!0)}},be=(T,A={})=>{let R=X(r,T);const q=Tr(A.disabled);return Me(r,T,{...R||{},_f:{...R&&R._f?R._f:{ref:{name:T}},name:T,mount:!0,...A}}),a.mount.add(T),R?re({field:R,disabled:A.disabled,name:T,value:A.value}):x(T,!0,A.value),{...q?{disabled:A.disabled}:{},...t.progressive?{required:!!A.required,min:aa(A.min),max:aa(A.max),minLength:aa(A.minLength),maxLength:aa(A.maxLength),pattern:aa(A.pattern)}:{},name:T,onChange:D,onBlur:D,ref:B=>{if(B){be(T,A),R=X(r,T);const j=rt(B.value)&&B.querySelectorAll&&B.querySelectorAll("input,select,textarea")[0]||B,ae=Tk(j),Ne=R._f.refs||[];if(ae?Ne.find(gt=>gt===j):j===R._f.ref)return;Me(r,T,{_f:{...R._f,...ae?{refs:[...Ne.filter(_h),j,...Array.isArray(X(o,T))?[{}]:[]],ref:{type:j.type,name:T}}:{ref:j}}}),x(T,!1,void 0,j)}else R=X(r,T,{}),R._f&&(R._f.mount=!1),(t.shouldUnregister||A.shouldUnregister)&&!(pk(a.array,T)&&i.action)&&a.unMount.add(T)}}},Ie=()=>t.shouldFocusError&&Na(r,k,a.mount),ke=T=>{Tr(T)&&(d.state.next({disabled:T}),Na(r,(A,R)=>{let q=T;const B=X(r,R);B&&Tr(B._f.disabled)&&(q||(q=B._f.disabled)),A.disabled=q},0,!1))},Ae=(T,A)=>async R=>{let q;R&&(R.preventDefault&&R.preventDefault(),R.persist&&R.persist());let B=bn(s);if(d.state.next({isSubmitting:!0}),t.resolver){const{errors:j,values:ae}=await I();n.errors=j,B=ae}else await V(r);if(ut(n.errors,"root"),cn(n.errors)){d.state.next({errors:{}});try{await T(B,R)}catch(j){q=j}}else A&&await A({...n.errors},R),Ie(),setTimeout(Ie);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:cn(n.errors)&&!q,submitCount:n.submitCount+1,errors:n.errors}),q)throw q},Pe=(T,A={})=>{X(r,T)&&(rt(A.defaultValue)?Y(T,bn(X(o,T))):(Y(T,A.defaultValue),Me(o,T,bn(A.defaultValue))),A.keepTouched||ut(n.touchedFields,T),A.keepDirty||(ut(n.dirtyFields,T),n.isDirty=A.defaultValue?P(T,bn(X(o,T))):P()),A.keepError||(ut(n.errors,T),u.isValid&&w()),d.state.next({...n}))},Pt=(T,A={})=>{const R=T?bn(T):o,q=bn(R),B=cn(T),j=B?o:q;if(A.keepDefaultValues||(o=R),!A.keepValues){if(A.keepDirtyValues)for(const ae of a.mount)X(n.dirtyFields,ae)?Me(j,ae,X(s,ae)):Y(ae,X(j,ae));else{if(Bg&&rt(T))for(const ae of a.mount){const Ne=X(r,ae);if(Ne&&Ne._f){const gt=Array.isArray(Ne._f.refs)?Ne._f.refs[0]:Ne._f.ref;if(Hu(gt)){const ln=gt.closest("form");if(ln){ln.reset();break}}}}r={}}s=e.shouldUnregister?A.keepDefaultValues?bn(o):{}:bn(j),d.array.next({values:{...j}}),d.values.next({values:{...j}})}a={mount:A.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!u.isValid||!!A.keepIsValid||!!A.keepDirtyValues,i.watch=!!e.shouldUnregister,d.state.next({submitCount:A.keepSubmitCount?n.submitCount:0,isDirty:B?!1:A.keepDirty?n.isDirty:!!(A.keepDefaultValues&&!qo(T,o)),isSubmitted:A.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:B?[]:A.keepDirtyValues?A.keepDefaultValues&&s?Pc(o,s):n.dirtyFields:A.keepDefaultValues&&T?Pc(o,T):{},touchedFields:A.keepTouched?n.touchedFields:{},errors:A.keepErrors?n.errors:{},isSubmitSuccessful:A.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},$t=(T,A)=>Pt(no(T)?T(s):T,A);return{control:{register:be,unregister:$e,getFieldState:he,handleSubmit:Ae,setError:Ve,_executeSchema:I,_getWatch:G,_getDirty:P,_updateValid:w,_removeUnmounted:oe,_updateFieldArray:p,_updateDisabledField:re,_getFieldArray:N,_reset:Pt,_resetDefaultValues:()=>no(t.defaultValues)&&t.defaultValues().then(T=>{$t(T,t.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:T=>{n={...n,...T}},_disableForm:ke,_subjects:d,_proxyFormState:u,_setErrors:E,get _fields(){return r},get _formValues(){return s},get _state(){return i},set _state(T){i=T},get _defaultValues(){return o},get _names(){return a},set _names(T){a=T},get _formState(){return n},set _formState(T){n=T},get _options(){return t},set _options(T){t={...t,...T}}},trigger:H,register:be,handleSubmit:Ae,watch:mt,setValue:Y,getValues:ie,reset:$t,resetField:Pe,clearErrors:Ke,unregister:$e,setError:Ve,setFocus:(T,A={})=>{const R=X(r,T),q=R&&R._f;if(q){const B=q.refs?q.refs[0]:q.ref;B.focus&&(B.focus(),A.shouldSelect&&B.select())}},getFieldState:he}}function qg(e={}){const t=Ge.useRef(),n=Ge.useRef(),[r,o]=Ge.useState({isDirty:!1,isValidating:!1,isLoading:no(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:no(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Rk(e),formState:r});const s=t.current.control;return s._options=e,vk({subject:s._subjects.state,next:i=>{yk(i,s._proxyFormState,s._updateFormState)&&o({...s._formState})}}),Ge.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),Ge.useEffect(()=>{if(s._proxyFormState.isDirty){const i=s._getDirty();i!==r.isDirty&&s._subjects.state.next({isDirty:i})}},[s,r.isDirty]),Ge.useEffect(()=>{e.values&&!qo(e.values,n.current)?(s._reset(e.values,s._options.resetOptions),n.current=e.values,o(i=>({...i}))):s._resetDefaultValues()},[e.values,s]),Ge.useEffect(()=>{e.errors&&s._setErrors(e.errors)},[e.errors,s]),Ge.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Ge.useEffect(()=>{e.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[e.shouldUnregister,s]),t.current.formState=gk(r,s),t.current}var Sx={exports:{}},bx={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kl=f;function kk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pk=typeof Object.is=="function"?Object.is:kk,$k=Kl.useSyncExternalStore,Nk=Kl.useRef,Dk=Kl.useEffect,Ok=Kl.useMemo,Mk=Kl.useDebugValue;bx.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var s=Nk(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=Ok(function(){function l(m){if(!c){if(c=!0,u=m,m=r(m),o!==void 0&&i.hasValue){var v=i.value;if(o(v,m))return d=v}return d=m}if(v=d,Pk(u,m))return v;var y=r(m);return o!==void 0&&o(v,y)?v:(u=m,d=y)}var c=!1,u,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,o]);var a=$k(e,s[0],s[1]);return Dk(function(){i.hasValue=!0,i.value=a},[a]),Mk(a),a};Sx.exports=bx;var Vk=Sx.exports,hn="default"in ep?Ge:ep,Z0=Symbol.for("react-redux-context"),Y0=typeof globalThis<"u"?globalThis:{};function Lk(){if(!hn.createContext)return{};const e=Y0[Z0]??(Y0[Z0]=new Map);let t=e.get(hn.createContext);return t||(t=hn.createContext(null),e.set(hn.createContext,t)),t}var _o=Lk(),Fk=()=>{throw new Error("uSES not initialized!")};function Kg(e=_o){return function(){return hn.useContext(e)}}var Cx=Kg(),Ix=Fk,jk=e=>{Ix=e},Uk=(e,t)=>e===t;function Bk(e=_o){const t=e===_o?Cx:Kg(e),n=(r,o={})=>{const{equalityFn:s=Uk,devModeChecks:i={}}=typeof o=="function"?{equalityFn:o}:o,{store:a,subscription:l,getServerState:c,stabilityCheck:u,identityFunctionCheck:d}=t();hn.useRef(!0);const h=hn.useCallback({[r.name](v){return r(v)}}[r.name],[r,u,i.stabilityCheck]),m=Ix(l.addNestedSub,a.getState,c||a.getState,h,s);return hn.useDebugValue(m),m};return Object.assign(n,{withTypes:()=>n}),n}var zk=Bk();function Wk(e){e()}function Hk(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Wk(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!r||e===null||(r=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var X0={notify(){},get:()=>[]};function qk(e,t){let n,r=X0,o=0,s=!1;function i(y){u();const w=r.subscribe(y);let g=!1;return()=>{g||(g=!0,w(),d())}}function a(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function c(){return s}function u(){o++,n||(n=e.subscribe(l),r=Hk())}function d(){o--,n&&o===0&&(n(),n=void 0,r.clear(),r=X0)}function h(){s||(s=!0,u())}function m(){s&&(s=!1,d())}const v={addNestedSub:i,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return v}var Kk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gk=typeof navigator<"u"&&navigator.product==="ReactNative",Qk=Kk||Gk?hn.useLayoutEffect:hn.useEffect;function Zk({store:e,context:t,children:n,serverState:r,stabilityCheck:o="once",identityFunctionCheck:s="once"}){const i=hn.useMemo(()=>{const c=qk(e);return{store:e,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:o,identityFunctionCheck:s}},[e,r,o,s]),a=hn.useMemo(()=>e.getState(),[e]);Qk(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==e.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,a]);const l=t||_o;return hn.createElement(l.Provider,{value:i},n)}var Yk=Zk;function Ax(e=_o){const t=e===_o?Cx:Kg(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var Xk=Ax();function Jk(e=_o){const t=e===_o?Xk:Ax(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var eP=Jk();jk(Vk.useSyncExternalStoreWithSelector);const Hd=eP.withTypes(),tP=zk.withTypes();function xt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var nP=typeof Symbol=="function"&&Symbol.observable||"@@observable",J0=nP,Eh=()=>Math.random().toString(36).substring(7).split("").join("."),rP={INIT:`@@redux/INIT${Eh()}`,REPLACE:`@@redux/REPLACE${Eh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Eh()}`},Qu=rP;function Gg(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Rx(e,t,n){if(typeof e!="function")throw new Error(xt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(xt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(xt(1));return n(Rx)(e,t)}let r=e,o=t,s=new Map,i=s,a=0,l=!1;function c(){i===s&&(i=new Map,s.forEach((w,g)=>{i.set(g,w)}))}function u(){if(l)throw new Error(xt(3));return o}function d(w){if(typeof w!="function")throw new Error(xt(4));if(l)throw new Error(xt(5));let g=!0;c();const p=a++;return i.set(p,w),function(){if(g){if(l)throw new Error(xt(6));g=!1,c(),i.delete(p),s=null}}}function h(w){if(!Gg(w))throw new Error(xt(7));if(typeof w.type>"u")throw new Error(xt(8));if(typeof w.type!="string")throw new Error(xt(17));if(l)throw new Error(xt(9));try{l=!0,o=r(o,w)}finally{l=!1}return(s=i).forEach(p=>{p()}),w}function m(w){if(typeof w!="function")throw new Error(xt(10));r=w,h({type:Qu.REPLACE})}function v(){const w=d;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(xt(11));function p(){const E=g;E.next&&E.next(u())}return p(),{unsubscribe:w(p)}},[J0](){return this}}}return h({type:Qu.INIT}),{dispatch:h,subscribe:d,getState:u,replaceReducer:m,[J0]:v}}function oP(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Qu.INIT})>"u")throw new Error(xt(12));if(typeof n(void 0,{type:Qu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xt(13))})}function sP(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const i=t[s];typeof e[i]=="function"&&(n[i]=e[i])}const r=Object.keys(n);let o;try{oP(n)}catch(s){o=s}return function(i={},a){if(o)throw o;let l=!1;const c={};for(let u=0;u<r.length;u++){const d=r[u],h=n[d],m=i[d],v=h(m,a);if(typeof v>"u")throw a&&a.type,new Error(xt(14));c[d]=v,l=l||v!==m}return l=l||r.length!==Object.keys(i).length,l?c:i}}function Zu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function iP(...e){return t=>(n,r)=>{const o=t(n,r);let s=()=>{throw new Error(xt(15))};const i={getState:o.getState,dispatch:(l,...c)=>s(l,...c)},a=e.map(l=>l(i));return s=Zu(...a)(o.dispatch),{...o,dispatch:s}}}function aP(e){return Gg(e)&&"type"in e&&typeof e.type=="string"}var kx=Symbol.for("immer-nothing"),e_=Symbol.for("immer-draftable"),wn=Symbol.for("immer-state");function Fn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ei=Object.getPrototypeOf;function wo(e){return!!e&&!!e[wn]}function Dr(e){var t;return e?Px(e)||Array.isArray(e)||!!e[e_]||!!((t=e.constructor)!=null&&t[e_])||Kd(e)||Gd(e):!1}var lP=Object.prototype.constructor.toString();function Px(e){if(!e||typeof e!="object")return!1;const t=Ei(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===lP}function Yu(e,t){qd(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function qd(e){const t=e[wn];return t?t.type_:Array.isArray(e)?1:Kd(e)?2:Gd(e)?3:0}function Gp(e,t){return qd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function $x(e,t,n){const r=qd(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function cP(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Kd(e){return e instanceof Map}function Gd(e){return e instanceof Set}function Uo(e){return e.copy_||e.base_}function Qp(e,t){if(Kd(e))return new Map(e);if(Gd(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Px(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[wn];let o=Reflect.ownKeys(r);for(let s=0;s<o.length;s++){const i=o[s],a=r[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Ei(e),r)}else{const r=Ei(e);if(r!==null&&n)return{...e};const o=Object.create(r);return Object.assign(o,e)}}function Qg(e,t=!1){return Qd(e)||wo(e)||!Dr(e)||(qd(e)>1&&(e.set=e.add=e.clear=e.delete=uP),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Qg(r,!0))),e}function uP(){Fn(2)}function Qd(e){return Object.isFrozen(e)}var dP={};function is(e){const t=dP[e];return t||Fn(0,e),t}var rl;function Nx(){return rl}function fP(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function t_(e,t){t&&(is("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Zp(e){Yp(e),e.drafts_.forEach(hP),e.drafts_=null}function Yp(e){e===rl&&(rl=e.parent_)}function n_(e){return rl=fP(rl,e)}function hP(e){const t=e[wn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function r_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[wn].modified_&&(Zp(t),Fn(4)),Dr(e)&&(e=Xu(t,e),t.parent_||Ju(t,e)),t.patches_&&is("Patches").generateReplacementPatches_(n[wn].base_,e,t.patches_,t.inversePatches_)):e=Xu(t,n,[]),Zp(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==kx?e:void 0}function Xu(e,t,n){if(Qd(t))return t;const r=t[wn];if(!r)return Yu(t,(o,s)=>o_(e,r,t,o,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Ju(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let s=o,i=!1;r.type_===3&&(s=new Set(o),o.clear(),i=!0),Yu(s,(a,l)=>o_(e,r,o,a,l,n,i)),Ju(e,o,!1),n&&e.patches_&&is("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function o_(e,t,n,r,o,s,i){if(wo(o)){const a=s&&t&&t.type_!==3&&!Gp(t.assigned_,r)?s.concat(r):void 0,l=Xu(e,o,a);if($x(n,r,l),wo(l))e.canAutoFreeze_=!1;else return}else i&&n.add(o);if(Dr(o)&&!Qd(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Xu(e,o),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Ju(e,o)}}function Ju(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Qg(t,n)}function pP(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Nx(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,s=Zg;n&&(o=[r],s=ol);const{revoke:i,proxy:a}=Proxy.revocable(o,s);return r.draft_=a,r.revoke_=i,a}var Zg={get(e,t){if(t===wn)return e;const n=Uo(e);if(!Gp(n,t))return mP(e,n,t);const r=n[t];return e.finalized_||!Dr(r)?r:r===xh(e.base_,t)?(Th(e),e.copy_[t]=Jp(r,e)):r},has(e,t){return t in Uo(e)},ownKeys(e){return Reflect.ownKeys(Uo(e))},set(e,t,n){const r=Dx(Uo(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=xh(Uo(e),t),s=o==null?void 0:o[wn];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(cP(n,o)&&(n!==void 0||Gp(e.base_,t)))return!0;Th(e),Xp(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return xh(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Th(e),Xp(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Uo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Fn(11)},getPrototypeOf(e){return Ei(e.base_)},setPrototypeOf(){Fn(12)}},ol={};Yu(Zg,(e,t)=>{ol[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ol.deleteProperty=function(e,t){return ol.set.call(this,e,t,void 0)};ol.set=function(e,t,n){return Zg.set.call(this,e[0],t,n,e[0])};function xh(e,t){const n=e[wn];return(n?Uo(n):e)[t]}function mP(e,t,n){var o;const r=Dx(t,n);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(e.draft_):void 0}function Dx(e,t){if(!(t in e))return;let n=Ei(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ei(n)}}function Xp(e){e.modified_||(e.modified_=!0,e.parent_&&Xp(e.parent_))}function Th(e){e.copy_||(e.copy_=Qp(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var gP=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const i=this;return function(l=s,...c){return i.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&Fn(6),r!==void 0&&typeof r!="function"&&Fn(7);let o;if(Dr(t)){const s=n_(this),i=Jp(t,void 0);let a=!0;try{o=n(i),a=!1}finally{a?Zp(s):Yp(s)}return t_(s,r),r_(o,s)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===kx&&(o=void 0),this.autoFreeze_&&Qg(o,!0),r){const s=[],i=[];is("Patches").generateReplacementPatches_(t,o,s,i),r(s,i)}return o}else Fn(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(i,...a)=>this.produceWithPatches(i,l=>t(l,...a));let r,o;return[this.produce(t,n,(i,a)=>{r=i,o=a}),r,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Dr(e)||Fn(8),wo(e)&&(e=Ox(e));const t=n_(this),n=Jp(e,void 0);return n[wn].isManual_=!0,Yp(t),n}finishDraft(e,t){const n=e&&e[wn];(!n||!n.isManual_)&&Fn(9);const{scope_:r}=n;return t_(r,t),r_(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=is("Patches").applyPatches_;return wo(e)?r(e,t):this.produce(e,o=>r(o,t))}};function Jp(e,t){const n=Kd(e)?is("MapSet").proxyMap_(e,t):Gd(e)?is("MapSet").proxySet_(e,t):pP(e,t);return(t?t.scope_:Nx()).drafts_.push(n),n}function Ox(e){return wo(e)||Fn(10,e),Mx(e)}function Mx(e){if(!Dr(e)||Qd(e))return e;const t=e[wn];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Qp(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Qp(e,!0);return Yu(n,(r,o)=>{$x(n,r,Mx(o))}),t&&(t.finalized_=!1),n}var En=new gP,Vx=En.produce;En.produceWithPatches.bind(En);En.setAutoFreeze.bind(En);En.setUseStrictShallowCopy.bind(En);En.applyPatches.bind(En);En.createDraft.bind(En);En.finishDraft.bind(En);function yP(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function vP(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function _P(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var s_=e=>Array.isArray(e)?e:[e];function wP(e){const t=Array.isArray(e[0])?e[0]:e;return _P(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function EP(e,t){const n=[],{length:r}=e;for(let o=0;o<r;o++)n.push(e[o].apply(null,t));return n}var xP=class{constructor(e){this.value=e}deref(){return this.value}},TP=typeof WeakRef<"u"?WeakRef:xP,SP=0,i_=1;function $c(){return{s:SP,v:void 0,o:null,p:null}}function Yg(e,t={}){let n=$c();const{resultEqualityCheck:r}=t;let o,s=0;function i(){var d;let a=n;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const v=arguments[h];if(typeof v=="function"||typeof v=="object"&&v!==null){let y=a.o;y===null&&(a.o=y=new WeakMap);const w=y.get(v);w===void 0?(a=$c(),y.set(v,a)):a=w}else{let y=a.p;y===null&&(a.p=y=new Map);const w=y.get(v);w===void 0?(a=$c(),y.set(v,a)):a=w}}const c=a;let u;if(a.s===i_?u=a.v:(u=e.apply(null,arguments),s++),c.s=i_,r){const h=((d=o==null?void 0:o.deref)==null?void 0:d.call(o))??o;h!=null&&r(h,u)&&(u=h,s!==0&&s--),o=typeof u=="object"&&u!==null||typeof u=="function"?new TP(u):u}return c.v=u,u}return i.clearCache=()=>{n=$c(),i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function Lx(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...o)=>{let s=0,i=0,a,l={},c=o.pop();typeof c=="object"&&(l=c,c=o.pop()),yP(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:m=Yg,argsMemoizeOptions:v=[],devModeChecks:y={}}=u,w=s_(h),g=s_(v),p=wP(o),_=d(function(){return s++,c.apply(null,arguments)},...w),E=m(function(){i++;const b=EP(p,arguments);return a=_.apply(null,b),a},...g);return Object.assign(E,{resultFunc:c,memoizedResultFunc:_,dependencies:p,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var bP=Lx(Yg),CP=Object.assign((e,t=bP)=>{vP(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((i,a,l)=>(i[n[l]]=a,i),{}))},{withTypes:()=>CP});function Fx(e){return({dispatch:n,getState:r})=>o=>s=>typeof s=="function"?s(n,r,e):o(s)}var IP=Fx(),AP=Fx,RP=(...e)=>{const t=Lx(...e),n=Object.assign((...r)=>{const o=t(...r),s=(i,...a)=>o(wo(i)?Ox(i):i,...a);return Object.assign(s,o),s},{withTypes:()=>n});return n};RP(Yg);var kP=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Zu:Zu.apply(null,arguments)},PP=e=>e&&typeof e.match=="function";function Ar(e,t){function n(...r){if(t){let o=t(...r);if(!o)throw new Error(an(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>aP(r)&&r.type===e,n}var jx=class ya extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ya.prototype)}static get[Symbol.species](){return ya}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ya(...t[0].concat(this)):new ya(...t.concat(this))}};function a_(e){return Dr(e)?Vx(e,()=>{}):e}function l_(e,t,n){if(e.has(t)){let o=e.get(t);return n.update&&(o=n.update(o,t,e),e.set(t,o)),o}if(!n.insert)throw new Error(an(10));const r=n.insert(t,e);return e.set(t,r),r}function $P(e){return typeof e=="boolean"}var NP=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:o=!0,actionCreatorCheck:s=!0}=t??{};let i=new jx;return n&&($P(n)?i.push(IP):i.push(AP(n.extraArgument))),i},DP="RTK_autoBatch",Ux=e=>t=>{setTimeout(t,e)},OP=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Ux(10),MP=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let o=!0,s=!1,i=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?OP:e.type==="callback"?e.queueNotification:Ux(e.timeout),c=()=>{i=!1,s&&(s=!1,a.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const d=()=>o&&u(),h=r.subscribe(d);return a.add(u),()=>{h(),a.delete(u)}},dispatch(u){var d;try{return o=!((d=u==null?void 0:u.meta)!=null&&d[DP]),s=!o,s&&(i||(i=!0,l(c))),r.dispatch(u)}finally{o=!0}}})},VP=e=>function(n){const{autoBatch:r=!0}=n??{};let o=new jx(e);return r&&o.push(MP(typeof r=="object"?r:void 0)),o},LP=!0;function FP(e){const t=NP(),{reducer:n=void 0,middleware:r,devTools:o=!0,preloadedState:s=void 0,enhancers:i=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(Gg(n))a=sP(n);else throw new Error(an(1));let l;typeof r=="function"?l=r(t):l=t();let c=Zu;o&&(c=kP({trace:!LP,...typeof o=="object"&&o}));const u=iP(...l),d=VP(u);let h=typeof i=="function"?i(d):d();const m=c(...h);return Rx(a,s,m)}function Bx(e){const t={},n=[];let r;const o={addCase(s,i){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(an(28));if(a in t)throw new Error(an(29));return t[a]=i,o},addMatcher(s,i){return n.push({matcher:s,reducer:i}),o},addDefaultCase(s){return r=s,o}};return e(o),[t,n,r]}function jP(e){return typeof e=="function"}function UP(e,t){let[n,r,o]=Bx(t),s;if(jP(e))s=()=>a_(e());else{const a=a_(e);s=()=>a}function i(a=s(),l){let c=[n[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[o]),c.reduce((u,d)=>{if(d)if(wo(u)){const m=d(u,l);return m===void 0?u:m}else{if(Dr(u))return Vx(u,h=>d(h,l));{const h=d(u,l);if(h===void 0){if(u===null)return u;throw new Error(an(9))}return h}}return u},a)}return i.getInitialState=s,i}var BP="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",zx=(e=21)=>{let t="",n=e;for(;n--;)t+=BP[Math.random()*64|0];return t},zP=(e,t)=>PP(e)?e.match(t):e(t);function WP(...e){return t=>e.some(n=>zP(n,t))}var HP=["name","message","stack","code"],Sh=class{constructor(e,t){Wf(this,"_type");this.payload=e,this.meta=t}},c_=class{constructor(e,t){Wf(this,"_type");this.payload=e,this.meta=t}},qP=e=>{if(typeof e=="object"&&e!==null){const t={};for(const n of HP)typeof e[n]=="string"&&(t[n]=e[n]);return t}return{message:String(e)}},Zd=(()=>{function e(t,n,r){const o=Ar(t+"/fulfilled",(l,c,u,d)=>({payload:l,meta:{...d||{},arg:u,requestId:c,requestStatus:"fulfilled"}})),s=Ar(t+"/pending",(l,c,u)=>({payload:void 0,meta:{...u||{},arg:c,requestId:l,requestStatus:"pending"}})),i=Ar(t+"/rejected",(l,c,u,d,h)=>({payload:d,error:(r&&r.serializeError||qP)(l||"Rejected"),meta:{...h||{},arg:u,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function a(l){return(c,u,d)=>{const h=r!=null&&r.idGenerator?r.idGenerator(l):zx(),m=new AbortController;let v,y;function w(p){y=p,m.abort()}const g=async function(){var E,x;let p;try{let b=(E=r==null?void 0:r.condition)==null?void 0:E.call(r,l,{getState:u,extra:d});if(GP(b)&&(b=await b),b===!1||m.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const C=new Promise((I,F)=>{v=()=>{F({name:"AbortError",message:y||"Aborted"})},m.signal.addEventListener("abort",v)});c(s(h,l,(x=r==null?void 0:r.getPendingMeta)==null?void 0:x.call(r,{requestId:h,arg:l},{getState:u,extra:d}))),p=await Promise.race([C,Promise.resolve(n(l,{dispatch:c,getState:u,extra:d,requestId:h,signal:m.signal,abort:w,rejectWithValue:(I,F)=>new Sh(I,F),fulfillWithValue:(I,F)=>new c_(I,F)})).then(I=>{if(I instanceof Sh)throw I;return I instanceof c_?o(I.payload,h,l,I.meta):o(I,h,l)})])}catch(b){p=b instanceof Sh?i(null,h,l,b.payload,b.meta):i(b,h,l)}finally{v&&m.signal.removeEventListener("abort",v)}return r&&!r.dispatchConditionRejection&&i.match(p)&&p.meta.condition||c(p),p}();return Object.assign(g,{abort:w,requestId:h,arg:l,unwrap(){return g.then(KP)}})}}return Object.assign(a,{pending:s,rejected:i,fulfilled:o,settled:WP(i,o),typePrefix:t})}return e.withTypes=()=>e,e})();function KP(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function GP(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var QP=Symbol.for("rtk-slice-createasyncthunk");function ZP(e,t){return`${e}/${t}`}function YP({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[QP];return function(o){const{name:s,reducerPath:i=s}=o;if(!s)throw new Error(an(11));typeof process<"u";const a=(typeof o.reducers=="function"?o.reducers(e2()):o.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(_,E){const x=typeof _=="string"?_:_.type;if(!x)throw new Error(an(12));if(x in c.sliceCaseReducersByType)throw new Error(an(13));return c.sliceCaseReducersByType[x]=E,u},addMatcher(_,E){return c.sliceMatchers.push({matcher:_,reducer:E}),u},exposeAction(_,E){return c.actionCreators[_]=E,u},exposeCaseReducer(_,E){return c.sliceCaseReducersByName[_]=E,u}};l.forEach(_=>{const E=a[_],x={reducerName:_,type:ZP(s,_),createNotation:typeof o.reducers=="function"};n2(E)?o2(x,E,u,t):t2(x,E,u)});function d(){const[_={},E=[],x=void 0]=typeof o.extraReducers=="function"?Bx(o.extraReducers):[o.extraReducers],b={..._,...c.sliceCaseReducersByType};return UP(o.initialState,C=>{for(let I in b)C.addCase(I,b[I]);for(let I of c.sliceMatchers)C.addMatcher(I.matcher,I.reducer);for(let I of E)C.addMatcher(I.matcher,I.reducer);x&&C.addDefaultCase(x)})}const h=_=>_,m=new Map;let v;function y(_,E){return v||(v=d()),v(_,E)}function w(){return v||(v=d()),v.getInitialState()}function g(_,E=!1){function x(C){let I=C[_];return typeof I>"u"&&E&&(I=w()),I}function b(C=h){const I=l_(m,E,{insert:()=>new WeakMap});return l_(I,C,{insert:()=>{const F={};for(const[V,oe]of Object.entries(o.selectors??{}))F[V]=XP(oe,C,w,E);return F}})}return{reducerPath:_,getSelectors:b,get selectors(){return b(x)},selectSlice:x}}const p={name:s,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:w,...g(i),injectInto(_,{reducerPath:E,...x}={}){const b=E??i;return _.inject({reducerPath:b,reducer:y},x),{...p,...g(b,!0)}}};return p}}function XP(e,t,n,r){function o(s,...i){let a=t(s);return typeof a>"u"&&r&&(a=n()),e(a,...i)}return o.unwrapped=e,o}var JP=YP();function e2(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function t2({type:e,reducerName:t,createNotation:n},r,o){let s,i;if("reducer"in r){if(n&&!r2(r))throw new Error(an(17));s=r.reducer,i=r.prepare}else s=r;o.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,i?Ar(e,i):Ar(e))}function n2(e){return e._reducerDefinitionType==="asyncThunk"}function r2(e){return e._reducerDefinitionType==="reducerWithPrepare"}function o2({type:e,reducerName:t},n,r,o){if(!o)throw new Error(an(18));const{payloadCreator:s,fulfilled:i,pending:a,rejected:l,settled:c,options:u}=n,d=o(e,s,u);r.exposeAction(t,d),i&&r.addCase(d.fulfilled,i),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(t,{fulfilled:i||Nc,pending:a||Nc,rejected:l||Nc,settled:c||Nc})}function Nc(){}var s2=(e,t)=>{if(typeof e!="function")throw new Error(an(32))},Xg="listenerMiddleware",i2=e=>{let{type:t,actionCreator:n,matcher:r,predicate:o,effect:s}=e;if(t)o=Ar(t).match;else if(n)t=n.type,o=n.match;else if(r)o=r;else if(!o)throw new Error(an(21));return s2(s),{predicate:o,type:t,effect:s}},a2=Object.assign(e=>{const{type:t,predicate:n,effect:r}=i2(e);return{id:zx(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(an(22))}}},{withTypes:()=>a2}),l2=Object.assign(Ar(`${Xg}/add`),{withTypes:()=>l2});Ar(`${Xg}/removeAll`);var c2=Object.assign(Ar(`${Xg}/remove`),{withTypes:()=>c2});function an(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var u_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},u2=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const s=e[n++];t[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){const s=e[n++],i=e[n++],a=e[n++],l=((o&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],i=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|i&63)}}return t.join("")},Hx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const s=e[o],i=o+1<e.length,a=i?e[o+1]:0,l=o+2<e.length,c=l?e[o+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,m=c&63;l||(m=64,i||(h=64)),r.push(n[u],n[d],n[h],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Wx(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):u2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const s=n[e.charAt(o++)],a=o<e.length?n[e.charAt(o)]:0;++o;const c=o<e.length?n[e.charAt(o)]:64;++o;const d=o<e.length?n[e.charAt(o)]:64;if(++o,s==null||a==null||c==null||d==null)throw new d2;const h=s<<2|a>>4;if(r.push(h),c!==64){const m=a<<4&240|c>>2;if(r.push(m),d!==64){const v=c<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class d2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f2=function(e){const t=Wx(e);return Hx.encodeByteArray(t,!0)},ed=function(e){return f2(e).replace(/\./g,"")},h2=function(e){try{return Hx.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=()=>p2().__FIREBASE_DEFAULTS__,g2=()=>{if(typeof process>"u"||typeof u_>"u")return;const e=u_.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},y2=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&h2(e[1]);return t&&JSON.parse(t)},Jg=()=>{try{return m2()||g2()||y2()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},v2=e=>{var t,n;return(n=(t=Jg())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},_2=e=>{const t=v2(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},qx=()=>{var e;return(e=Jg())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ed(JSON.stringify(n)),ed(JSON.stringify(i)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T2(){var e;const t=(e=Jg())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S2(){return!T2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b2(){try{return typeof indexedDB=="object"}catch{return!1}}function C2(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var s;t(((s=o.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="FirebaseError";class Fi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=I2,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kx.prototype.create)}}class Kx{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,s=this.errors[t],i=s?A2(s,r):"Error",a=`${this.serviceName}: ${i} (${o}).`;return new Fi(o,a,r)}}function A2(e,t){return e.replace(R2,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const R2=/\{\$([^}]+)}/g;function em(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const s=e[o],i=t[o];if(d_(s)&&d_(i)){if(!em(s,i))return!1}else if(s!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function d_(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(e){return e&&e._delegate?e._delegate:e}class sl{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new w2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($2(t))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:o});r.resolve(s)}catch{}}}}clearInstance(t=Bo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Bo){return this.instances.has(t)}getOptions(t=Bo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&i.resolve(o)}return o}onInit(t,n){var r;const o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(o,s);const i=this.instances.get(o);return i&&t(i,o),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:P2(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Bo){return this.component?this.component.multipleInstances?t:Bo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function P2(e){return e===Bo?void 0:e}function $2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new k2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Te||(Te={}));const D2={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},O2=Te.INFO,M2={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},V2=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),o=M2[t];if(o)console[o](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Gx{constructor(t){this.name=t,this._logLevel=O2,this._logHandler=V2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Te))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?D2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...t),this._logHandler(this,Te.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...t),this._logHandler(this,Te.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...t),this._logHandler(this,Te.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...t),this._logHandler(this,Te.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...t),this._logHandler(this,Te.ERROR,...t)}}const L2=(e,t)=>t.some(n=>e instanceof n);let f_,h_;function F2(){return f_||(f_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j2(){return h_||(h_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qx=new WeakMap,tm=new WeakMap,Zx=new WeakMap,bh=new WeakMap,ey=new WeakMap;function U2(e){const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{n(ho(e.result)),o()},i=()=>{r(e.error),o()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(n=>{n instanceof IDBCursor&&Qx.set(n,e)}).catch(()=>{}),ey.set(t,e),t}function B2(e){if(tm.has(e))return;const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{n(),o()},i=()=>{r(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});tm.set(e,t)}let nm={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return tm.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Zx.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ho(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function z2(e){nm=e(nm)}function W2(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Ch(this),t,...n);return Zx.set(r,t.sort?t.sort():[t]),ho(r)}:j2().includes(e)?function(...t){return e.apply(Ch(this),t),ho(Qx.get(this))}:function(...t){return ho(e.apply(Ch(this),t))}}function H2(e){return typeof e=="function"?W2(e):(e instanceof IDBTransaction&&B2(e),L2(e,F2())?new Proxy(e,nm):e)}function ho(e){if(e instanceof IDBRequest)return U2(e);if(bh.has(e))return bh.get(e);const t=H2(e);return t!==e&&(bh.set(e,t),ey.set(t,e)),t}const Ch=e=>ey.get(e);function q2(e,t,{blocked:n,upgrade:r,blocking:o,terminated:s}={}){const i=indexedDB.open(e,t),a=ho(i);return r&&i.addEventListener("upgradeneeded",l=>{r(ho(i.result),l.oldVersion,l.newVersion,ho(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),o&&l.addEventListener("versionchange",c=>o(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const K2=["get","getKey","getAll","getAllKeys","count"],G2=["put","add","delete","clear"],Ih=new Map;function p_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ih.get(t))return Ih.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=G2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||K2.includes(n)))return;const s=async function(i,...a){const l=this.transaction(i,o?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),o&&l.done]))[0]};return Ih.set(t,s),s}z2(e=>({...e,get:(t,n,r)=>p_(t,n)||e.get(t,n,r),has:(t,n)=>!!p_(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Z2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Z2(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const rm="@firebase/app",m_="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new Gx("@firebase/app"),Y2="@firebase/app-compat",X2="@firebase/analytics-compat",J2="@firebase/analytics",e$="@firebase/app-check-compat",t$="@firebase/app-check",n$="@firebase/auth",r$="@firebase/auth-compat",o$="@firebase/database",s$="@firebase/database-compat",i$="@firebase/functions",a$="@firebase/functions-compat",l$="@firebase/installations",c$="@firebase/installations-compat",u$="@firebase/messaging",d$="@firebase/messaging-compat",f$="@firebase/performance",h$="@firebase/performance-compat",p$="@firebase/remote-config",m$="@firebase/remote-config-compat",g$="@firebase/storage",y$="@firebase/storage-compat",v$="@firebase/firestore",_$="@firebase/firestore-compat",w$="firebase",E$="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="[DEFAULT]",x$={[rm]:"fire-core",[Y2]:"fire-core-compat",[J2]:"fire-analytics",[X2]:"fire-analytics-compat",[t$]:"fire-app-check",[e$]:"fire-app-check-compat",[n$]:"fire-auth",[r$]:"fire-auth-compat",[o$]:"fire-rtdb",[s$]:"fire-rtdb-compat",[i$]:"fire-fn",[a$]:"fire-fn-compat",[l$]:"fire-iid",[c$]:"fire-iid-compat",[u$]:"fire-fcm",[d$]:"fire-fcm-compat",[f$]:"fire-perf",[h$]:"fire-perf-compat",[p$]:"fire-rc",[m$]:"fire-rc-compat",[g$]:"fire-gcs",[y$]:"fire-gcs-compat",[v$]:"fire-fst",[_$]:"fire-fst-compat","fire-js":"fire-js",[w$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new Map,T$=new Map,sm=new Map;function g_(e,t){try{e.container.addComponent(t)}catch(n){as.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function nd(e){const t=e.name;if(sm.has(t))return as.debug(`There were multiple attempts to register component ${t}.`),!1;sm.set(t,e);for(const n of td.values())g_(n,e);for(const n of T$.values())g_(n,e);return!0}function S$(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},po=new Kx("app","Firebase",b$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw po.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$=E$;function Yx(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:om,automaticDataCollectionEnabled:!1},t),o=r.name;if(typeof o!="string"||!o)throw po.create("bad-app-name",{appName:String(o)});if(n||(n=qx()),!n)throw po.create("no-options");const s=td.get(o);if(s){if(em(n,s.options)&&em(r,s.config))return s;throw po.create("duplicate-app",{appName:o})}const i=new N2(o);for(const l of sm.values())i.addComponent(l);const a=new C$(n,r,i);return td.set(o,a),a}function A$(e=om){const t=td.get(e);if(!t&&e===om&&qx())return Yx();if(!t)throw po.create("no-app",{appName:e});return t}function ii(e,t,n){var r;let o=(r=x$[e])!==null&&r!==void 0?r:e;n&&(o+=`-${n}`);const s=o.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const a=[`Unable to register library "${o}" with version "${t}":`];s&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),as.warn(a.join(" "));return}nd(new sl(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$="firebase-heartbeat-database",k$=1,il="firebase-heartbeat-store";let Ah=null;function Xx(){return Ah||(Ah=q2(R$,k$,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(il)}catch(n){console.warn(n)}}}}).catch(e=>{throw po.create("idb-open",{originalErrorMessage:e.message})})),Ah}async function P$(e){try{const n=(await Xx()).transaction(il),r=await n.objectStore(il).get(Jx(e));return await n.done,r}catch(t){if(t instanceof Fi)as.warn(t.message);else{const n=po.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});as.warn(n.message)}}}async function y_(e,t){try{const r=(await Xx()).transaction(il,"readwrite");await r.objectStore(il).put(t,Jx(e)),await r.done}catch(n){if(n instanceof Fi)as.warn(n.message);else{const r=po.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});as.warn(r.message)}}}function Jx(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$=1024,N$=30*24*60*60*1e3;class D${constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new M$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=v_();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const a=new Date(i.date).valueOf();return Date.now()-a<=N$}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=v_(),{heartbeatsToSend:r,unsentEntries:o}=O$(this._heartbeatsCache.heartbeats),s=ed(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function v_(){return new Date().toISOString().substring(0,10)}function O$(e,t=$$){const n=[];let r=e.slice();for(const o of e){const s=n.find(i=>i.agent===o.agent);if(s){if(s.dates.push(o.date),__(n)>t){s.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),__(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class M${constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return b2()?C2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await P$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return y_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return y_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function __(e){return ed(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(e){nd(new sl("platform-logger",t=>new Q2(t),"PRIVATE")),nd(new sl("heartbeat",t=>new D$(t),"PRIVATE")),ii(rm,m_,e),ii(rm,m_,"esm2017"),ii("fire-js","")}V$("");var L$="firebase",F$="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(L$,F$,"app");var j$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W,ty=ty||{},fe=j$||self;function Yd(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Xd(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function U$(e){return Object.prototype.hasOwnProperty.call(e,Rh)&&e[Rh]||(e[Rh]=++B$)}var Rh="closure_uid_"+(1e9*Math.random()>>>0),B$=0;function z$(e,t,n){return e.call.apply(e.bind,arguments)}function W$(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function Ft(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ft=z$:Ft=W$,Ft.apply(null,arguments)}function Dc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Et(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,o,s){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[o].apply(r,i)}}function Oo(){this.s=this.s,this.o=this.o}var H$=0;Oo.prototype.s=!1;Oo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),H$!=0)&&U$(this)};Oo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const eT=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ny(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function w_(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Yd(r)){const o=e.length||0,s=r.length||0;e.length=o+s;for(let i=0;i<s;i++)e[o+i]=r[i]}else e.push(r)}}function jt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}jt.prototype.h=function(){this.defaultPrevented=!0};var q$=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};fe.addEventListener("test",n,t),fe.removeEventListener("test",n,t)}catch{}return e}();function al(e){return/^[\s\xa0]*$/.test(e)}function Jd(){var e=fe.navigator;return e&&(e=e.userAgent)?e:""}function tr(e){return Jd().indexOf(e)!=-1}function ry(e){return ry[" "](e),e}ry[" "]=function(){};function K$(e,t){var n=jN;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var G$=tr("Opera"),xi=tr("Trident")||tr("MSIE"),tT=tr("Edge"),im=tT||xi,nT=tr("Gecko")&&!(Jd().toLowerCase().indexOf("webkit")!=-1&&!tr("Edge"))&&!(tr("Trident")||tr("MSIE"))&&!tr("Edge"),Q$=Jd().toLowerCase().indexOf("webkit")!=-1&&!tr("Edge");function rT(){var e=fe.document;return e?e.documentMode:void 0}var am;e:{var kh="",Ph=function(){var e=Jd();if(nT)return/rv:([^\);]+)(\)|;)/.exec(e);if(tT)return/Edge\/([\d\.]+)/.exec(e);if(xi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Q$)return/WebKit\/(\S+)/.exec(e);if(G$)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Ph&&(kh=Ph?Ph[1]:""),xi){var $h=rT();if($h!=null&&$h>parseFloat(kh)){am=String($h);break e}}am=kh}var lm;if(fe.document&&xi){var E_=rT();lm=E_||parseInt(am,10)||void 0}else lm=void 0;var Z$=lm;function ll(e,t){if(jt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(nT){e:{try{ry(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Y$[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ll.$.h.call(this)}}Et(ll,jt);var Y$={2:"touch",3:"pen",4:"mouse"};ll.prototype.h=function(){ll.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ef="closure_listenable_"+(1e6*Math.random()|0),X$=0;function J$(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=o,this.key=++X$,this.fa=this.ia=!1}function tf(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function oy(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function eN(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function oT(e){const t={};for(const n in e)t[n]=e[n];return t}const x_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sT(e,t){let n,r;for(let o=1;o<arguments.length;o++){r=arguments[o];for(n in r)e[n]=r[n];for(let s=0;s<x_.length;s++)n=x_[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function nf(e){this.src=e,this.g={},this.h=0}nf.prototype.add=function(e,t,n,r,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var i=um(e,t,r,o);return-1<i?(t=e[i],n||(t.ia=!1)):(t=new J$(t,this.src,s,!!r,o),t.ia=n,e.push(t)),t};function cm(e,t){var n=t.type;if(n in e.g){var r=e.g[n],o=eT(r,t),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(tf(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function um(e,t,n,r){for(var o=0;o<e.length;++o){var s=e[o];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return o}return-1}var sy="closure_lm_"+(1e6*Math.random()|0),Nh={};function iT(e,t,n,r,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)iT(e,t[s],n,r,o);return null}return n=cT(n),e&&e[ef]?e.O(t,n,Xd(r)?!!r.capture:!!r,o):tN(e,t,n,!1,r,o)}function tN(e,t,n,r,o,s){if(!t)throw Error("Invalid event type");var i=Xd(o)?!!o.capture:!!o,a=ay(e);if(a||(e[sy]=a=new nf(e)),n=a.add(t,n,r,i,s),n.proxy)return n;if(r=nN(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)q$||(o=i),o===void 0&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(lT(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function nN(){function e(n){return t.call(e.src,e.listener,n)}const t=rN;return e}function aT(e,t,n,r,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)aT(e,t[s],n,r,o);else r=Xd(r)?!!r.capture:!!r,n=cT(n),e&&e[ef]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=um(s,n,r,o),-1<n&&(tf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=ay(e))&&(t=e.g[t.toString()],e=-1,t&&(e=um(t,n,r,o)),(n=-1<e?t[e]:null)&&iy(n))}function iy(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[ef])cm(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(lT(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ay(t))?(cm(n,e),n.h==0&&(n.src=null,t[sy]=null)):tf(e)}}}function lT(e){return e in Nh?Nh[e]:Nh[e]="on"+e}function rN(e,t){if(e.fa)e=!0;else{t=new ll(t,this);var n=e.listener,r=e.la||e.src;e.ia&&iy(e),e=n.call(r,t)}return e}function ay(e){return e=e[sy],e instanceof nf?e:null}var Dh="__closure_events_fn_"+(1e9*Math.random()>>>0);function cT(e){return typeof e=="function"?e:(e[Dh]||(e[Dh]=function(t){return e.handleEvent(t)}),e[Dh])}function wt(){Oo.call(this),this.i=new nf(this),this.S=this,this.J=null}Et(wt,Oo);wt.prototype[ef]=!0;wt.prototype.removeEventListener=function(e,t,n,r){aT(this,e,t,n,r)};function At(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new jt(t,e);else if(t instanceof jt)t.target=t.target||e;else{var o=t;t=new jt(r,e),sT(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var i=t.g=n[s];o=Oc(i,r,!0,t)&&o}if(i=t.g=e,o=Oc(i,r,!0,t)&&o,o=Oc(i,r,!1,t)&&o,n)for(s=0;s<n.length;s++)i=t.g=n[s],o=Oc(i,r,!1,t)&&o}wt.prototype.N=function(){if(wt.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)tf(n[r]);delete e.g[t],e.h--}}this.J=null};wt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};wt.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Oc(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var i=t[s];if(i&&!i.fa&&i.capture==n){var a=i.listener,l=i.la||i.src;i.ia&&cm(e.i,i),o=a.call(l,r)!==!1&&o}}return o&&!r.defaultPrevented}var ly=fe.JSON.stringify;class oN{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function sN(){var e=cy;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class iN{constructor(){this.h=this.g=null}add(t,n){const r=uT.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var uT=new oN(()=>new aN,e=>e.reset());class aN{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function lN(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function cN(e){fe.setTimeout(()=>{throw e},0)}let cl,ul=!1,cy=new iN,dT=()=>{const e=fe.Promise.resolve(void 0);cl=()=>{e.then(uN)}};var uN=()=>{for(var e;e=sN();){try{e.h.call(e.g)}catch(n){cN(n)}var t=uT;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ul=!1};function rf(e,t){wt.call(this),this.h=e||1,this.g=t||fe,this.j=Ft(this.qb,this),this.l=Date.now()}Et(rf,wt);W=rf.prototype;W.ga=!1;W.T=null;W.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),At(this,"tick"),this.ga&&(uy(this),this.start()))}};W.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function uy(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}W.N=function(){rf.$.N.call(this),uy(this),delete this.g};function dy(e,t,n){if(typeof e=="function")n&&(e=Ft(e,n));else if(e&&typeof e.handleEvent=="function")e=Ft(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:fe.setTimeout(e,t||0)}function fT(e){e.g=dy(()=>{e.g=null,e.i&&(e.i=!1,fT(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class dN extends Oo{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:fT(this)}N(){super.N(),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dl(e){Oo.call(this),this.h=e,this.g={}}Et(dl,Oo);var T_=[];function hT(e,t,n,r){Array.isArray(n)||(n&&(T_[0]=n.toString()),n=T_);for(var o=0;o<n.length;o++){var s=iT(t,n[o],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function pT(e){oy(e.g,function(t,n){this.g.hasOwnProperty(n)&&iy(t)},e),e.g={}}dl.prototype.N=function(){dl.$.N.call(this),pT(this)};dl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function of(){this.g=!0}of.prototype.Ea=function(){this.g=!1};function fN(e,t,n,r,o,s){e.info(function(){if(e.g)if(s)for(var i="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");i=2<=d.length&&d[1]=="type"?i+(u+"="+c+"&"):i+(u+"=redacted&")}}else i=null;else i=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+`
`+n+`
`+i})}function hN(e,t,n,r,o,s,i){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+i})}function Xs(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+mN(e,n)+(r?" "+r:"")})}function pN(e,t){e.info(function(){return"TIMEOUT: "+t})}of.prototype.info=function(){};function mN(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var i=1;i<o.length;i++)o[i]=""}}}}return ly(n)}catch{return t}}var _s={},S_=null;function sf(){return S_=S_||new wt}_s.Ta="serverreachability";function mT(e){jt.call(this,_s.Ta,e)}Et(mT,jt);function fl(e){const t=sf();At(t,new mT(t))}_s.STAT_EVENT="statevent";function gT(e,t){jt.call(this,_s.STAT_EVENT,e),this.stat=t}Et(gT,jt);function qt(e){const t=sf();At(t,new gT(t,e))}_s.Ua="timingevent";function yT(e,t){jt.call(this,_s.Ua,e),this.size=t}Et(yT,jt);function Gl(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){e()},t)}var af={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function fy(){}fy.prototype.h=null;function b_(e){return e.h||(e.h=e.i())}function _T(){}var Ql={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function hy(){jt.call(this,"d")}Et(hy,jt);function py(){jt.call(this,"c")}Et(py,jt);var dm;function lf(){}Et(lf,fy);lf.prototype.g=function(){return new XMLHttpRequest};lf.prototype.i=function(){return{}};dm=new lf;function Zl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new dl(this),this.P=gN,e=im?125:void 0,this.V=new rf(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new wT}function wT(){this.i=null,this.g="",this.h=!1}var gN=45e3,ET={},fm={};W=Zl.prototype;W.setTimeout=function(e){this.P=e};function hm(e,t,n){e.L=1,e.A=uf(Mr(t)),e.u=n,e.S=!0,xT(e,null)}function xT(e,t){e.G=Date.now(),Yl(e),e.B=Mr(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),kT(n.i,"t",r),e.o=0,n=e.l.J,e.h=new wT,e.g=YT(e.l,n?t:null,!e.u),0<e.O&&(e.M=new dN(Ft(e.Pa,e,e.g),e.O)),hT(e.U,e.g,"readystatechange",e.nb),t=e.I?oT(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),fl(),fN(e.j,e.v,e.B,e.m,e.W,e.u)}W.nb=function(e){e=e.target;const t=this.M;t&&or(e)==3?t.l():this.Pa(e)};W.Pa=function(e){try{if(e==this.g)e:{const u=or(this.g);var t=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||im||this.g&&(this.h.h||this.g.ja()||R_(this.g)))){this.J||u!=4||t==7||(t==8||0>=d?fl(3):fl(2)),cf(this);var n=this.g.da();this.ca=n;t:if(TT(this)){var r=R_(this.g);e="";var o=r.length,s=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ko(this),Da(this);var i="";break t}this.h.i=new fe.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==o-1});r.length=0,this.h.g+=e,this.o=0,i=this.h.g}else i=this.g.ja();if(this.i=n==200,hN(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!al(a)){var c=a;break t}}c=null}if(n=c)Xs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pm(this,n);else{this.i=!1,this.s=3,qt(12),Ko(this),Da(this);break e}}this.S?(ST(this,u,i),im&&this.i&&u==3&&(hT(this.U,this.V,"tick",this.mb),this.V.start())):(Xs(this.j,this.m,i,null),pm(this,i)),u==4&&Ko(this),this.i&&!this.J&&(u==4?KT(this.l,this):(this.i=!1,Yl(this)))}else VN(this.g),n==400&&0<i.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),Ko(this),Da(this)}}}catch{}finally{}};function TT(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function ST(e,t,n){let r=!0,o;for(;!e.J&&e.o<n.length;)if(o=yN(e,n),o==fm){t==4&&(e.s=4,qt(14),r=!1),Xs(e.j,e.m,null,"[Incomplete Response]");break}else if(o==ET){e.s=4,qt(15),Xs(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Xs(e.j,e.m,o,null),pm(e,o);TT(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,qt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),wy(t),t.M=!0,qt(11))):(Xs(e.j,e.m,n,"[Invalid Chunked Response]"),Ko(e),Da(e))}W.mb=function(){if(this.g){var e=or(this.g),t=this.g.ja();this.o<t.length&&(cf(this),ST(this,e,t),this.i&&e!=4&&Yl(this))}};function yN(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?fm:(n=Number(t.substring(n,r)),isNaN(n)?ET:(r+=1,r+n>t.length?fm:(t=t.slice(r,r+n),e.o=r+n,t)))}W.cancel=function(){this.J=!0,Ko(this)};function Yl(e){e.Y=Date.now()+e.P,bT(e,e.P)}function bT(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=Gl(Ft(e.lb,e),t)}function cf(e){e.C&&(fe.clearTimeout(e.C),e.C=null)}W.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(pN(this.j,this.B),this.L!=2&&(fl(),qt(17)),Ko(this),this.s=2,Da(this)):bT(this,this.Y-e)};function Da(e){e.l.H==0||e.J||KT(e.l,e)}function Ko(e){cf(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,uy(e.V),pT(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function pm(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||mm(n.i,e))){if(!e.K&&mm(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)sd(n),hf(n);else break e;_y(n),qt(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&n.A==0&&!n.v&&(n.v=Gl(Ft(n.ib,n),6e3));if(1>=NT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Go(n,11)}else if((e.K||n.g==e)&&sd(n),!al(t))for(o=n.Ja.g.parse(t),t=0;t<o.length;t++){let c=o[t];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=e.g;if(m){const v=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(my(s,s.h),s.h=null))}if(r.F){const y=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,ze(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var i=e;if(r.wa=ZT(r,r.J?r.pa:null,r.Y),i.K){DT(r.i,i);var a=i,l=r.L;l&&a.setTimeout(l),a.C&&(cf(a),Yl(a)),r.g=i}else HT(r);0<n.j.length&&pf(n)}else c[0]!="stop"&&c[0]!="close"||Go(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Go(n,7):vy(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}fl(4)}catch{}}function vN(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Yd(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function _N(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Yd(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function CT(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Yd(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=_N(e),r=vN(e),o=r.length,s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}var IT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wN(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var s=e[n].substring(0,r);o=e[n].substring(r+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Jo(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Jo){this.h=e.h,rd(this,e.j),this.s=e.s,this.g=e.g,od(this,e.m),this.l=e.l;var t=e.i,n=new hl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),C_(this,n),this.o=e.o}else e&&(t=String(e).match(IT))?(this.h=!1,rd(this,t[1]||"",!0),this.s=va(t[2]||""),this.g=va(t[3]||"",!0),od(this,t[4]),this.l=va(t[5]||"",!0),C_(this,t[6]||"",!0),this.o=va(t[7]||"")):(this.h=!1,this.i=new hl(null,this.h))}Jo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(_a(t,I_,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(_a(t,I_,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(_a(n,n.charAt(0)=="/"?TN:xN,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",_a(n,bN)),e.join("")};function Mr(e){return new Jo(e)}function rd(e,t,n){e.j=n?va(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function od(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function C_(e,t,n){t instanceof hl?(e.i=t,CN(e.i,e.h)):(n||(t=_a(t,SN)),e.i=new hl(t,e.h))}function ze(e,t,n){e.i.set(t,n)}function uf(e){return ze(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function va(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function _a(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,EN),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function EN(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var I_=/[#\/\?@]/g,xN=/[#\?:]/g,TN=/[#\?]/g,SN=/[#\?@]/g,bN=/#/g;function hl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Mo(e){e.g||(e.g=new Map,e.h=0,e.i&&wN(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}W=hl.prototype;W.add=function(e,t){Mo(this),this.i=null,e=ji(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function AT(e,t){Mo(e),t=ji(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function RT(e,t){return Mo(e),t=ji(e,t),e.g.has(t)}W.forEach=function(e,t){Mo(this),this.g.forEach(function(n,r){n.forEach(function(o){e.call(t,o,r,this)},this)},this)};W.ta=function(){Mo(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const o=e[r];for(let s=0;s<o.length;s++)n.push(t[r])}return n};W.Z=function(e){Mo(this);let t=[];if(typeof e=="string")RT(this,e)&&(t=t.concat(this.g.get(ji(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};W.set=function(e,t){return Mo(this),this.i=null,e=ji(this,e),RT(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};W.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function kT(e,t,n){AT(e,t),0<n.length&&(e.i=null,e.g.set(ji(e,t),ny(n)),e.h+=n.length)}W.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),i=this.Z(r);for(r=0;r<i.length;r++){var o=s;i[r]!==""&&(o+="="+encodeURIComponent(String(i[r]))),e.push(o)}}return this.i=e.join("&")};function ji(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function CN(e,t){t&&!e.j&&(Mo(e),e.i=null,e.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(AT(this,r),kT(this,o,n))},e)),e.j=t}var IN=class{constructor(e,t){this.g=e,this.map=t}};function PT(e){this.l=e||AN,fe.PerformanceNavigationTiming?(e=fe.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(fe.g&&fe.g.Ka&&fe.g.Ka()&&fe.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var AN=10;function $T(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function NT(e){return e.h?1:e.g?e.g.size:0}function mm(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function my(e,t){e.g?e.g.add(t):e.h=t}function DT(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}PT.prototype.cancel=function(){if(this.i=OT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function OT(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return ny(e.i)}var RN=class{stringify(e){return fe.JSON.stringify(e,void 0)}parse(e){return fe.JSON.parse(e,void 0)}};function kN(){this.g=new RN}function PN(e,t,n){const r=n||"";try{CT(e,function(o,s){let i=o;Xd(o)&&(i=ly(o)),t.push(r+s+"="+encodeURIComponent(i))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function $N(e,t){const n=new of;if(fe.Image){const r=new Image;r.onload=Dc(Mc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Dc(Mc,n,r,"TestLoadImage: error",!1,t),r.onabort=Dc(Mc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Dc(Mc,n,r,"TestLoadImage: timeout",!1,t),fe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Mc(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch{}}function Xl(e){this.l=e.ec||null,this.j=e.ob||!1}Et(Xl,fy);Xl.prototype.g=function(){return new df(this.l,this.j)};Xl.prototype.i=function(e){return function(){return e}}({});function df(e,t){wt.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=gy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Et(df,wt);var gy=0;W=df.prototype;W.open=function(e,t){if(this.readyState!=gy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,pl(this)};W.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||fe).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jl(this)),this.readyState=gy};W.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,pl(this)),this.g&&(this.readyState=3,pl(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof fe.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;MT(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function MT(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}W.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Jl(this):pl(this),this.readyState==3&&MT(this)}};W.Za=function(e){this.g&&(this.response=this.responseText=e,Jl(this))};W.Ya=function(e){this.g&&(this.response=e,Jl(this))};W.ka=function(){this.g&&Jl(this)};function Jl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,pl(e)}W.setRequestHeader=function(e,t){this.v.append(e,t)};W.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};W.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function pl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(df.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var NN=fe.JSON.parse;function nt(e){wt.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=VT,this.L=this.M=!1}Et(nt,wt);var VT="",DN=/^https?$/i,ON=["POST","PUT"];W=nt.prototype;W.Oa=function(e){this.M=e};W.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():dm.g(),this.C=this.u?b_(this.u):b_(dm),this.g.onreadystatechange=Ft(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){A_(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),o=fe.FormData&&e instanceof fe.FormData,!(0<=eT(ON,t))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,i]of n)this.g.setRequestHeader(s,i);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{jT(this),0<this.B&&((this.L=MN(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ft(this.ua,this)):this.A=dy(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){A_(this,s)}};function MN(e){return xi&&typeof e.timeout=="number"&&e.ontimeout!==void 0}W.ua=function(){typeof ty<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,At(this,"timeout"),this.abort(8))};function A_(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,LT(e),ff(e)}function LT(e){e.F||(e.F=!0,At(e,"complete"),At(e,"error"))}W.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,At(this,"complete"),At(this,"abort"),ff(this))};W.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ff(this,!0)),nt.$.N.call(this)};W.La=function(){this.s||(this.G||this.v||this.l?FT(this):this.kb())};W.kb=function(){FT(this)};function FT(e){if(e.h&&typeof ty<"u"&&(!e.C[1]||or(e)!=4||e.da()!=2)){if(e.v&&or(e)==4)dy(e.La,0,e);else if(At(e,"readystatechange"),or(e)==4){e.h=!1;try{const i=e.da();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=i===0){var o=String(e.I).match(IT)[1]||null;!o&&fe.self&&fe.self.location&&(o=fe.self.location.protocol.slice(0,-1)),r=!DN.test(o?o.toLowerCase():"")}n=r}if(n)At(e,"complete"),At(e,"success");else{e.m=6;try{var s=2<or(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",LT(e)}}finally{ff(e)}}}}function ff(e,t){if(e.g){jT(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||At(e,"ready");try{n.onreadystatechange=r}catch{}}}function jT(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(fe.clearTimeout(e.A),e.A=null)}W.isActive=function(){return!!this.g};function or(e){return e.g?e.g.readyState:0}W.da=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}};W.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};W.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),NN(t)}};function R_(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case VT:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function VN(e){const t={};e=(e.g&&2<=or(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(al(e[r]))continue;var n=lN(e[r]);const o=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[o]||[];t[o]=s,s.push(n)}eN(t,function(r){return r.join(", ")})}W.Ia=function(){return this.m};W.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function UT(e){let t="";return oy(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function yy(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=UT(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ze(e,t,n))}function la(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function BT(e){this.Ga=0,this.j=[],this.l=new of,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=la("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=la("baseRetryDelayMs",5e3,e),this.hb=la("retryDelaySeedMs",1e4,e),this.eb=la("forwardChannelMaxRetries",2,e),this.xa=la("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new PT(e&&e.concurrentRequestLimit),this.Ja=new kN,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}W=BT.prototype;W.ra=8;W.H=1;function vy(e){if(zT(e),e.H==3){var t=e.W++,n=Mr(e.I);if(ze(n,"SID",e.K),ze(n,"RID",t),ze(n,"TYPE","terminate"),ec(e,n),t=new Zl(e,e.l,t),t.L=2,t.A=uf(Mr(n)),n=!1,fe.navigator&&fe.navigator.sendBeacon)try{n=fe.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&fe.Image&&(new Image().src=t.A,n=!0),n||(t.g=YT(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Yl(t)}QT(e)}function hf(e){e.g&&(wy(e),e.g.cancel(),e.g=null)}function zT(e){hf(e),e.u&&(fe.clearTimeout(e.u),e.u=null),sd(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&fe.clearTimeout(e.m),e.m=null)}function pf(e){if(!$T(e.i)&&!e.m){e.m=!0;var t=e.Na;cl||dT(),ul||(cl(),ul=!0),cy.add(t,e),e.C=0}}function LN(e,t){return NT(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Gl(Ft(e.Na,e,t),GT(e,e.C)),e.C++,!0)}W.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const o=new Zl(this,this.l,e);let s=this.s;if(this.U&&(s?(s=oT(s),sT(s,this.U)):s=this.U),this.o!==null||this.O||(o.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=WT(this,o,t),n=Mr(this.I),ze(n,"RID",e),ze(n,"CVER",22),this.F&&ze(n,"X-HTTP-Session-Id",this.F),ec(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(UT(s)))+"&"+t:this.o&&yy(n,this.o,s)),my(this.i,o),this.bb&&ze(n,"TYPE","init"),this.P?(ze(n,"$req",t),ze(n,"SID","null"),o.aa=!0,hm(o,n,null)):hm(o,n,t),this.H=2}}else this.H==3&&(e?k_(this,e):this.j.length==0||$T(this.i)||k_(this))};function k_(e,t){var n;t?n=t.m:n=e.W++;const r=Mr(e.I);ze(r,"SID",e.K),ze(r,"RID",n),ze(r,"AID",e.V),ec(e,r),e.o&&e.s&&yy(r,e.o,e.s),n=new Zl(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=WT(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),my(e.i,n),hm(n,r,t)}function ec(e,t){e.na&&oy(e.na,function(n,r){ze(t,r,n)}),e.h&&CT({},function(n,r){ze(t,r,n)})}function WT(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ft(e.h.Va,e.h,e):null;e:{var o=e.j;let s=-1;for(;;){const i=["count="+n];s==-1?0<n?(s=o[0].g,i.push("ofs="+s)):s=0:i.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=o[l].g;const u=o[l].map;if(c-=s,0>c)s=Math.max(0,o[l].g-100),a=!1;else try{PN(u,i,"req"+c+"_")}catch{r&&r(u)}}if(a){r=i.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function HT(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;cl||dT(),ul||(cl(),ul=!0),cy.add(t,e),e.A=0}}function _y(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Gl(Ft(e.Ma,e),GT(e,e.A)),e.A++,!0)}W.Ma=function(){if(this.u=null,qT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Gl(Ft(this.jb,this),e)}};W.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,qt(10),hf(this),qT(this))};function wy(e){e.B!=null&&(fe.clearTimeout(e.B),e.B=null)}function qT(e){e.g=new Zl(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Mr(e.wa);ze(t,"RID","rpc"),ze(t,"SID",e.K),ze(t,"AID",e.V),ze(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ze(t,"TO",e.qa),ze(t,"TYPE","xmlhttp"),ec(e,t),e.o&&e.s&&yy(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=uf(Mr(t)),n.u=null,n.S=!0,xT(n,e)}W.ib=function(){this.v!=null&&(this.v=null,hf(this),_y(this),qt(19))};function sd(e){e.v!=null&&(fe.clearTimeout(e.v),e.v=null)}function KT(e,t){var n=null;if(e.g==t){sd(e),wy(e),e.g=null;var r=2}else if(mm(e.i,t))n=t.F,DT(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var o=e.C;r=sf(),At(r,new yT(r,n)),pf(e)}else HT(e);else if(o=t.s,o==3||o==0&&0<t.ca||!(r==1&&LN(e,t)||r==2&&_y(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:Go(e,5);break;case 4:Go(e,10);break;case 3:Go(e,6);break;default:Go(e,2)}}}function GT(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Go(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Ft(e.pb,e);n||(n=new Jo("//www.google.com/images/cleardot.gif"),fe.location&&fe.location.protocol=="http"||rd(n,"https"),uf(n)),$N(n.toString(),r)}else qt(2);e.H=0,e.h&&e.h.za(t),QT(e),zT(e)}W.pb=function(e){e?(this.l.info("Successfully pinged google.com"),qt(2)):(this.l.info("Failed to ping google.com"),qt(1))};function QT(e){if(e.H=0,e.ma=[],e.h){const t=OT(e.i);(t.length!=0||e.j.length!=0)&&(w_(e.ma,t),w_(e.ma,e.j),e.i.i.length=0,ny(e.j),e.j.length=0),e.h.ya()}}function ZT(e,t,n){var r=n instanceof Jo?Mr(n):new Jo(n);if(r.g!="")t&&(r.g=t+"."+r.g),od(r,r.m);else{var o=fe.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new Jo(null);r&&rd(s,r),t&&(s.g=t),o&&od(s,o),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&ze(r,n,t),ze(r,"VER",e.ra),ec(e,r),r}function YT(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new nt(new Xl({ob:n})):new nt(e.va),t.Oa(e.J),t}W.isActive=function(){return!!this.h&&this.h.isActive(this)};function XT(){}W=XT.prototype;W.Ba=function(){};W.Aa=function(){};W.za=function(){};W.ya=function(){};W.isActive=function(){return!0};W.Va=function(){};function id(){if(xi&&!(10<=Number(Z$)))throw Error("Environmental error: no available transport.")}id.prototype.g=function(e,t){return new xn(e,t)};function xn(e,t){wt.call(this),this.g=new BT(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!al(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!al(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Ui(this)}Et(xn,wt);xn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;qt(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=ZT(e,null,e.Y),pf(e)};xn.prototype.close=function(){vy(this.g)};xn.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=ly(e),e=n);t.j.push(new IN(t.fb++,e)),t.H==3&&pf(t)};xn.prototype.N=function(){this.g.h=null,delete this.j,vy(this.g),delete this.g,xn.$.N.call(this)};function JT(e){hy.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Et(JT,hy);function eS(){py.call(this),this.status=1}Et(eS,py);function Ui(e){this.g=e}Et(Ui,XT);Ui.prototype.Ba=function(){At(this.g,"a")};Ui.prototype.Aa=function(e){At(this.g,new JT(e))};Ui.prototype.za=function(e){At(this.g,new eS)};Ui.prototype.ya=function(){At(this.g,"b")};function FN(){this.blockSize=-1}function Kn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Et(Kn,FN);Kn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Oh(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var o=0;16>o;++o)r[o]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],o=e.g[2];var s=e.g[3],i=t+(s^n&(o^s))+r[0]+3614090360&4294967295;t=n+(i<<7&4294967295|i>>>25),i=s+(o^t&(n^o))+r[1]+3905402710&4294967295,s=t+(i<<12&4294967295|i>>>20),i=o+(n^s&(t^n))+r[2]+606105819&4294967295,o=s+(i<<17&4294967295|i>>>15),i=n+(t^o&(s^t))+r[3]+3250441966&4294967295,n=o+(i<<22&4294967295|i>>>10),i=t+(s^n&(o^s))+r[4]+4118548399&4294967295,t=n+(i<<7&4294967295|i>>>25),i=s+(o^t&(n^o))+r[5]+1200080426&4294967295,s=t+(i<<12&4294967295|i>>>20),i=o+(n^s&(t^n))+r[6]+2821735955&4294967295,o=s+(i<<17&4294967295|i>>>15),i=n+(t^o&(s^t))+r[7]+4249261313&4294967295,n=o+(i<<22&4294967295|i>>>10),i=t+(s^n&(o^s))+r[8]+1770035416&4294967295,t=n+(i<<7&4294967295|i>>>25),i=s+(o^t&(n^o))+r[9]+2336552879&4294967295,s=t+(i<<12&4294967295|i>>>20),i=o+(n^s&(t^n))+r[10]+4294925233&4294967295,o=s+(i<<17&4294967295|i>>>15),i=n+(t^o&(s^t))+r[11]+2304563134&4294967295,n=o+(i<<22&4294967295|i>>>10),i=t+(s^n&(o^s))+r[12]+1804603682&4294967295,t=n+(i<<7&4294967295|i>>>25),i=s+(o^t&(n^o))+r[13]+4254626195&4294967295,s=t+(i<<12&4294967295|i>>>20),i=o+(n^s&(t^n))+r[14]+2792965006&4294967295,o=s+(i<<17&4294967295|i>>>15),i=n+(t^o&(s^t))+r[15]+1236535329&4294967295,n=o+(i<<22&4294967295|i>>>10),i=t+(o^s&(n^o))+r[1]+4129170786&4294967295,t=n+(i<<5&4294967295|i>>>27),i=s+(n^o&(t^n))+r[6]+3225465664&4294967295,s=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(s^t))+r[11]+643717713&4294967295,o=s+(i<<14&4294967295|i>>>18),i=n+(s^t&(o^s))+r[0]+3921069994&4294967295,n=o+(i<<20&4294967295|i>>>12),i=t+(o^s&(n^o))+r[5]+3593408605&4294967295,t=n+(i<<5&4294967295|i>>>27),i=s+(n^o&(t^n))+r[10]+38016083&4294967295,s=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(s^t))+r[15]+3634488961&4294967295,o=s+(i<<14&4294967295|i>>>18),i=n+(s^t&(o^s))+r[4]+3889429448&4294967295,n=o+(i<<20&4294967295|i>>>12),i=t+(o^s&(n^o))+r[9]+568446438&4294967295,t=n+(i<<5&4294967295|i>>>27),i=s+(n^o&(t^n))+r[14]+3275163606&4294967295,s=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(s^t))+r[3]+4107603335&4294967295,o=s+(i<<14&4294967295|i>>>18),i=n+(s^t&(o^s))+r[8]+1163531501&4294967295,n=o+(i<<20&4294967295|i>>>12),i=t+(o^s&(n^o))+r[13]+2850285829&4294967295,t=n+(i<<5&4294967295|i>>>27),i=s+(n^o&(t^n))+r[2]+4243563512&4294967295,s=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(s^t))+r[7]+1735328473&4294967295,o=s+(i<<14&4294967295|i>>>18),i=n+(s^t&(o^s))+r[12]+2368359562&4294967295,n=o+(i<<20&4294967295|i>>>12),i=t+(n^o^s)+r[5]+4294588738&4294967295,t=n+(i<<4&4294967295|i>>>28),i=s+(t^n^o)+r[8]+2272392833&4294967295,s=t+(i<<11&4294967295|i>>>21),i=o+(s^t^n)+r[11]+1839030562&4294967295,o=s+(i<<16&4294967295|i>>>16),i=n+(o^s^t)+r[14]+4259657740&4294967295,n=o+(i<<23&4294967295|i>>>9),i=t+(n^o^s)+r[1]+2763975236&4294967295,t=n+(i<<4&4294967295|i>>>28),i=s+(t^n^o)+r[4]+1272893353&4294967295,s=t+(i<<11&4294967295|i>>>21),i=o+(s^t^n)+r[7]+4139469664&4294967295,o=s+(i<<16&4294967295|i>>>16),i=n+(o^s^t)+r[10]+3200236656&4294967295,n=o+(i<<23&4294967295|i>>>9),i=t+(n^o^s)+r[13]+681279174&4294967295,t=n+(i<<4&4294967295|i>>>28),i=s+(t^n^o)+r[0]+3936430074&4294967295,s=t+(i<<11&4294967295|i>>>21),i=o+(s^t^n)+r[3]+3572445317&4294967295,o=s+(i<<16&4294967295|i>>>16),i=n+(o^s^t)+r[6]+76029189&4294967295,n=o+(i<<23&4294967295|i>>>9),i=t+(n^o^s)+r[9]+3654602809&4294967295,t=n+(i<<4&4294967295|i>>>28),i=s+(t^n^o)+r[12]+3873151461&4294967295,s=t+(i<<11&4294967295|i>>>21),i=o+(s^t^n)+r[15]+530742520&4294967295,o=s+(i<<16&4294967295|i>>>16),i=n+(o^s^t)+r[2]+3299628645&4294967295,n=o+(i<<23&4294967295|i>>>9),i=t+(o^(n|~s))+r[0]+4096336452&4294967295,t=n+(i<<6&4294967295|i>>>26),i=s+(n^(t|~o))+r[7]+1126891415&4294967295,s=t+(i<<10&4294967295|i>>>22),i=o+(t^(s|~n))+r[14]+2878612391&4294967295,o=s+(i<<15&4294967295|i>>>17),i=n+(s^(o|~t))+r[5]+4237533241&4294967295,n=o+(i<<21&4294967295|i>>>11),i=t+(o^(n|~s))+r[12]+1700485571&4294967295,t=n+(i<<6&4294967295|i>>>26),i=s+(n^(t|~o))+r[3]+2399980690&4294967295,s=t+(i<<10&4294967295|i>>>22),i=o+(t^(s|~n))+r[10]+4293915773&4294967295,o=s+(i<<15&4294967295|i>>>17),i=n+(s^(o|~t))+r[1]+2240044497&4294967295,n=o+(i<<21&4294967295|i>>>11),i=t+(o^(n|~s))+r[8]+1873313359&4294967295,t=n+(i<<6&4294967295|i>>>26),i=s+(n^(t|~o))+r[15]+4264355552&4294967295,s=t+(i<<10&4294967295|i>>>22),i=o+(t^(s|~n))+r[6]+2734768916&4294967295,o=s+(i<<15&4294967295|i>>>17),i=n+(s^(o|~t))+r[13]+1309151649&4294967295,n=o+(i<<21&4294967295|i>>>11),i=t+(o^(n|~s))+r[4]+4149444226&4294967295,t=n+(i<<6&4294967295|i>>>26),i=s+(n^(t|~o))+r[11]+3174756917&4294967295,s=t+(i<<10&4294967295|i>>>22),i=o+(t^(s|~n))+r[2]+718787259&4294967295,o=s+(i<<15&4294967295|i>>>17),i=n+(s^(o|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(i<<21&4294967295|i>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+s&4294967295}Kn.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,o=this.h,s=0;s<t;){if(o==0)for(;s<=n;)Oh(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[o++]=e.charCodeAt(s++),o==this.blockSize){Oh(this,r),o=0;break}}else for(;s<t;)if(r[o++]=e[s++],o==this.blockSize){Oh(this,r),o=0;break}}this.h=o,this.i+=t};Kn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Oe(e,t){this.h=t;for(var n=[],r=!0,o=e.length-1;0<=o;o--){var s=e[o]|0;r&&s==t||(n[o]=s,r=!1)}this.g=n}var jN={};function Ey(e){return-128<=e&&128>e?K$(e,function(t){return new Oe([t|0],0>t?-1:0)}):new Oe([e|0],0>e?-1:0)}function sr(e){if(isNaN(e)||!isFinite(e))return ai;if(0>e)return bt(sr(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=gm;return new Oe(t,0)}function tS(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return bt(tS(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=sr(Math.pow(t,8)),r=ai,o=0;o<e.length;o+=8){var s=Math.min(8,e.length-o),i=parseInt(e.substring(o,o+s),t);8>s?(s=sr(Math.pow(t,s)),r=r.R(s).add(sr(i))):(r=r.R(n),r=r.add(sr(i)))}return r}var gm=4294967296,ai=Ey(0),ym=Ey(1),P_=Ey(16777216);W=Oe.prototype;W.ea=function(){if(An(this))return-bt(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:gm+r)*t,t*=gm}return e};W.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Cr(this))return"0";if(An(this))return"-"+bt(this).toString(e);for(var t=sr(Math.pow(e,6)),n=this,r="";;){var o=ld(n,t).g;n=ad(n,o.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=o,Cr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};W.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Cr(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function An(e){return e.h==-1}W.X=function(e){return e=ad(this,e),An(e)?-1:Cr(e)?0:1};function bt(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Oe(n,~e.h).add(ym)}W.abs=function(){return An(this)?bt(this):this};W.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,o=0;o<=t;o++){var s=r+(this.D(o)&65535)+(e.D(o)&65535),i=(s>>>16)+(this.D(o)>>>16)+(e.D(o)>>>16);r=i>>>16,s&=65535,i&=65535,n[o]=i<<16|s}return new Oe(n,n[n.length-1]&-2147483648?-1:0)};function ad(e,t){return e.add(bt(t))}W.R=function(e){if(Cr(this)||Cr(e))return ai;if(An(this))return An(e)?bt(this).R(bt(e)):bt(bt(this).R(e));if(An(e))return bt(this.R(bt(e)));if(0>this.X(P_)&&0>e.X(P_))return sr(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<e.g.length;o++){var s=this.D(r)>>>16,i=this.D(r)&65535,a=e.D(o)>>>16,l=e.D(o)&65535;n[2*r+2*o]+=i*l,Vc(n,2*r+2*o),n[2*r+2*o+1]+=s*l,Vc(n,2*r+2*o+1),n[2*r+2*o+1]+=i*a,Vc(n,2*r+2*o+1),n[2*r+2*o+2]+=s*a,Vc(n,2*r+2*o+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Oe(n,0)};function Vc(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ca(e,t){this.g=e,this.h=t}function ld(e,t){if(Cr(t))throw Error("division by zero");if(Cr(e))return new ca(ai,ai);if(An(e))return t=ld(bt(e),t),new ca(bt(t.g),bt(t.h));if(An(t))return t=ld(e,bt(t)),new ca(bt(t.g),t.h);if(30<e.g.length){if(An(e)||An(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ym,r=t;0>=r.X(e);)n=$_(n),r=$_(r);var o=Ps(n,1),s=Ps(r,1);for(r=Ps(r,2),n=Ps(n,2);!Cr(r);){var i=s.add(r);0>=i.X(e)&&(o=o.add(n),s=i),r=Ps(r,1),n=Ps(n,1)}return t=ad(e,o.R(t)),new ca(o,t)}for(o=ai;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=sr(n),i=s.R(t);An(i)||0<i.X(e);)n-=r,s=sr(n),i=s.R(t);Cr(s)&&(s=ym),o=o.add(s),e=ad(e,i)}return new ca(o,e)}W.gb=function(e){return ld(this,e).h};W.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Oe(n,this.h&e.h)};W.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Oe(n,this.h|e.h)};W.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Oe(n,this.h^e.h)};function $_(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Oe(n,e.h)}function Ps(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,o=[],s=0;s<r;s++)o[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Oe(o,e.h)}id.prototype.createWebChannel=id.prototype.g;xn.prototype.send=xn.prototype.u;xn.prototype.open=xn.prototype.m;xn.prototype.close=xn.prototype.close;af.NO_ERROR=0;af.TIMEOUT=8;af.HTTP_ERROR=6;vT.COMPLETE="complete";_T.EventType=Ql;Ql.OPEN="a";Ql.CLOSE="b";Ql.ERROR="c";Ql.MESSAGE="d";wt.prototype.listen=wt.prototype.O;nt.prototype.listenOnce=nt.prototype.P;nt.prototype.getLastError=nt.prototype.Sa;nt.prototype.getLastErrorCode=nt.prototype.Ia;nt.prototype.getStatus=nt.prototype.da;nt.prototype.getResponseJson=nt.prototype.Wa;nt.prototype.getResponseText=nt.prototype.ja;nt.prototype.send=nt.prototype.ha;nt.prototype.setWithCredentials=nt.prototype.Oa;Kn.prototype.digest=Kn.prototype.l;Kn.prototype.reset=Kn.prototype.reset;Kn.prototype.update=Kn.prototype.j;Oe.prototype.add=Oe.prototype.add;Oe.prototype.multiply=Oe.prototype.R;Oe.prototype.modulo=Oe.prototype.gb;Oe.prototype.compare=Oe.prototype.X;Oe.prototype.toNumber=Oe.prototype.ea;Oe.prototype.toString=Oe.prototype.toString;Oe.prototype.getBits=Oe.prototype.D;Oe.fromNumber=sr;Oe.fromString=tS;var UN=function(){return new id},BN=function(){return sf()},Mh=af,zN=vT,WN=_s,N_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},HN=Xl,Lc=_T,qN=nt,KN=Kn,li=Oe;const D_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bi="10.11.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new Gx("@firebase/firestore");function ua(){return ls.logLevel}function ee(e,...t){if(ls.logLevel<=Te.DEBUG){const n=t.map(xy);ls.debug(`Firestore (${Bi}): ${e}`,...n)}}function Vr(e,...t){if(ls.logLevel<=Te.ERROR){const n=t.map(xy);ls.error(`Firestore (${Bi}): ${e}`,...n)}}function Ti(e,...t){if(ls.logLevel<=Te.WARN){const n=t.map(xy);ls.warn(`Firestore (${Bi}): ${e}`,...n)}}function xy(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(e="Unexpected state"){const t=`FIRESTORE (${Bi}) INTERNAL ASSERTION FAILED: `+e;throw Vr(t),new Error(t)}function Fe(e,t){e||de()}function me(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Fi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class GN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class QN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ZN{constructor(t){this.t=t,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const o=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new mo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mo,t.enqueueRetryable(()=>o(this.currentUser))};const i=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await o(this.currentUser)})},a=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),i()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mo)}},0),i()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new nS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Fe(t===null||typeof t=="string"),new Mt(t)}}class YN{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class XN{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new YN(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JN{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eD{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const i=s.token!==this.R;return this.R=s.token,ee("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const o=s=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>o(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?o(s):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new JN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const o=tD(40);for(let s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=t.charAt(o[s]%t.length))}return r}}function Re(e,t){return e<t?-1:e>t?1:0}function Si(e,t,n){return e.length===t.length&&e.every((r,o)=>n(r,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new J($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new J($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new J($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ht.fromMillis(Date.now())}static fromDate(t){return ht.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new ht(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Re(this.nanoseconds,t.nanoseconds):Re(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t){this.timestamp=t}static fromTimestamp(t){return new pe(t)}static min(){return new pe(new ht(0,0))}static max(){return new pe(new ht(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(t,n,r){n===void 0?n=0:n>t.length&&de(),r===void 0?r=t.length-n:r>t.length-n&&de(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return ml.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ml?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const s=t.get(o),i=n.get(o);if(s<i)return-1;if(s>i)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class We extends ml{construct(t,n,r){return new We(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new J($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new We(n)}static emptyPath(){return new We([])}}const nD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends ml{construct(t,n,r){return new Ct(t,n,r)}static isValidIdentifier(t){return nD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(t){const n=[];let r="",o=0;const s=()=>{if(r.length===0)throw new J($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;o<t.length;){const a=t[o];if(a==="\\"){if(o+1===t.length)throw new J($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[o+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,o+=2}else a==="`"?(i=!i,o++):a!=="."||i?(r+=a,o++):(s(),o++)}if(s(),i)throw new J($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t){this.path=t}static fromPath(t){return new le(We.fromString(t))}static fromName(t){return new le(We.fromString(t).popFirst(5))}static empty(){return new le(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&We.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return We.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new le(new We(t.slice()))}}function rD(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=pe.fromTimestamp(r===1e9?new ht(n+1,0):new ht(n,r));return new Eo(o,le.empty(),t)}function oD(e){return new Eo(e.readTime,e.key,-1)}class Eo{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Eo(pe.min(),le.empty(),-1)}static max(){return new Eo(pe.max(),le.empty(),-1)}}function sD(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=le.comparator(e.documentKey,t.documentKey),n!==0?n:Re(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(e){if(e.code!==$.FAILED_PRECONDITION||e.message!==iD)throw e;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new O((r,o)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,o)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):O.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):O.reject(n)}static resolve(t){return new O((n,r)=>{n(t)})}static reject(t){return new O((n,r)=>{r(t)})}static waitFor(t){return new O((n,r)=>{let o=0,s=0,i=!1;t.forEach(a=>{++o,a.next(()=>{++s,i&&s===o&&n()},l=>r(l))}),i=!0,s===o&&n()})}static or(t){let n=O.resolve(!1);for(const r of t)n=n.next(o=>o?O.resolve(o):r());return n}static forEach(t,n){const r=[];return t.forEach((o,s)=>{r.push(n.call(this,o,s))}),this.waitFor(r)}static mapArray(t,n){return new O((r,o)=>{const s=t.length,i=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(t[c]).next(u=>{i[c]=u,++a,a===s&&r(i)},u=>o(u))}})}static doWhile(t,n){return new O((r,o)=>{const s=()=>{t()===!0?n().next(()=>{s()},o):r()};s()})}}function lD(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nc(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Ty.oe=-1;function mf(e){return e==null}function cd(e){return e===0&&1/e==-1/0}function cD(e){return typeof e=="number"&&Number.isInteger(e)&&!cd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ws(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function oS(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t,n){this.comparator=t,this.root=n||St.EMPTY}insert(t,n){return new et(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(t){return new et(this.comparator,this.root.remove(t,this.comparator).copy(null,null,St.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fc(this.root,t,this.comparator,!0)}}class Fc{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class St{constructor(t,n,r,o,s){this.key=t,this.value=n,this.color=r??St.RED,this.left=o??St.EMPTY,this.right=s??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,s){return new St(t??this.key,n??this.value,r??this.color,o??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const s=r(t,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(t,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return St.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const t=this.left.check();if(t!==this.right.check())throw de();return t+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(t,n,r,o,s){return this}insert(t,n,r){return new St(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t){this.comparator=t,this.data=new et(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new M_(this.data.getIterator())}getIteratorFrom(t){return new M_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Rt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Rt(this.comparator);return n.data=t,n}}class M_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.fields=t,t.sort(Ct.comparator)}static empty(){return new pn([])}unionWith(t){let n=new Rt(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new pn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Si(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new sS("Invalid base64 string: "+s):s}}(t);return new Bt(n)}static fromUint8Array(t){const n=function(o){let s="";for(let i=0;i<o.length;++i)s+=String.fromCharCode(o[i]);return s}(t);return new Bt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Re(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const uD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xo(e){if(Fe(!!e),typeof e=="string"){let t=0;const n=uD.exec(e);if(Fe(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:at(e.seconds),nanos:at(e.nanos)}}function at(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function cs(e){return typeof e=="string"?Bt.fromBase64String(e):Bt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function by(e){const t=e.mapValue.fields.__previous_value__;return Sy(t)?by(t):t}function gl(e){const t=xo(e.mapValue.fields.__local_write_time__.timestampValue);return new ht(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(t,n,r,o,s,i,a,l,c){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class yl{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new yl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof yl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function us(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Sy(e)?4:fD(e)?9007199254740991:10:de()}function dr(e,t){if(e===t)return!0;const n=us(e);if(n!==us(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return gl(e).isEqual(gl(t));case 3:return function(o,s){if(typeof o.timestampValue=="string"&&typeof s.timestampValue=="string"&&o.timestampValue.length===s.timestampValue.length)return o.timestampValue===s.timestampValue;const i=xo(o.timestampValue),a=xo(s.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,s){return cs(o.bytesValue).isEqual(cs(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,s){return at(o.geoPointValue.latitude)===at(s.geoPointValue.latitude)&&at(o.geoPointValue.longitude)===at(s.geoPointValue.longitude)}(e,t);case 2:return function(o,s){if("integerValue"in o&&"integerValue"in s)return at(o.integerValue)===at(s.integerValue);if("doubleValue"in o&&"doubleValue"in s){const i=at(o.doubleValue),a=at(s.doubleValue);return i===a?cd(i)===cd(a):isNaN(i)&&isNaN(a)}return!1}(e,t);case 9:return Si(e.arrayValue.values||[],t.arrayValue.values||[],dr);case 10:return function(o,s){const i=o.mapValue.fields||{},a=s.mapValue.fields||{};if(O_(i)!==O_(a))return!1;for(const l in i)if(i.hasOwnProperty(l)&&(a[l]===void 0||!dr(i[l],a[l])))return!1;return!0}(e,t);default:return de()}}function vl(e,t){return(e.values||[]).find(n=>dr(n,t))!==void 0}function bi(e,t){if(e===t)return 0;const n=us(e),r=us(t);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(e.booleanValue,t.booleanValue);case 2:return function(s,i){const a=at(s.integerValue||s.doubleValue),l=at(i.integerValue||i.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return V_(e.timestampValue,t.timestampValue);case 4:return V_(gl(e),gl(t));case 5:return Re(e.stringValue,t.stringValue);case 6:return function(s,i){const a=cs(s),l=cs(i);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,i){const a=s.split("/"),l=i.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Re(a[c],l[c]);if(u!==0)return u}return Re(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,i){const a=Re(at(s.latitude),at(i.latitude));return a!==0?a:Re(at(s.longitude),at(i.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,i){const a=s.values||[],l=i.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=bi(a[c],l[c]);if(u)return u}return Re(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,i){if(s===jc.mapValue&&i===jc.mapValue)return 0;if(s===jc.mapValue)return 1;if(i===jc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=i.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Re(l[d],u[d]);if(h!==0)return h;const m=bi(a[l[d]],c[u[d]]);if(m!==0)return m}return Re(l.length,u.length)}(e.mapValue,t.mapValue);default:throw de()}}function V_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Re(e,t);const n=xo(e),r=xo(t),o=Re(n.seconds,r.seconds);return o!==0?o:Re(n.nanos,r.nanos)}function Ci(e){return vm(e)}function vm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=xo(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return cs(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return le.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",o=!0;for(const s of n.values||[])o?o=!1:r+=",",r+=vm(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",s=!0;for(const i of r)s?s=!1:o+=",",o+=`${i}:${vm(n.fields[i])}`;return o+"}"}(e.mapValue):de()}function L_(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function _m(e){return!!e&&"integerValue"in e}function Cy(e){return!!e&&"arrayValue"in e}function F_(e){return!!e&&"nullValue"in e}function j_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function fu(e){return!!e&&"mapValue"in e}function Oa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ws(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Oa(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Oa(e.arrayValue.values[n]);return t}return Object.assign({},e)}function fD(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.value=t}static empty(){return new tn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!fu(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Oa(n)}setAll(t){let n=Ct.emptyPath(),r={},o=[];t.forEach((i,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,o),r={},o=[],n=a.popLast()}i?r[a.lastSegment()]=Oa(i):o.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,o)}delete(t){const n=this.field(t.popLast());fu(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return dr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];fu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){ws(n,(o,s)=>t[o]=s);for(const o of r)delete t[o]}clone(){return new tn(Oa(this.value))}}function iS(e){const t=[];return ws(e.fields,(n,r)=>{const o=new Ct([n]);if(fu(r)){const s=iS(r.mapValue).fields;if(s.length===0)t.push(o);else for(const i of s)t.push(o.child(i))}else t.push(o)}),new pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t,n,r,o,s,i,a){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(t){return new Lt(t,0,pe.min(),pe.min(),pe.min(),tn.empty(),0)}static newFoundDocument(t,n,r,o){return new Lt(t,1,n,pe.min(),r,o,0)}static newNoDocument(t,n){return new Lt(t,2,n,pe.min(),pe.min(),tn.empty(),0)}static newUnknownDocument(t,n){return new Lt(t,3,n,pe.min(),pe.min(),tn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Lt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(t,n){this.position=t,this.inclusive=n}}function U_(e,t,n){let r=0;for(let o=0;o<e.position.length;o++){const s=t[o],i=e.position[o];if(s.field.isKeyField()?r=le.comparator(le.fromName(i.referenceValue),n.key):r=bi(i,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function B_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!dr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(t,n="asc"){this.field=t,this.dir=n}}function hD(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{}class ct extends aS{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new mD(t,n,r):n==="array-contains"?new vD(t,r):n==="in"?new _D(t,r):n==="not-in"?new wD(t,r):n==="array-contains-any"?new ED(t,r):new ct(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new gD(t,r):new yD(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bi(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(bi(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends aS{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new Gn(t,n)}matches(t){return lS(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function lS(e){return e.op==="and"}function cS(e){return pD(e)&&lS(e)}function pD(e){for(const t of e.filters)if(t instanceof Gn)return!1;return!0}function wm(e){if(e instanceof ct)return e.field.canonicalString()+e.op.toString()+Ci(e.value);if(cS(e))return e.filters.map(t=>wm(t)).join(",");{const t=e.filters.map(n=>wm(n)).join(",");return`${e.op}(${t})`}}function uS(e,t){return e instanceof ct?function(r,o){return o instanceof ct&&r.op===o.op&&r.field.isEqual(o.field)&&dr(r.value,o.value)}(e,t):e instanceof Gn?function(r,o){return o instanceof Gn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((s,i,a)=>s&&uS(i,o.filters[a]),!0):!1}(e,t):void de()}function dS(e){return e instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Ci(n.value)}`}(e):e instanceof Gn?function(n){return n.op.toString()+" {"+n.getFilters().map(dS).join(" ,")+"}"}(e):"Filter"}class mD extends ct{constructor(t,n,r){super(t,n,r),this.key=le.fromName(r.referenceValue)}matches(t){const n=le.comparator(t.key,this.key);return this.matchesComparison(n)}}class gD extends ct{constructor(t,n){super(t,"in",n),this.keys=fS("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class yD extends ct{constructor(t,n){super(t,"not-in",n),this.keys=fS("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function fS(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class vD extends ct{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Cy(n)&&vl(n.arrayValue,this.value)}}class _D extends ct{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&vl(this.value.arrayValue,n)}}class wD extends ct{constructor(t,n){super(t,"not-in",n)}matches(t){if(vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!vl(this.value.arrayValue,n)}}class ED extends ct{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Cy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t,n=null,r=[],o=[],s=null,i=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=s,this.startAt=i,this.endAt=a,this.ue=null}}function z_(e,t=null,n=[],r=[],o=null,s=null,i=null){return new xD(e,t,n,r,o,s,i)}function Iy(e){const t=me(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>wm(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),mf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Ci(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Ci(r)).join(",")),t.ue=n}return t.ue}function Ay(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!hD(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!uS(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!B_(e.startAt,t.startAt)&&B_(e.endAt,t.endAt)}function Em(e){return le.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(t,n=null,r=[],o=[],s=null,i="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function TD(e,t,n,r,o,s,i,a){return new rc(e,t,n,r,o,s,i,a)}function hS(e){return new rc(e)}function W_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function pS(e){return e.collectionGroup!==null}function Ma(e){const t=me(e);if(t.ce===null){t.ce=[];const n=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(i){let a=new Rt(Ct.comparator);return i.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.ce.push(new dd(s,r))}),n.has(Ct.keyField().canonicalString())||t.ce.push(new dd(Ct.keyField(),r))}return t.ce}function lr(e){const t=me(e);return t.le||(t.le=SD(t,Ma(e))),t.le}function SD(e,t){if(e.limitType==="F")return z_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(o=>{const s=o.dir==="desc"?"asc":"desc";return new dd(o.field,s)});const n=e.endAt?new ud(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ud(e.startAt.position,e.startAt.inclusive):null;return z_(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function xm(e,t){const n=e.filters.concat([t]);return new rc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Tm(e,t,n){return new rc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function gf(e,t){return Ay(lr(e),lr(t))&&e.limitType===t.limitType}function mS(e){return`${Iy(lr(e))}|lt:${e.limitType}`}function Os(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>dS(o)).join(", ")}]`),mf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>Ci(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>Ci(o)).join(",")),`Target(${r})`}(lr(e))}; limitType=${e.limitType})`}function yf(e,t){return t.isFoundDocument()&&function(r,o){const s=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):le.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,o){for(const s of Ma(r))if(!s.field.isKeyField()&&o.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,o){for(const s of r.filters)if(!s.matches(o))return!1;return!0}(e,t)&&function(r,o){return!(r.startAt&&!function(i,a,l){const c=U_(i,a,l);return i.inclusive?c<=0:c<0}(r.startAt,Ma(r),o)||r.endAt&&!function(i,a,l){const c=U_(i,a,l);return i.inclusive?c>=0:c>0}(r.endAt,Ma(r),o))}(e,t)}function bD(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function gS(e){return(t,n)=>{let r=!1;for(const o of Ma(e)){const s=CD(o,t,n);if(s!==0)return s;r=r||o.field.isKeyField()}return 0}}function CD(e,t,n){const r=e.field.isKeyField()?le.comparator(t.key,n.key):function(s,i,a){const l=i.data.field(s),c=a.data.field(s);return l!==null&&c!==null?bi(l,c):de()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,s]of r)if(this.equalsFn(o,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ws(this.inner,(n,r)=>{for(const[o,s]of r)t(o,s)})}isEmpty(){return oS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=new et(le.comparator);function Lr(){return ID}const yS=new et(le.comparator);function wa(...e){let t=yS;for(const n of e)t=t.insert(n.key,n);return t}function vS(e){let t=yS;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Qo(){return Va()}function _S(){return Va()}function Va(){return new zi(e=>e.toString(),(e,t)=>e.isEqual(t))}const AD=new et(le.comparator),RD=new Rt(le.comparator);function we(...e){let t=RD;for(const n of e)t=t.add(n);return t}const kD=new Rt(Re);function PD(){return kD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cd(t)?"-0":t}}function ES(e){return{integerValue:""+e}}function $D(e,t){return cD(t)?ES(t):wS(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(){this._=void 0}}function ND(e,t,n){return e instanceof fd?function(o,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return s&&Sy(s)&&(s=by(s)),s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,t):e instanceof _l?TS(e,t):e instanceof wl?SS(e,t):function(o,s){const i=xS(o,s),a=H_(i)+H_(o.Pe);return _m(i)&&_m(o.Pe)?ES(a):wS(o.serializer,a)}(e,t)}function DD(e,t,n){return e instanceof _l?TS(e,t):e instanceof wl?SS(e,t):n}function xS(e,t){return e instanceof hd?function(r){return _m(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class fd extends vf{}class _l extends vf{constructor(t){super(),this.elements=t}}function TS(e,t){const n=bS(t);for(const r of e.elements)n.some(o=>dr(o,r))||n.push(r);return{arrayValue:{values:n}}}class wl extends vf{constructor(t){super(),this.elements=t}}function SS(e,t){let n=bS(t);for(const r of e.elements)n=n.filter(o=>!dr(o,r));return{arrayValue:{values:n}}}class hd extends vf{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function H_(e){return at(e.integerValue||e.doubleValue)}function bS(e){return Cy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function OD(e,t){return e.field.isEqual(t.field)&&function(r,o){return r instanceof _l&&o instanceof _l||r instanceof wl&&o instanceof wl?Si(r.elements,o.elements,dr):r instanceof hd&&o instanceof hd?dr(r.Pe,o.Pe):r instanceof fd&&o instanceof fd}(e.transform,t.transform)}class MD{constructor(t,n){this.version=t,this.transformResults=n}}class zn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new zn}static exists(t){return new zn(void 0,t)}static updateTime(t){return new zn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function hu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class _f{}function CS(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Ry(e.key,zn.none()):new oc(e.key,e.data,zn.none());{const n=e.data,r=tn.empty();let o=new Rt(Ct.comparator);for(let s of t.fields)if(!o.has(s)){let i=n.field(s);i===null&&s.length>1&&(s=s.popLast(),i=n.field(s)),i===null?r.delete(s):r.set(s,i),o=o.add(s)}return new Vo(e.key,r,new pn(o.toArray()),zn.none())}}function VD(e,t,n){e instanceof oc?function(o,s,i){const a=o.value.clone(),l=K_(o.fieldTransforms,s,i.transformResults);a.setAll(l),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Vo?function(o,s,i){if(!hu(o.precondition,s))return void s.convertToUnknownDocument(i.version);const a=K_(o.fieldTransforms,s,i.transformResults),l=s.data;l.setAll(IS(o)),l.setAll(a),s.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(e,t,n):function(o,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,t,n)}function La(e,t,n,r){return e instanceof oc?function(s,i,a,l){if(!hu(s.precondition,i))return a;const c=s.value.clone(),u=G_(s.fieldTransforms,l,i);return c.setAll(u),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof Vo?function(s,i,a,l){if(!hu(s.precondition,i))return a;const c=G_(s.fieldTransforms,l,i),u=i.data;return u.setAll(IS(s)),u.setAll(c),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(e,t,n,r):function(s,i,a){return hu(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a}(e,t,n)}function LD(e,t){let n=null;for(const r of e.fieldTransforms){const o=t.data.field(r.field),s=xS(r.transform,o||null);s!=null&&(n===null&&(n=tn.empty()),n.set(r.field,s))}return n||null}function q_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Si(r,o,(s,i)=>OD(s,i))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class oc extends _f{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vo extends _f{constructor(t,n,r,o,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function IS(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function K_(e,t,n){const r=new Map;Fe(e.length===n.length);for(let o=0;o<n.length;o++){const s=e[o],i=s.transform,a=t.data.field(s.field);r.set(s.field,DD(i,a,n[o]))}return r}function G_(e,t,n){const r=new Map;for(const o of e){const s=o.transform,i=n.data.field(o.field);r.set(o.field,ND(s,i,t))}return r}class Ry extends _f{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FD extends _f{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const s=this.mutations[o];s.key.isEqual(t.key)&&VD(s,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=La(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=La(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=_S();return this.mutations.forEach(o=>{const s=t.get(o.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=n.has(o.key)?null:a;const l=CS(i,a);l!==null&&r.set(o.key,l),i.isValidDocument()||i.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),we())}isEqual(t){return this.batchId===t.batchId&&Si(this.mutations,t.mutations,(n,r)=>q_(n,r))&&Si(this.baseMutations,t.baseMutations,(n,r)=>q_(n,r))}}class ky{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){Fe(t.mutations.length===r.length);let o=function(){return AD}();const s=t.mutations;for(let i=0;i<s.length;i++)o=o.insert(s[i].key,r[i].version);return new ky(t,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,Ee;function zD(e){switch(e){default:return de();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function AS(e){if(e===void 0)return Vr("GRPC error has no .code"),$.UNKNOWN;switch(e){case st.OK:return $.OK;case st.CANCELLED:return $.CANCELLED;case st.UNKNOWN:return $.UNKNOWN;case st.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case st.INTERNAL:return $.INTERNAL;case st.UNAVAILABLE:return $.UNAVAILABLE;case st.UNAUTHENTICATED:return $.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case st.NOT_FOUND:return $.NOT_FOUND;case st.ALREADY_EXISTS:return $.ALREADY_EXISTS;case st.PERMISSION_DENIED:return $.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case st.ABORTED:return $.ABORTED;case st.OUT_OF_RANGE:return $.OUT_OF_RANGE;case st.UNIMPLEMENTED:return $.UNIMPLEMENTED;case st.DATA_LOSS:return $.DATA_LOSS;default:return de()}}(Ee=st||(st={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=new li([4294967295,4294967295],0);function Q_(e){const t=WD().encode(e),n=new KN;return n.update(t),new Uint8Array(n.digest())}function Z_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new li([n,r],0),new li([o,s],0)]}class Py{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ea(`Invalid padding: ${n}`);if(r<0)throw new Ea(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ea(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Ea(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=li.fromNumber(this.Ie)}Ee(t,n,r){let o=t.add(n.multiply(li.fromNumber(r)));return o.compare(HD)===1&&(o=new li([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=Q_(t),[r,o]=Z_(n);for(let s=0;s<this.hashCount;s++){const i=this.Ee(r,o,s);if(!this.de(i))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),i=new Py(s,o,n);return r.forEach(a=>i.insert(a)),i}insert(t){if(this.Ie===0)return;const n=Q_(t),[r,o]=Z_(n);for(let s=0;s<this.hashCount;s++){const i=this.Ee(r,o,s);this.Ae(i)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Ea extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t,n,r,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,sc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new wf(pe.min(),o,new et(Re),Lr(),we())}}class sc{constructor(t,n,r,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new sc(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(t,n,r,o){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=o}}class RS{constructor(t,n){this.targetId=t,this.me=n}}class kS{constructor(t,n,r=Bt.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class Y_{constructor(){this.fe=0,this.ge=J_(),this.pe=Bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=we(),n=we(),r=we();return this.ge.forEach((o,s)=>{switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:de()}}),new sc(this.pe,this.ye,t,n,r)}ve(){this.we=!1,this.ge=J_()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class qD{constructor(t){this.Le=t,this.Be=new Map,this.ke=Lr(),this.qe=X_(),this.Qe=new et(Re)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const r=this.Ge(n);switch(t.state){case 0:this.ze(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(t.resumeToken));break;default:de()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((r,o)=>{this.ze(o)&&n(o)})}He(t){const n=t.targetId,r=t.me.count,o=this.Je(n);if(o){const s=o.target;if(Em(s))if(r===0){const i=new le(s.path);this.Ue(n,i,Lt.newNoDocument(i,pe.min()))}else Fe(r===1);else{const i=this.Ye(n);if(i!==r){const a=this.Ze(t),l=a?this.Xe(a,t,i):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:s=0}=n;let i,a;try{i=cs(r).toUint8Array()}catch(l){if(l instanceof sS)return Ti("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Py(i,o,s)}catch(l){return Ti(l instanceof Ea?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(t,n,r){return n.me.count===r-this.nt(t,n.targetId)?0:2}nt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let o=0;return r.forEach(s=>{const i=this.Le.tt(),a=`projects/${i.projectId}/databases/${i.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.Ue(n,s,null),o++)}),o}rt(t){const n=new Map;this.Be.forEach((s,i)=>{const a=this.Je(i);if(a){if(s.current&&Em(a.target)){const l=new le(a.target.path);this.ke.get(l)!==null||this.it(i,l)||this.Ue(i,l,Lt.newNoDocument(l,t))}s.be&&(n.set(i,s.Ce()),s.ve())}});let r=we();this.qe.forEach((s,i)=>{let a=!0;i.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,i)=>i.setReadTime(t));const o=new wf(t,n,this.Qe,this.ke,r);return this.ke=Lr(),this.qe=X_(),this.Qe=new et(Re),o}$e(t,n){if(!this.ze(t))return;const r=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,r){if(!this.ze(t))return;const o=this.Ge(t);this.it(t,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new Y_,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new Rt(Re),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Y_),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function X_(){return new et(le.comparator)}function J_(){return new et(le.comparator)}const KD={asc:"ASCENDING",desc:"DESCENDING"},GD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QD={and:"AND",or:"OR"};class ZD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Sm(e,t){return e.useProto3Json||mf(t)?t:{value:t}}function pd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function PS(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function YD(e,t){return pd(e,t.toTimestamp())}function cr(e){return Fe(!!e),pe.fromTimestamp(function(n){const r=xo(n);return new ht(r.seconds,r.nanos)}(e))}function $y(e,t){return bm(e,t).canonicalString()}function bm(e,t){const n=function(o){return new We(["projects",o.projectId,"databases",o.database])}(e).child("documents");return t===void 0?n:n.child(t)}function $S(e){const t=We.fromString(e);return Fe(VS(t)),t}function Cm(e,t){return $y(e.databaseId,t.path)}function Vh(e,t){const n=$S(t);if(n.get(1)!==e.databaseId.projectId)throw new J($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new J($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new le(DS(n))}function NS(e,t){return $y(e.databaseId,t)}function XD(e){const t=$S(e);return t.length===4?We.emptyPath():DS(t)}function Im(e){return new We(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function DS(e){return Fe(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function ew(e,t,n){return{name:Cm(e,t),fields:n.value.mapValue.fields}}function JD(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:de()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(Fe(u===void 0||typeof u=="string"),Bt.fromBase64String(u||"")):(Fe(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Bt.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),i=t.targetChange.cause,a=i&&function(c){const u=c.code===void 0?$.UNKNOWN:AS(c.code);return new J(u,c.message||"")}(i);n=new kS(r,o,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Vh(e,r.document.name),s=cr(r.document.updateTime),i=r.document.createTime?cr(r.document.createTime):pe.min(),a=new tn({mapValue:{fields:r.document.fields}}),l=Lt.newFoundDocument(o,s,i,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new pu(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Vh(e,r.document),s=r.readTime?cr(r.readTime):pe.min(),i=Lt.newNoDocument(o,s),a=r.removedTargetIds||[];n=new pu([],a,i.key,i)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Vh(e,r.document),s=r.removedTargetIds||[];n=new pu([],s,o,null)}else{if(!("filter"in t))return de();{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:s}=r,i=new BD(o,s),a=r.targetId;n=new RS(a,i)}}return n}function eO(e,t){let n;if(t instanceof oc)n={update:ew(e,t.key,t.value)};else if(t instanceof Ry)n={delete:Cm(e,t.key)};else if(t instanceof Vo)n={update:ew(e,t.key,t.data),updateMask:cO(t.fieldMask)};else{if(!(t instanceof FD))return de();n={verify:Cm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,i){const a=i.transform;if(a instanceof fd)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof _l)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof wl)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hd)return{fieldPath:i.field.canonicalString(),increment:a.Pe};throw de()}(0,r))),t.precondition.isNone||(n.currentDocument=function(o,s){return s.updateTime!==void 0?{updateTime:YD(o,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:de()}(e,t.precondition)),n}function tO(e,t){return e&&e.length>0?(Fe(t!==void 0),e.map(n=>function(o,s){let i=o.updateTime?cr(o.updateTime):cr(s);return i.isEqual(pe.min())&&(i=cr(s)),new MD(i,o.transformResults||[])}(n,t))):[]}function nO(e,t){return{documents:[NS(e,t.path)]}}function rO(e,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=NS(e,o);const s=function(c){if(c.length!==0)return MS(Gn.create(c,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const i=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Ms(h.field),direction:iO(h.dir)}}(u))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const a=Sm(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{_t:n,parent:o}}function oO(e){let t=XD(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Fe(r===1);const u=n.from[0];u.allDescendants?o=u.collectionId:t=t.child(u.collectionId)}let s=[];n.where&&(s=function(d){const h=OS(d);return h instanceof Gn&&cS(h)?h.getFilters():[h]}(n.where));let i=[];n.orderBy&&(i=function(d){return d.map(h=>function(v){return new dd(Vs(v.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,mf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,m=d.values||[];return new ud(m,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,m=d.values||[];return new ud(m,h)}(n.endAt)),TD(t,o,i,s,a,"F",l,c)}function sO(e,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function OS(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vs(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Vs(n.unaryFilter.field);return ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Vs(n.unaryFilter.field);return ct.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Vs(n.unaryFilter.field);return ct.create(i,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(e):e.fieldFilter!==void 0?function(n){return ct.create(Vs(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Gn.create(n.compositeFilter.filters.map(r=>OS(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return de()}}(n.compositeFilter.op))}(e):de()}function iO(e){return KD[e]}function aO(e){return GD[e]}function lO(e){return QD[e]}function Ms(e){return{fieldPath:e.canonicalString()}}function Vs(e){return Ct.fromServerFormat(e.fieldPath)}function MS(e){return e instanceof ct?function(n){if(n.op==="=="){if(j_(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NAN"}};if(F_(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(j_(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NOT_NAN"}};if(F_(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ms(n.field),op:aO(n.op),value:n.value}}}(e):e instanceof Gn?function(n){const r=n.getFilters().map(o=>MS(o));return r.length===1?r[0]:{compositeFilter:{op:lO(n.op),filters:r}}}(e):de()}function cO(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function VS(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t,n,r,o,s=pe.min(),i=pe.min(),a=Bt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new ro(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(t){this.ut=t}}function dO(e){const t=oO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Tm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.on=new hO}addToCollectionParentIndex(t,n){return this.on.add(n),O.resolve()}getCollectionParents(t,n){return O.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return O.resolve()}deleteFieldIndex(t,n){return O.resolve()}deleteAllFieldIndexes(t){return O.resolve()}createTargetIndexes(t,n){return O.resolve()}getDocumentsMatchingTarget(t,n){return O.resolve(null)}getIndexType(t,n){return O.resolve(0)}getFieldIndexes(t,n){return O.resolve([])}getNextCollectionGroupToUpdate(t){return O.resolve(null)}getMinOffset(t,n){return O.resolve(Eo.min())}getMinOffsetFromCollectionGroup(t,n){return O.resolve(Eo.min())}updateCollectionGroup(t,n,r){return O.resolve()}updateIndexEntries(t,n){return O.resolve()}}class hO{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Rt(We.comparator),s=!o.has(r);return this.index[n]=o.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Rt(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Ii(0)}static Nn(){return new Ii(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(){this.changes=new zi(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Lt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(r!==null&&La(r.mutation,o,pn.empty(),ht.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,we()).next(()=>r))}getLocalViewOfDocuments(t,n,r=we()){const o=Qo();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,r).next(s=>{let i=wa();return s.forEach((a,l)=>{i=i.insert(a,l.overlayedDocument)}),i}))}getOverlayedDocuments(t,n){const r=Qo();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,we()))}populateOverlays(t,n,r){const o=[];return r.forEach(s=>{n.has(s)||o.push(s)}),this.documentOverlayCache.getOverlays(t,o).next(s=>{s.forEach((i,a)=>{n.set(i,a)})})}computeViews(t,n,r,o){let s=Lr();const i=Va(),a=function(){return Va()}();return n.forEach((l,c)=>{const u=r.get(c.key);o.has(c.key)&&(u===void 0||u.mutation instanceof Vo)?s=s.insert(c.key,c):u!==void 0?(i.set(c.key,u.mutation.getFieldMask()),La(u.mutation,c,u.mutation.getFieldMask(),ht.now())):i.set(c.key,pn.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((c,u)=>i.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new mO(u,(d=i.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Va();let o=new et((i,a)=>i-a),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(i=>{for(const a of i)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||pn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(o.get(a.batchId)||we()).add(l);o=o.insert(a.batchId,d)})}).next(()=>{const i=[],a=o.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=_S();u.forEach(h=>{if(!s.has(h)){const m=CS(n.get(h),r.get(h));m!==null&&d.set(h,m),s=s.add(h)}}),i.push(this.documentOverlayCache.saveOverlays(t,c,d))}return O.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,o){return function(i){return le.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):pS(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next(s=>{const i=o-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-s.size):O.resolve(Qo());let a=-1,l=s;return i.next(c=>O.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?O.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,l,c,we())).next(u=>({batchId:a,changes:vS(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new le(n)).next(r=>{let o=wa();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const s=n.collectionGroup;let i=wa();return this.indexManager.getCollectionParents(t,s).next(a=>O.forEach(a,l=>{const c=function(d,h){return new rc(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,c,r,o).next(u=>{u.forEach((d,h)=>{i=i.insert(d,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(t,n,r,o){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,o))).next(i=>{s.forEach((l,c)=>{const u=c.getKey();i.get(u)===null&&(i=i.insert(u,Lt.newInvalidDocument(u)))});let a=wa();return i.forEach((l,c)=>{const u=s.get(l);u!==void 0&&La(u.mutation,c,pn.empty(),ht.now()),yf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return O.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(o){return{id:o.id,version:o.version,createTime:cr(o.createTime)}}(n)),O.resolve()}getNamedQuery(t,n){return O.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(o){return{name:o.name,query:dO(o.bundledQuery),readTime:cr(o.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.overlays=new et(le.comparator),this.lr=new Map}getOverlay(t,n){return O.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Qo();return O.forEach(n,o=>this.getOverlay(t,o).next(s=>{s!==null&&r.set(o,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((o,s)=>{this.lt(t,n,s)}),O.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.lr.get(r);return o!==void 0&&(o.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),O.resolve()}getOverlaysForCollection(t,n,r){const o=Qo(),s=n.length+1,i=new le(n.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&o.set(l.getKey(),l)}return O.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let s=new et((c,u)=>c-u);const i=this.overlays.getIterator();for(;i.hasNext();){const c=i.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Qo(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Qo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=o)););return O.resolve(a)}lt(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const i=this.lr.get(o.largestBatchId).delete(r.key);this.lr.set(o.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new UD(n,r));let s=this.lr.get(n);s===void 0&&(s=we(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(){this.hr=new Rt(yt.Pr),this.Ir=new Rt(yt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new yt(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new yt(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new le(new We([])),r=new yt(n,t),o=new yt(n,t+1),s=[];return this.Ir.forEachInRange([r,o],i=>{this.dr(i),s.push(i.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new le(new We([])),r=new yt(n,t),o=new yt(n,t+1);let s=we();return this.Ir.forEachInRange([r,o],i=>{s=s.add(i.key)}),s}containsKey(t){const n=new yt(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class yt{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return le.comparator(t.key,n.key)||Re(t.gr,n.gr)}static Tr(t,n){return Re(t.gr,n.gr)||le.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Rt(yt.Pr)}checkEmpty(t){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new jD(s,n,r,o);this.mutationQueue.push(i);for(const a of o)this.yr=this.yr.add(new yt(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return O.resolve(i)}lookupMutationBatch(t,n){return O.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.Sr(r),s=o<0?0:o;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new yt(n,0),o=new yt(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,o],i=>{const a=this.wr(i.gr);s.push(a)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Rt(Re);return n.forEach(o=>{const s=new yt(o,0),i=new yt(o,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,i],a=>{r=r.add(a.gr)})}),O.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let s=r;le.isDocumentKey(s)||(s=s.child(""));const i=new yt(new le(s),0);let a=new Rt(Re);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===o&&(a=a.add(l.gr)),!0)},i),O.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const o=this.wr(r);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Fe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return O.forEach(n.mutations,o=>{const s=new yt(o.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new yt(n,0),o=this.yr.firstAfterOrEqual(r);return O.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,O.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(t){this.Cr=t,this.docs=function(){return new et(le.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),s=o?o.size:0,i=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():Lt.newInvalidDocument(n))}getEntries(t,n){let r=Lr();return n.forEach(o=>{const s=this.docs.get(o);r=r.insert(o,s?s.document.mutableCopy():Lt.newInvalidDocument(o))}),O.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let s=Lr();const i=n.path,a=new le(i.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!i.isPrefixOf(c.path))break;c.path.length>i.length+1||sD(oD(u),r)<=0||(o.has(u.key)||yf(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return O.resolve(s)}getAllFromCollectionGroup(t,n,r,o){de()}vr(t,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new EO(this)}getSize(t){return O.resolve(this.size)}}class EO extends pO{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this._r.addEntry(t,o)):this._r.removeEntry(r)}),O.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(t){this.persistence=t,this.Fr=new zi(n=>Iy(n),Ay),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Ny,this.targetCount=0,this.Nr=Ii.On()}forEachTarget(t,n){return this.Fr.forEach((r,o)=>n(o)),O.resolve()}getLastRemoteSnapshotVersion(t){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return O.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),O.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new Ii(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,O.resolve()}updateTargetData(t,n){return this.kn(n),O.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(t,n,r){let o=0;const s=[];return this.Fr.forEach((i,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(i),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),o++)}),O.waitFor(s).next(()=>o)}getTargetCount(t){return O.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return O.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),O.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(i=>{s.push(o.markPotentiallyOrphaned(t,i))}),O.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),O.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return O.resolve(r)}containsKey(t,n){return O.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(t,n){this.Lr={},this.overlays={},this.Br=new Ty(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new xO(this),this.indexManager=new fO,this.remoteDocumentCache=function(o){return new wO(o)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new uO(n),this.Kr=new yO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new vO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Lr[t.toKey()];return r||(r=new _O(n,this.referenceDelegate),this.Lr[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){ee("MemoryPersistence","Starting transaction:",t);const o=new SO(this.Br.next());return this.referenceDelegate.$r(),r(o).next(s=>this.referenceDelegate.Ur(o).next(()=>s)).toPromise().then(s=>(o.raiseOnCommittedEvent(),s))}Wr(t,n){return O.or(Object.values(this.Lr).map(r=>()=>r.containsKey(t,n)))}}class SO extends aD{constructor(t){super(),this.currentSequenceNumber=t}}class Dy{constructor(t){this.persistence=t,this.Gr=new Ny,this.zr=null}static jr(t){return new Dy(t)}get Hr(){if(this.zr)return this.zr;throw de()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),O.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),O.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(o=>this.Hr.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Hr,r=>{const o=le.fromPath(r);return this.Jr(t,o).next(s=>{s||n.removeEntry(o,pe.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return O.or([()=>O.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=o}static Qi(t,n){let r=we(),o=we();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}return new Oy(t,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return S2()?8:lD(x2())>0?6:4}()}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,o){const s={result:null};return this.zi(t,n).next(i=>{s.result=i}).next(()=>{if(!s.result)return this.ji(t,n,o,r).next(i=>{s.result=i})}).next(()=>{if(s.result)return;const i=new bO;return this.Hi(t,n,i).next(a=>{if(s.result=a,this.$i)return this.Ji(t,n,i,a.size)})}).next(()=>s.result)}Ji(t,n,r,o){return r.documentReadCount<this.Ui?(ua()<=Te.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Os(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),O.resolve()):(ua()<=Te.DEBUG&&ee("QueryEngine","Query:",Os(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Wi*o?(ua()<=Te.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Os(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,lr(n))):O.resolve())}zi(t,n){if(W_(n))return O.resolve(null);let r=lr(n);return this.indexManager.getIndexType(t,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Tm(n,null,"F"),r=lr(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const i=we(...s);return this.Gi.getDocuments(t,i).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const c=this.Yi(n,a);return this.Zi(n,c,i,l.readTime)?this.zi(t,Tm(n,null,"F")):this.Xi(t,c,n,l)}))})))}ji(t,n,r,o){return W_(n)||o.isEqual(pe.min())?O.resolve(null):this.Gi.getDocuments(t,r).next(s=>{const i=this.Yi(n,s);return this.Zi(n,i,r,o)?O.resolve(null):(ua()<=Te.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Os(n)),this.Xi(t,i,n,rD(o,-1)).next(a=>a))})}Yi(t,n){let r=new Rt(gS(t));return n.forEach((o,s)=>{yf(t,s)&&(r=r.add(s))}),r}Zi(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)}Hi(t,n,r){return ua()<=Te.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Os(n)),this.Gi.getDocumentsMatchingQuery(t,n,Eo.min(),r)}Xi(t,n,r,o){return this.Gi.getDocumentsMatchingQuery(t,r,o).next(s=>(n.forEach(i=>{s=s.insert(i.key,i)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(t,n,r,o){this.persistence=t,this.es=n,this.serializer=o,this.ts=new et(Re),this.ns=new zi(s=>Iy(s),Ay),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new gO(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function AO(e,t,n,r){return new IO(e,t,n,r)}async function LS(e,t){const n=me(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(s=>(o=s,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const i=[],a=[];let l=we();for(const c of o){i.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({_s:c,removedBatchIds:i,addedBatchIds:a}))})})}function RO(e,t){const n=me(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let m=O.resolve();return h.forEach(v=>{m=m.next(()=>u.getEntry(l,v)).next(y=>{const w=c.docVersions.get(v);Fe(w!==null),y.version.compareTo(w)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=we();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,o))})}function FS(e){const t=me(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function kO(e,t){const n=me(e),r=t.snapshotVersion;let o=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const i=n.ss.newChangeBuffer({trackRemovals:!0});o=n.ts;const a=[];t.targetChanges.forEach((u,d)=>{const h=o.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,d)));let m=h.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(d)!==null?m=m.withResumeToken(Bt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),o=o.insert(d,m),function(y,w,g){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(h,m,u)&&a.push(n.qr.updateTargetData(s,m))});let l=Lr(),c=we();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(PO(s,i,t.documentUpdates).next(u=>{l=u.us,c=u.cs})),!r.isEqual(pe.min())){const u=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return O.waitFor(a).next(()=>i.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ts=o,s))}function PO(e,t,n){let r=we(),o=we();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let i=Lr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(o=o.add(a)),l.isNoDocument()&&l.version.isEqual(pe.min())?(t.removeEntry(a,l.readTime),i=i.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),i=i.insert(a,l)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:i,cs:o}})}function $O(e,t){const n=me(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function NO(e,t){const n=me(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.qr.getTargetData(r,t).next(s=>s?(o=s,O.resolve(o)):n.qr.allocateTargetId(r).next(i=>(o=new ro(t,i,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.ts.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function Am(e,t,n){const r=me(e),o=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,i=>r.persistence.referenceDelegate.removeTarget(i,o))}catch(i){if(!nc(i))throw i;ee("LocalStore",`Failed to update sequence numbers for target ${t}: ${i}`)}r.ts=r.ts.remove(t),r.ns.delete(o.target)}function tw(e,t,n){const r=me(e);let o=pe.min(),s=we();return r.persistence.runTransaction("Execute query","readwrite",i=>function(l,c,u){const d=me(l),h=d.ns.get(u);return h!==void 0?O.resolve(d.ts.get(h)):d.qr.getTargetData(c,u)}(r,i,lr(t)).next(a=>{if(a)return o=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(i,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(i,t,n?o:pe.min(),n?s:we())).next(a=>(DO(r,bD(t),a),{documents:a,ls:s})))}function DO(e,t,n){let r=e.rs.get(t)||pe.min();n.forEach((o,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.rs.set(t,r)}class nw{constructor(){this.activeTargetIds=PD()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class OO{constructor(){this.eo=new nw,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new nw,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc=null;function Lh(){return Uc===null?Uc=function(){return 268435456+Math.round(2147483648*Math.random())}():Uc++,"0x"+Uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}Eo(t){this.Ao=t}onMessage(t){this.Ro=t}close(){this.lo()}send(t){this.co(t)}Vo(){this.Po()}mo(){this.To()}fo(t){this.Ao(t)}po(t){this.Ro(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class FO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${o}/databases/${s}`,this.So=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${s}`}get bo(){return!1}Do(n,r,o,s,i){const a=Lh(),l=this.Co(n,r.toUriEncodedString());ee("RestConnection",`Sending RPC '${n}' ${a}:`,l,o);const c={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(c,s,i),this.Fo(n,l,c,o).then(u=>(ee("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Ti("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",o),u})}Mo(n,r,o,s,i,a){return this.Do(n,r,o,s,i)}vo(n,r,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bi}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,i)=>n[i]=s),o&&o.headers.forEach((s,i)=>n[i]=s)}Co(n,r){const o=VO[n];return`${this.yo}/v1/${r}:${o}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Fo(t,n,r,o){const s=Lh();return new Promise((i,a)=>{const l=new qN;l.setWithCredentials(!0),l.listenOnce(zN.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Mh.NO_ERROR:const u=l.getResponseJson();ee(Ot,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(u)),i(u);break;case Mh.TIMEOUT:ee(Ot,`RPC '${t}' ${s} timed out`),a(new J($.DEADLINE_EXCEEDED,"Request time out"));break;case Mh.HTTP_ERROR:const d=l.getStatus();if(ee(Ot,`RPC '${t}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const v=function(w){const g=w.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(g)>=0?g:$.UNKNOWN}(m.status);a(new J(v,m.message))}else a(new J($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J($.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{ee(Ot,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(o);ee(Ot,`RPC '${t}' ${s} sending request:`,o),l.send(n,"POST",c,r,15)})}xo(t,n,r){const o=Lh(),s=[this.yo,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=UN(),a=BN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new HN({})),this.vo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");ee(Ot,`Creating RPC '${t}' stream ${o}: ${u}`,l);const d=i.createWebChannel(u,l);let h=!1,m=!1;const v=new LO({co:w=>{m?ee(Ot,`Not sending because RPC '${t}' stream ${o} is closed:`,w):(h||(ee(Ot,`Opening RPC '${t}' stream ${o} transport.`),d.open(),h=!0),ee(Ot,`RPC '${t}' stream ${o} sending:`,w),d.send(w))},lo:()=>d.close()}),y=(w,g,p)=>{w.listen(g,_=>{try{p(_)}catch(E){setTimeout(()=>{throw E},0)}})};return y(d,Lc.EventType.OPEN,()=>{m||(ee(Ot,`RPC '${t}' stream ${o} transport opened.`),v.Vo())}),y(d,Lc.EventType.CLOSE,()=>{m||(m=!0,ee(Ot,`RPC '${t}' stream ${o} transport closed`),v.fo())}),y(d,Lc.EventType.ERROR,w=>{m||(m=!0,Ti(Ot,`RPC '${t}' stream ${o} transport errored:`,w),v.fo(new J($.UNAVAILABLE,"The operation could not be completed")))}),y(d,Lc.EventType.MESSAGE,w=>{var g;if(!m){const p=w.data[0];Fe(!!p);const _=p,E=_.error||((g=_[0])===null||g===void 0?void 0:g.error);if(E){ee(Ot,`RPC '${t}' stream ${o} received error:`,E);const x=E.status;let b=function(F){const V=st[F];if(V!==void 0)return AS(V)}(x),C=E.message;b===void 0&&(b=$.INTERNAL,C="Unknown error status: "+x+" with message "+E.message),m=!0,v.fo(new J(b,C)),d.close()}else ee(Ot,`RPC '${t}' stream ${o} received:`,p),v.po(p)}}),y(a,WN.STAT_EVENT,w=>{w.stat===N_.PROXY?ee(Ot,`RPC '${t}' stream ${o} detected buffering proxy`):w.stat===N_.NOPROXY&&ee(Ot,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{v.mo()},0),v}}function Fh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(e){return new ZD(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t,n,r=1e3,o=1.5,s=6e4){this.si=t,this.timerId=n,this.Oo=r,this.No=o,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(t){this.cancel();const n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),o=Math.max(0,n-r);o>0&&ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,o,()=>(this.qo=Date.now(),t())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(t,n,r,o,s,i,a,l){this.si=t,this.Wo=r,this.Go=o,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new jS(t,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(t){this.i_(),this.stream.send(t)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(t,n){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,t!==4?this.Jo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Vr(n.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Eo(n)}o_(){}auth(){this.state=1;const t=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.zo===n&&this.a_(r,o)},r=>{t(()=>{const o=new J($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(o)})})}a_(t,n){const r=this.__(this.zo);this.stream=this.c_(t,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(o=>{r(()=>this.u_(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Xo(){this.state=5,this.Jo.Ko(async()=>{this.state=0,this.start()})}u_(t){return ee("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}__(t){return n=>{this.si.enqueueAndForget(()=>this.zo===t?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jO extends US{constructor(t,n,r,o,s,i){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,i),this.serializer=s}c_(t,n){return this.connection.xo("Listen",t,n)}onMessage(t){this.Jo.reset();const n=JD(this.serializer,t),r=function(s){if(!("targetChange"in s))return pe.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?pe.min():i.readTime?cr(i.readTime):pe.min()}(t);return this.listener.l_(n,r)}h_(t){const n={};n.database=Im(this.serializer),n.addTarget=function(s,i){let a;const l=i.target;if(a=Em(l)?{documents:nO(s,l)}:{query:rO(s,l)._t},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){a.resumeToken=PS(s,i.resumeToken);const c=Sm(s,i.expectedCount);c!==null&&(a.expectedCount=c)}else if(i.snapshotVersion.compareTo(pe.min())>0){a.readTime=pd(s,i.snapshotVersion.toTimestamp());const c=Sm(s,i.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const r=sO(this.serializer,t);r&&(n.labels=r),this.r_(n)}P_(t){const n={};n.database=Im(this.serializer),n.removeTarget=t,this.r_(n)}}class UO extends US{constructor(t,n,r,o,s,i){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,i),this.serializer=s,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(t,n){return this.connection.xo("Write",t,n)}onMessage(t){if(Fe(!!t.streamToken),this.lastStreamToken=t.streamToken,this.I_){this.Jo.reset();const n=tO(t.writeResults,t.commitTime),r=cr(t.commitTime);return this.listener.d_(r,n)}return Fe(!t.writeResults||t.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){const t={};t.database=Im(this.serializer),this.r_(t)}E_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>eO(this.serializer,r))};this.r_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO extends class{}{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.V_=!1}m_(){if(this.V_)throw new J($.FAILED_PRECONDITION,"The client has already been terminated.")}Do(t,n,r,o){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Do(t,bm(n,r),o,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J($.UNKNOWN,s.toString())})}Mo(t,n,r,o,s){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Mo(t,bm(n,r),o,i,a,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J($.UNKNOWN,i.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class zO{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,t==="Online"&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Vr(n),this.y_=!1):ee("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(t,n,r,o,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.ro(i=>{r.enqueueAndForget(async()=>{Es(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=me(l);c.M_.add(4),await ic(c),c.N_.set("Unknown"),c.M_.delete(4),await xf(c)}(this))})}),this.N_=new zO(r,o)}}async function xf(e){if(Es(e))for(const t of e.x_)await t(!0)}async function ic(e){for(const t of e.x_)await t(!1)}function BS(e,t){const n=me(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),Fy(n)?Ly(n):Wi(n).Zo()&&Vy(n,t))}function My(e,t){const n=me(e),r=Wi(n);n.F_.delete(t),r.Zo()&&zS(n,t),n.F_.size===0&&(r.Zo()?r.t_():Es(n)&&n.N_.set("Unknown"))}function Vy(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pe.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Wi(e).h_(t)}function zS(e,t){e.L_.xe(t),Wi(e).P_(t)}function Ly(e){e.L_=new qD({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Wi(e).start(),e.N_.w_()}function Fy(e){return Es(e)&&!Wi(e).Yo()&&e.F_.size>0}function Es(e){return me(e).M_.size===0}function WS(e){e.L_=void 0}async function HO(e){e.N_.set("Online")}async function qO(e){e.F_.forEach((t,n)=>{Vy(e,t)})}async function KO(e,t){WS(e),Fy(e)?(e.N_.D_(t),Ly(e)):e.N_.set("Unknown")}async function GO(e,t,n){if(e.N_.set("Online"),t instanceof kS&&t.state===2&&t.cause)try{await async function(o,s){const i=s.cause;for(const a of s.targetIds)o.F_.has(a)&&(await o.remoteSyncer.rejectListen(a,i),o.F_.delete(a),o.L_.removeTarget(a))}(e,t)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await md(e,r)}else if(t instanceof pu?e.L_.Ke(t):t instanceof RS?e.L_.He(t):e.L_.We(t),!n.isEqual(pe.min()))try{const r=await FS(e.localStore);n.compareTo(r)>=0&&await function(s,i){const a=s.L_.rt(i);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.F_.get(c);u&&s.F_.set(c,u.withResumeToken(l.resumeToken,i))}}),a.targetMismatches.forEach((l,c)=>{const u=s.F_.get(l);if(!u)return;s.F_.set(l,u.withResumeToken(Bt.EMPTY_BYTE_STRING,u.snapshotVersion)),zS(s,l);const d=new ro(u.target,l,c,u.sequenceNumber);Vy(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),await md(e,r)}}async function md(e,t,n){if(!nc(t))throw t;e.M_.add(1),await ic(e),e.N_.set("Offline"),n||(n=()=>FS(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await xf(e)})}function HS(e,t){return t().catch(n=>md(e,n,t))}async function Tf(e){const t=me(e),n=To(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;QO(t);)try{const o=await $O(t.localStore,r);if(o===null){t.v_.length===0&&n.t_();break}r=o.batchId,ZO(t,o)}catch(o){await md(t,o)}qS(t)&&KS(t)}function QO(e){return Es(e)&&e.v_.length<10}function ZO(e,t){e.v_.push(t);const n=To(e);n.Zo()&&n.T_&&n.E_(t.mutations)}function qS(e){return Es(e)&&!To(e).Yo()&&e.v_.length>0}function KS(e){To(e).start()}async function YO(e){To(e).R_()}async function XO(e){const t=To(e);for(const n of e.v_)t.E_(n.mutations)}async function JO(e,t,n){const r=e.v_.shift(),o=ky.from(r,t,n);await HS(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await Tf(e)}async function eM(e,t){t&&To(e).T_&&await async function(r,o){if(function(i){return zD(i)&&i!==$.ABORTED}(o.code)){const s=r.v_.shift();To(r).e_(),await HS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),await Tf(r)}}(e,t),qS(e)&&KS(e)}async function ow(e,t){const n=me(e);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const r=Es(n);n.M_.add(3),await ic(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await xf(n)}async function tM(e,t){const n=me(e);t?(n.M_.delete(2),await xf(n)):t||(n.M_.add(2),await ic(n),n.N_.set("Unknown"))}function Wi(e){return e.B_||(e.B_=function(n,r,o){const s=me(n);return s.m_(),new jO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(e.datastore,e.asyncQueue,{ho:HO.bind(null,e),Io:qO.bind(null,e),Eo:KO.bind(null,e),l_:GO.bind(null,e)}),e.x_.push(async t=>{t?(e.B_.e_(),Fy(e)?Ly(e):e.N_.set("Unknown")):(await e.B_.stop(),WS(e))})),e.B_}function To(e){return e.k_||(e.k_=function(n,r,o){const s=me(n);return s.m_(),new UO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(e.datastore,e.asyncQueue,{ho:()=>Promise.resolve(),Io:YO.bind(null,e),Eo:eM.bind(null,e),A_:XO.bind(null,e),d_:JO.bind(null,e)}),e.x_.push(async t=>{t?(e.k_.e_(),await Tf(e)):(await e.k_.stop(),e.v_.length>0&&(ee("RemoteStore",`Stopping write stream with ${e.v_.length} pending writes`),e.v_=[]))})),e.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(t,n,r,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new mo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,s){const i=Date.now()+r,a=new jy(t,n,i,o,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uy(e,t){if(Vr("AsyncQueue",`${t}: ${e}`),nc(e))return new J($.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t){this.comparator=t?(n,r)=>t(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=wa(),this.sortedSet=new et(this.comparator)}static emptySet(t){return new ci(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ci)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new ci;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.q_=new et(le.comparator)}track(t){const n=t.doc.key,r=this.q_.get(n);r?t.type!==0&&r.type===3?this.q_=this.q_.insert(n,t):t.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.q_=this.q_.remove(n):t.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:t.doc}):de():this.q_=this.q_.insert(n,t)}Q_(){const t=[];return this.q_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Ai{constructor(t,n,r,o,s,i,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,o,s){const i=[];return n.forEach(a=>{i.push({type:0,doc:a})}),new Ai(t,n,ci.emptySet(n),i,r,o,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}}class rM{constructor(){this.queries=new zi(t=>mS(t),gf),this.onlineState="Unknown",this.z_=new Set}}async function oM(e,t){const n=me(e);let r=3;const o=t.query;let s=n.queries.get(o);s?!s.W_()&&t.G_()&&(r=2):(s=new nM,r=t.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(o,!0);break;case 1:s.K_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(i){const a=Uy(i,`Initialization of query '${Os(t.query)}' failed`);return void t.onError(a)}n.queries.set(o,s),s.U_.push(t),t.j_(n.onlineState),s.K_&&t.H_(s.K_)&&By(n)}async function sM(e,t){const n=me(e),r=t.query;let o=3;const s=n.queries.get(r);if(s){const i=s.U_.indexOf(t);i>=0&&(s.U_.splice(i,1),s.U_.length===0?o=t.G_()?0:1:!s.W_()&&t.G_()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iM(e,t){const n=me(e);let r=!1;for(const o of t){const s=o.query,i=n.queries.get(s);if(i){for(const a of i.U_)a.H_(o)&&(r=!0);i.K_=o}}r&&By(n)}function aM(e,t,n){const r=me(e),o=r.queries.get(t);if(o)for(const s of o.U_)s.onError(n);r.queries.delete(t)}function By(e){e.z_.forEach(t=>{t.next()})}var Rm,iw;(iw=Rm||(Rm={})).J_="default",iw.Cache="cache";class lM{constructor(t,n,r){this.query=t,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Ai(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),n=!0):this.ta(t,this.onlineState)&&(this.na(t),n=!0),this.X_=t,n}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),n=!0),n}ta(t,n){if(!t.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ea(t){if(t.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(t){t=Ai.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==Rm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t){this.key=t}}class QS{constructor(t){this.key=t}}class cM{constructor(t,n){this.query=t,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=we(),this.mutatedKeys=we(),this.Ia=gS(t),this.Ta=new ci(this.Ia)}get Ea(){return this.la}da(t,n){const r=n?n.Aa:new sw,o=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,i=o,a=!1;const l=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,c=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((u,d)=>{const h=o.get(u),m=yf(this.query,d)?d:null,v=!!h&&this.mutatedKeys.has(h.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;h&&m?h.data.isEqual(m.data)?v!==y&&(r.track({type:3,doc:m}),w=!0):this.Ra(h,m)||(r.track({type:2,doc:m}),w=!0,(l&&this.Ia(m,l)>0||c&&this.Ia(m,c)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),w=!0):h&&!m&&(r.track({type:1,doc:h}),w=!0,(l||c)&&(a=!0)),w&&(m?(i=i.add(m),s=y?s.add(u):s.delete(u)):(i=i.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const u=this.query.limitType==="F"?i.last():i.first();i=i.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ta:i,Aa:r,Zi:a,mutatedKeys:s}}Ra(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const s=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;const i=t.Aa.Q_();i.sort((u,d)=>function(m,v){const y=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return y(m)-y(v)}(u.type,d.type)||this.Ia(u.doc,d.doc)),this.Va(r),o=o!=null&&o;const a=n&&!o?this.ma():[],l=this.Pa.size===0&&this.current&&!o?1:0,c=l!==this.ha;return this.ha=l,i.length!==0||c?{snapshot:new Ai(this.query,t.Ta,s,i,t.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new sw,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(n=>this.la=this.la.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=t.current)}ma(){if(!this.current)return[];const t=this.Pa;this.Pa=we(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return t.forEach(r=>{this.Pa.has(r)||n.push(new QS(r))}),this.Pa.forEach(r=>{t.has(r)||n.push(new GS(r))}),n}pa(t){this.la=t.ls,this.Pa=we();const n=this.da(t.documents);return this.applyChanges(n,!0)}ya(){return Ai.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class uM{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class dM{constructor(t){this.key=t,this.wa=!1}}class fM{constructor(t,n,r,o,s,i){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.Sa={},this.ba=new zi(a=>mS(a),gf),this.Da=new Map,this.Ca=new Set,this.va=new et(le.comparator),this.Fa=new Map,this.Ma=new Ny,this.xa={},this.Oa=new Map,this.Na=Ii.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function hM(e,t,n=!0){const r=tb(e);let o;const s=r.ba.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),o=s.view.ya()):o=await ZS(r,t,n,!0),o}async function pM(e,t){const n=tb(e);await ZS(n,t,!0,!1)}async function ZS(e,t,n,r){const o=await NO(e.localStore,lr(t)),s=o.targetId,i=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await mM(e,t,s,i==="current",o.resumeToken)),e.isPrimaryClient&&n&&BS(e.remoteStore,o),a}async function mM(e,t,n,r,o){e.Ba=(d,h,m)=>async function(y,w,g,p){let _=w.view.da(g);_.Zi&&(_=await tw(y.localStore,w.query,!1).then(({documents:C})=>w.view.da(C,_)));const E=p&&p.targetChanges.get(w.targetId),x=p&&p.targetMismatches.get(w.targetId)!=null,b=w.view.applyChanges(_,y.isPrimaryClient,E,x);return lw(y,w.targetId,b.fa),b.snapshot}(e,d,h,m);const s=await tw(e.localStore,t,!0),i=new cM(t,s.ls),a=i.da(s.documents),l=sc.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",o),c=i.applyChanges(a,e.isPrimaryClient,l);lw(e,n,c.fa);const u=new uM(t,n,i);return e.ba.set(t,u),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),c.snapshot}async function gM(e,t,n){const r=me(e),o=r.ba.get(t),s=r.Da.get(o.targetId);if(s.length>1)return r.Da.set(o.targetId,s.filter(i=>!gf(i,t))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Am(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&My(r.remoteStore,o.targetId),km(r,o.targetId)}).catch(tc)):(km(r,o.targetId),await Am(r.localStore,o.targetId,!0))}async function yM(e,t){const n=me(e),r=n.ba.get(t),o=n.Da.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),My(n.remoteStore,r.targetId))}async function vM(e,t,n){const r=bM(e);try{const o=await function(i,a){const l=me(i),c=ht.now(),u=a.reduce((m,v)=>m.add(v.key),we());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=Lr(),y=we();return l.ss.getEntries(m,u).next(w=>{v=w,v.forEach((g,p)=>{p.isValidDocument()||(y=y.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(w=>{d=w;const g=[];for(const p of a){const _=LD(p,d.get(p.key).overlayedDocument);_!=null&&g.push(new Vo(p.key,_,iS(_.value.mapValue),zn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,g,a)}).next(w=>{h=w;const g=w.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(m,w.batchId,g)})}).then(()=>({batchId:h.batchId,changes:vS(d)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(i,a,l){let c=i.xa[i.currentUser.toKey()];c||(c=new et(Re)),c=c.insert(a,l),i.xa[i.currentUser.toKey()]=c}(r,o.batchId,n),await ac(r,o.changes),await Tf(r.remoteStore)}catch(o){const s=Uy(o,"Failed to persist write");n.reject(s)}}async function YS(e,t){const n=me(e);try{const r=await kO(n.localStore,t);t.targetChanges.forEach((o,s)=>{const i=n.Fa.get(s);i&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?i.wa=!0:o.modifiedDocuments.size>0?Fe(i.wa):o.removedDocuments.size>0&&(Fe(i.wa),i.wa=!1))}),await ac(n,r,t)}catch(r){await tc(r)}}function aw(e,t,n){const r=me(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.ba.forEach((s,i)=>{const a=i.view.j_(t);a.snapshot&&o.push(a.snapshot)}),function(i,a){const l=me(i);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.U_)h.j_(a)&&(c=!0)}),c&&By(l)}(r.eventManager,t),o.length&&r.Sa.l_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function _M(e,t,n){const r=me(e);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Fa.get(t),s=o&&o.key;if(s){let i=new et(le.comparator);i=i.insert(s,Lt.newNoDocument(s,pe.min()));const a=we().add(s),l=new wf(pe.min(),new Map,new et(Re),i,a);await YS(r,l),r.va=r.va.remove(s),r.Fa.delete(t),zy(r)}else await Am(r.localStore,t,!1).then(()=>km(r,t,n)).catch(tc)}async function wM(e,t){const n=me(e),r=t.batch.batchId;try{const o=await RO(n.localStore,t);JS(n,r,null),XS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ac(n,o)}catch(o){await tc(o)}}async function EM(e,t,n){const r=me(e);try{const o=await function(i,a){const l=me(i);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Fe(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,t);JS(r,t,n),XS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ac(r,o)}catch(o){await tc(o)}}function XS(e,t){(e.Oa.get(t)||[]).forEach(n=>{n.resolve()}),e.Oa.delete(t)}function JS(e,t,n){const r=me(e);let o=r.xa[r.currentUser.toKey()];if(o){const s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),r.xa[r.currentUser.toKey()]=o}}function km(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Rr(t).forEach(r=>{e.Ma.containsKey(r)||eb(e,r)})}function eb(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);n!==null&&(My(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),zy(e))}function lw(e,t,n){for(const r of n)r instanceof GS?(e.Ma.addReference(r.key,t),xM(e,r)):r instanceof QS?(ee("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||eb(e,r.key)):de()}function xM(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(ee("SyncEngine","New document in limbo: "+n),e.Ca.add(r),zy(e))}function zy(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new le(We.fromString(t)),r=e.Na.next();e.Fa.set(r,new dM(n)),e.va=e.va.insert(n,r),BS(e.remoteStore,new ro(lr(hS(n.path)),r,"TargetPurposeLimboResolution",Ty.oe))}}async function ac(e,t,n){const r=me(e),o=[],s=[],i=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{i.push(r.Ba(l,t,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){o.push(c);const u=Oy.Qi(l.targetId,c);s.push(u)}}))}),await Promise.all(i),r.Sa.l_(o),await async function(l,c){const u=me(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>O.forEach(c,h=>O.forEach(h.ki,m=>u.persistence.referenceDelegate.addReference(d,h.targetId,m)).next(()=>O.forEach(h.qi,m=>u.persistence.referenceDelegate.removeReference(d,h.targetId,m)))))}catch(d){if(!nc(d))throw d;ee("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const m=u.ts.get(h),v=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(v);u.ts=u.ts.insert(h,y)}}}(r.localStore,s))}async function TM(e,t){const n=me(e);if(!n.currentUser.isEqual(t)){ee("SyncEngine","User change. New user:",t.toKey());const r=await LS(n.localStore,t);n.currentUser=t,function(s,i){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new J($.CANCELLED,i))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ac(n,r._s)}}function SM(e,t){const n=me(e),r=n.Fa.get(t);if(r&&r.wa)return we().add(r.key);{let o=we();const s=n.Da.get(t);if(!s)return o;for(const i of s){const a=n.ba.get(i);o=o.unionWith(a.view.Ea)}return o}}function tb(e){const t=me(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=YS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=SM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_M.bind(null,t),t.Sa.l_=iM.bind(null,t.eventManager),t.Sa.ka=aM.bind(null,t.eventManager),t}function bM(e){const t=me(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=EM.bind(null,t),t}class cw{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Ef(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return AO(this.persistence,new CO,t.initialUser,this.serializer)}createPersistence(t){return new TO(Dy.jr,this.serializer)}createSharedClientState(t){return new OO}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class CM{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TM.bind(null,this.syncEngine),await tM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new rM}()}createDatastore(t){const n=Ef(t.databaseInfo.databaseId),r=function(s){return new FO(s)}(t.databaseInfo);return function(s,i,a,l){return new BO(s,i,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,o,s,i,a){return new WO(r,o,s,i,a)}(this.localStore,this.datastore,t.asyncQueue,n=>aw(this.syncEngine,n,0),function(){return rw.D()?new rw:new MO}())}createSyncEngine(t,n){return function(o,s,i,a,l,c,u){const d=new fM(o,s,i,a,l,c);return u&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(r){const o=me(r);ee("RemoteStore","RemoteStore shutting down."),o.M_.add(5),await ic(o),o.O_.shutdown(),o.N_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):Vr("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(t,n,r,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Mt.UNAUTHENTICATED,this.clientId=rS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ee("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ee("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new mo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Uy(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function jh(e,t){e.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async o=>{r.isEqual(o)||(await LS(t.localStore,o),r=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function uw(e,t){e.asyncQueue.verifyOperationInProgress();const n=await kM(e);ee("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>ow(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,o)=>ow(t.remoteStore,o)),e._onlineComponents=t}function RM(e){return e.name==="FirebaseError"?e.code===$.FAILED_PRECONDITION||e.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function kM(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await jh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!RM(n))throw n;Ti("Error using user provided cache. Falling back to memory cache: "+n),await jh(e,new cw)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await jh(e,new cw);return e._offlineComponents}async function nb(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await uw(e,e._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await uw(e,new CM))),e._onlineComponents}function PM(e){return nb(e).then(t=>t.syncEngine)}async function $M(e){const t=await nb(e),n=t.eventManager;return n.onListen=hM.bind(null,t.syncEngine),n.onUnlisten=gM.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=pM.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=yM.bind(null,t.syncEngine),n}function NM(e,t,n={}){const r=new mo;return e.asyncQueue.enqueueAndForget(async()=>function(s,i,a,l,c){const u=new IM({next:h=>{i.enqueueAndForget(()=>sM(s,d)),h.fromCache&&l.source==="server"?c.reject(new J($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new lM(a,u,{includeMetadataChanges:!0,ra:!0});return oM(s,d)}(await $M(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(e,t,n){if(!n)throw new J($.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function DM(e,t,n,r){if(t===!0&&r===!0)throw new J($.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function fw(e){if(!le.isDocumentKey(e))throw new J($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function hw(e){if(le.isDocumentKey(e))throw new J($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Sf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":de()}function ds(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new J($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sf(e);throw new J($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new J($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new J($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}DM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rb((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bf{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new J($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pw(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new GN;switch(r.type){case"firstParty":return new XN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=dw.get(n);r&&(ee("ComponentProvider","Removing Datastore"),dw.delete(n),r.terminate())}(this),Promise.resolve()}}function OM(e,t,n,r={}){var o;const s=(e=ds(e,bf))._getSettings(),i=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==i&&Ti("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:i,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Mt.MOCK_USER;else{a=E2(r.mockUserToken,(o=e._app)===null||o===void 0?void 0:o.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new J($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Mt(c)}e._authCredentials=new QN(new nS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Hi(this.firestore,t,this._query)}}class gn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new go(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new gn(this.firestore,t,this._key)}}class go extends Hi{constructor(t,n,r){super(t,n,hS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new gn(this.firestore,null,new le(t))}withConverter(t){return new go(this.firestore,t,this._path)}}function Cf(e,t,...n){if(e=Or(e),ob("collection","path",t),e instanceof bf){const r=We.fromString(t,...n);return hw(r),new go(e,null,r)}{if(!(e instanceof gn||e instanceof go))throw new J($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(We.fromString(t,...n));return hw(r),new go(e.firestore,null,r)}}function Wy(e,t,...n){if(e=Or(e),arguments.length===1&&(t=rS.newId()),ob("doc","path",t),e instanceof bf){const r=We.fromString(t,...n);return fw(r),new gn(e,null,new le(r))}{if(!(e instanceof gn||e instanceof go))throw new J($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(We.fromString(t,...n));return fw(r),new gn(e.firestore,e instanceof go?e.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new jS(this,"async_queue_retry"),this.hu=()=>{const n=Fh();n&&ee("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};const t=Fh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const n=Fh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new mo;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(t){if(!nc(t))throw t;ee("AsyncQueue","Operation failed with retryable error: "+t)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}}Iu(t){const n=this.iu.then(()=>(this.uu=!0,t().catch(r=>{this.au=r,this.uu=!1;const o=function(i){let a=i.message||"";return i.stack&&(a=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),a}(r);throw Vr("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(t,n,r){this.Pu(),this.lu.indexOf(t)>-1&&(n=0);const o=jy.createAndSchedule(this,t,n,r,s=>this.Eu(s));return this._u.push(o),o}Pu(){this.au&&de()}verifyOperationInProgress(){}async du(){let t;do t=this.iu,await t;while(t!==this.iu)}Au(t){for(const n of this._u)if(n.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){const n=this._u.indexOf(t);this._u.splice(n,1)}}class lc extends bf{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=function(){return new MM}(),this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ib(this),this._firestoreClient.terminate()}}function VM(e,t){const n=typeof e=="object"?e:A$(),r=typeof e=="string"?e:"(default)",o=S$(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const s=_2("firestore");s&&OM(o,...s)}return o}function sb(e){return e._firestoreClient||ib(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ib(e){var t,n,r;const o=e._freezeSettings(),s=function(a,l,c,u){return new dD(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,rb(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,o);e._firestoreClient=new AM(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ri(Bt.fromBase64String(t))}catch(n){throw new J($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ri(Bt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new J($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new J($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new J($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Re(this._lat,t._lat)||Re(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=/^__.*__$/;class FM{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Vo(t,this.data,this.fieldMask,n,this.fieldTransforms):new oc(t,this.data,n,this.fieldTransforms)}}class ab{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Vo(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function lb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class Ky{constructor(t,n,r,o,s,i){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new Ky(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.gu({path:r,yu:!1});return o.wu(t),o}Su(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.gu({path:r,yu:!1});return o.mu(),o}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return gd(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(t.length===0)throw this.Du("Document fields must not be empty");if(lb(this.fu)&&LM.test(t))throw this.Du('Document fields cannot begin and end with "__"')}}class jM{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ef(t)}Fu(t,n,r,o=!1){return new Ky({fu:t,methodName:n,vu:r,path:Ct.emptyPath(),yu:!1,Cu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gy(e){const t=e._freezeSettings(),n=Ef(e._databaseId);return new jM(e._databaseId,!!t.ignoreUndefinedProperties,n)}function UM(e,t,n,r,o,s={}){const i=e.Fu(s.merge||s.mergeFields?2:0,t,n,o);Qy("Data must be an object, but it was:",i,r);const a=cb(r,i);let l,c;if(s.merge)l=new pn(i.fieldMask),c=i.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=Pm(t,d,n);if(!i.contains(h))throw new J($.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);db(u,h)||u.push(h)}l=new pn(u),c=i.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=i.fieldTransforms;return new FM(new tn(a),l,c)}class Af extends Hy{_toFieldTransform(t){if(t.fu!==2)throw t.fu===1?t.Du(`${this._methodName}() can only appear at the top level of your update data`):t.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Af}}function BM(e,t,n,r){const o=e.Fu(1,t,n);Qy("Data must be an object, but it was:",o,r);const s=[],i=tn.empty();ws(r,(l,c)=>{const u=Zy(t,l,n);c=Or(c);const d=o.Su(u);if(c instanceof Af)s.push(u);else{const h=cc(c,d);h!=null&&(s.push(u),i.set(u,h))}});const a=new pn(s);return new ab(i,a,o.fieldTransforms)}function zM(e,t,n,r,o,s){const i=e.Fu(1,t,n),a=[Pm(t,r,n)],l=[o];if(s.length%2!=0)throw new J($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Pm(t,s[h])),l.push(s[h+1]);const c=[],u=tn.empty();for(let h=a.length-1;h>=0;--h)if(!db(c,a[h])){const m=a[h];let v=l[h];v=Or(v);const y=i.Su(m);if(v instanceof Af)c.push(m);else{const w=cc(v,y);w!=null&&(c.push(m),u.set(m,w))}}const d=new pn(c);return new ab(u,d,i.fieldTransforms)}function WM(e,t,n,r=!1){return cc(n,e.Fu(r?4:3,t))}function cc(e,t){if(ub(e=Or(e)))return Qy("Unsupported field value:",t,e),cb(e,t);if(e instanceof Hy)return function(r,o){if(!lb(o.fu))throw o.Du(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(o);s&&o.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&t.fu!==4)throw t.Du("Nested arrays are not supported");return function(r,o){const s=[];let i=0;for(const a of r){let l=cc(a,o.bu(i));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),i++}return{arrayValue:{values:s}}}(e,t)}return function(r,o){if((r=Or(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $D(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ht.fromDate(r);return{timestampValue:pd(o.serializer,s)}}if(r instanceof ht){const s=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pd(o.serializer,s)}}if(r instanceof qy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ri)return{bytesValue:PS(o.serializer,r._byteString)};if(r instanceof gn){const s=o.databaseId,i=r.firestore._databaseId;if(!i.isEqual(s))throw o.Du(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:$y(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o.Du(`Unsupported field value: ${Sf(r)}`)}(e,t)}function cb(e,t){const n={};return oS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ws(e,(r,o)=>{const s=cc(o,t.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ub(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ht||e instanceof qy||e instanceof Ri||e instanceof gn||e instanceof Hy)}function Qy(e,t,n){if(!ub(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const r=Sf(n);throw r==="an object"?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function Pm(e,t,n){if((t=Or(t))instanceof If)return t._internalPath;if(typeof t=="string")return Zy(e,t);throw gd("Field path arguments must be of type string or ",e,!1,void 0,n)}const HM=new RegExp("[~\\*/\\[\\]]");function Zy(e,t,n){if(t.search(HM)>=0)throw gd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new If(...t.split("."))._internalPath}catch{throw gd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function gd(e,t,n,r,o){const s=r&&!r.isEmpty(),i=o!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||i)&&(l+=" (found",s&&(l+=` in field ${r}`),i&&(l+=` in document ${o}`),l+=")"),new J($.INVALID_ARGUMENT,a+e+l)}function db(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t,n,r,o,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new qM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Yy("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qM extends fb{data(){return super.data()}}function Yy(e,t){return typeof t=="string"?Zy(e,t):t instanceof If?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new J($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xy{}class GM extends Xy{}function QM(e,t,...n){let r=[];t instanceof Xy&&r.push(t),r=r.concat(n),function(s){const i=s.filter(l=>l instanceof Jy).length,a=s.filter(l=>l instanceof Rf).length;if(i>1||i>0&&a>0)throw new J($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)e=o._apply(e);return e}class Rf extends GM{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Rf(t,n,r)}_apply(t){const n=this._parse(t);return hb(t._query,n),new Hi(t.firestore,t.converter,xm(t._query,n))}_parse(t){const n=Gy(t.firestore);return function(s,i,a,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new J($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){yw(d,u);const m=[];for(const v of d)m.push(gw(l,s,v));h={arrayValue:{values:m}}}else h=gw(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||yw(d,u),h=WM(a,i,d,u==="in"||u==="not-in");return ct.create(c,u,h)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function mw(e,t,n){const r=t,o=Yy("where",e);return Rf._create(o,r,n)}class Jy extends Xy{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Jy(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Gn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,s){let i=o;const a=s.getFlattenedFilters();for(const l of a)hb(i,l),i=xm(i,l)}(t._query,n),new Hi(t.firestore,t.converter,xm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function gw(e,t,n){if(typeof(n=Or(n))=="string"){if(n==="")throw new J($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pS(t)&&n.indexOf("/")!==-1)throw new J($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(We.fromString(n));if(!le.isDocumentKey(r))throw new J($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return L_(e,new le(r))}if(n instanceof gn)return L_(e,n._key);throw new J($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sf(n)}.`)}function yw(e,t){if(!Array.isArray(e)||e.length===0)throw new J($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function hb(e,t){const n=function(o,s){for(const i of o)for(const a of i.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new J($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new J($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class ZM{convertValue(t,n="none"){switch(us(t)){case 0:return null;case 1:return t.booleanValue;case 2:return at(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(cs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw de()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ws(t,(o,s)=>{r[o]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new qy(at(t.latitude),at(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=by(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gl(t));default:return null}}convertTimestamp(t){const n=xo(t);return new ht(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=We.fromString(t);Fe(VS(r));const o=new yl(r.get(1),r.get(3)),s=new le(r.popFirst(5));return o.isEqual(n)||Vr(`Document ${s} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(e,t,n){let r;return r=e?e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class XM extends fb{constructor(t,n,r,o,s,i){super(t,n,r,o,i),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Yy("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class mu extends XM{data(t={}){return super.data(t)}}class JM{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Bc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new mu(this._firestore,this._userDataWriter,r.key,r,new Bc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,s){if(o._snapshot.oldDocs.isEmpty()){let i=0;return o._snapshot.docChanges.map(a=>{const l=new mu(o._firestore,o._userDataWriter,a.doc.key,a.doc,new Bc(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:i++}})}{let i=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new mu(o._firestore,o._userDataWriter,a.doc.key,a.doc,new Bc(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);let c=-1,u=-1;return a.type!==0&&(c=i.indexOf(a.doc.key),i=i.delete(a.doc.key)),a.type!==1&&(i=i.add(a.doc),u=i.indexOf(a.doc.key)),{type:eV(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function eV(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}class tV extends ZM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ri(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function pb(e){e=ds(e,Hi);const t=ds(e.firestore,lc),n=sb(t),r=new tV(t);return KM(e._query),NM(n,e._query).then(o=>new JM(t,r,e,o))}function nV(e,t,n,...r){e=ds(e,gn);const o=ds(e.firestore,lc),s=Gy(o);let i;return i=typeof(t=Or(t))=="string"||t instanceof If?zM(s,"updateDoc",e._key,t,n,r):BM(s,"updateDoc",e._key,t),ev(o,[i.toMutation(e._key,zn.exists(!0))])}function rV(e){return ev(ds(e.firestore,lc),[new Ry(e._key,zn.none())])}function mb(e,t){const n=ds(e.firestore,lc),r=Wy(e),o=YM(e.converter,t);return ev(n,[UM(Gy(e.firestore),"addDoc",r._key,o,e.converter!==null,{}).toMutation(r._key,zn.exists(!1))]).then(()=>r)}function ev(e,t){return function(r,o){const s=new mo;return r.asyncQueue.enqueueAndForget(async()=>vM(await PM(r),o,s)),s.promise}(sb(e),t)}(function(t,n=!0){(function(o){Bi=o})(I$),nd(new sl("firestore",(r,{instanceIdentifier:o,options:s})=>{const i=r.getProvider("app").getImmediate(),a=new lc(new ZN(r.getProvider("auth-internal")),new eD(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new J($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yl(c.options.projectId,u)}(i,o),i);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ii(D_,"4.6.1",t),ii(D_,"4.6.1","esm2017")})();const oV={apiKey:"AIzaSyCKaDoXhRm0NtA1kh3NY-66ecFz_XFzwmE",authDomain:"books-app-a6e7c.firebaseapp.com",projectId:"books-app-a6e7c",storageBucket:"books-app-a6e7c.appspot.com",messagingSenderId:"574447057564",appId:"1:574447057564:web:4d97710b7d1649e26e0b59"},sV=Yx(oV),qi=VM(sV),iV=async e=>{try{const t={name:`${e[0].toUpperCase()}${e==null?void 0:e.slice(1,e.length)}`};return await mb(Cf(qi,"authors"),{...t})}catch{throw new Error("There was a problem with your request")}},aV=async e=>{try{const t=[],n=`${e[0].toUpperCase()}${e==null?void 0:e.slice(1,e.length)}`;console.log(n);const r=QM(Cf(qi,"authors"),mw("name",">=",n),mw("name","<=",n+""));return console.log(e),(await pb(r)).forEach(s=>{console.log(s),t.push({id:s.id,name:s.data().name})}),t}catch{throw new Error("There was a problem with your request")}},lV=async e=>{try{const t={title:e.title,authors:e.authors,publishedYear:e.publishedYear?e.publishedYear:"Нет информации",rating:e.rating,ISBN:e.ISBN},n=await mb(Cf(qi,"books"),{...t});return{...e,id:n.id,rating:Number(e.rating),publishedYear:e.publishedYear?e.publishedYear:void 0}}catch{throw new Error("There was a problem with your request")}},cV=async e=>{try{return await rV(Wy(qi,"books",e)),e}catch{throw new Error("There was a problem with your request")}},uV=async(e,t)=>{try{return await nV(Wy(qi,"books",t),{...e}),{book:e,id:t}}catch{throw new Error("There was a problem with your request")}},dV=async()=>{try{const e=[];return(await pb(Cf(qi,"books"))).forEach(n=>{const r=n.data();e.push({id:n.id,title:r.title,authors:r.authors,publishedYear:r.publishedYear?r.publishedYear:null,rating:r.rating?r.rating:null,ISBN:r.ISBN?r.ISBN:null})}),e}catch{throw new Error("There was a problem with your request")}},gb=Zd("books/get",async(e,t)=>{try{return await dV()}catch{return t.rejectWithValue("There was a problem with your request")}}),yb=Zd("books/edit",async({book:e,id:t},n)=>{try{return await uV(e,t)}catch{return n.rejectWithValue("There was a problem with your request")}}),vb=Zd("books/delete",async(e,t)=>{try{return await cV(e)}catch{return t.rejectWithValue("There was a problem with your request")}}),_b=Zd("books/create",async(e,t)=>{try{return await lV(e)}catch{return t.rejectWithValue("There was a problem with your request")}}),fV={books:[]},hV=JP({name:"books",initialState:fV,reducers:{},extraReducers:e=>{e.addCase(_b.fulfilled,(t,n)=>{console.log(n.payload),t.books.push(n.payload)}),e.addCase(gb.fulfilled,(t,n)=>{t.books=n.payload}),e.addCase(vb.fulfilled,(t,n)=>{t.books.splice(t.books.findIndex(r=>r.id===n.payload),1)}),e.addCase(yb.fulfilled,(t,n)=>{t.books.splice(t.books.findIndex(r=>r.id===n.payload.id),1,n.payload.book)})}}),pV=hV.reducer;function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}function mV(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function kf(...e){return t=>e.forEach(n=>mV(n,t))}function je(...e){return f.useCallback(kf(...e),e)}const fs=f.forwardRef((e,t)=>{const{children:n,...r}=e,o=f.Children.toArray(n),s=o.find(yV);if(s){const i=s.props.children,a=o.map(l=>l===s?f.Children.count(i)>1?f.Children.only(null):f.isValidElement(i)?i.props.children:null:l);return f.createElement($m,z({},r,{ref:t}),f.isValidElement(i)?f.cloneElement(i,void 0,a):null)}return f.createElement($m,z({},r,{ref:t}),n)});fs.displayName="Slot";const $m=f.forwardRef((e,t)=>{const{children:n,...r}=e;return f.isValidElement(n)?f.cloneElement(n,{...vV(r,n.props),ref:t?kf(t,n.ref):n.ref}):f.Children.count(n)>1?f.Children.only(null):null});$m.displayName="SlotClone";const gV=({children:e})=>f.createElement(f.Fragment,null,e);function yV(e){return f.isValidElement(e)&&e.type===gV}function vV(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{s(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function wb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=wb(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function _V(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=wb(e))&&(r&&(r+=" "),r+=t);return r}const vw=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,_w=_V,Eb=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return _w(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:s}=t,i=Object.keys(o).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const h=vw(u)||vw(d);return o[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...m}=u;return Object.entries(m).every(v=>{let[y,w]=v;return Array.isArray(w)?w.includes({...s,...a}[y]):{...s,...a}[y]===w})?[...c,d,h]:c},[]);return _w(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};function xb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=xb(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function wV(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=xb(e))&&(r&&(r+=" "),r+=t);return r}const tv="-";function EV(e){const t=TV(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;function o(i){const a=i.split(tv);return a[0]===""&&a.length!==1&&a.shift(),Tb(a,t)||xV(i)}function s(i,a){const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}return{getClassGroupId:o,getConflictingClassGroupIds:s}}function Tb(e,t){var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?Tb(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const s=e.join(tv);return(i=t.validators.find(({validator:a})=>a(s)))==null?void 0:i.classGroupId}const ww=/^\[(.+)\]$/;function xV(e){if(ww.test(e)){const t=ww.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function TV(e){const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return bV(Object.entries(e.classGroups),n).forEach(([s,i])=>{Nm(i,r,s,t)}),r}function Nm(e,t,n,r){e.forEach(o=>{if(typeof o=="string"){const s=o===""?t:Ew(t,o);s.classGroupId=n;return}if(typeof o=="function"){if(SV(o)){Nm(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([s,i])=>{Nm(i,Ew(t,s),n,r)})})}function Ew(e,t){let n=e;return t.split(tv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function SV(e){return e.isThemeGetter}function bV(e,t){return t?e.map(([n,r])=>{const o=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,a])=>[t+i,a])):s);return[n,o]}):e}function CV(e){if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;function o(s,i){n.set(s,i),t++,t>e&&(t=0,r=n,n=new Map)}return{get(s){let i=n.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return o(s,i),i},set(s,i){n.has(s)?n.set(s,i):o(s,i)}}}const Sb="!";function IV(e){const t=e.separator,n=t.length===1,r=t[0],o=t.length;return function(i){const a=[];let l=0,c=0,u;for(let y=0;y<i.length;y++){let w=i[y];if(l===0){if(w===r&&(n||i.slice(y,y+o)===t)){a.push(i.slice(c,y)),c=y+o;continue}if(w==="/"){u=y;continue}}w==="["?l++:w==="]"&&l--}const d=a.length===0?i:i.substring(c),h=d.startsWith(Sb),m=h?d.substring(1):d,v=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:v}}}function AV(e){if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t}function RV(e){return{cache:CV(e.cacheSize),splitModifiers:IV(e),...EV(e)}}const kV=/\s+/;function PV(e,t){const{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,s=new Set;return e.trim().split(kV).map(i=>{const{modifiers:a,hasImportantModifier:l,baseClassName:c,maybePostfixModifierPosition:u}=n(i);let d=r(u?c.substring(0,u):c),h=!!u;if(!d){if(!u)return{isTailwindClass:!1,originalClassName:i};if(d=r(c),!d)return{isTailwindClass:!1,originalClassName:i};h=!1}const m=AV(a).join(":");return{isTailwindClass:!0,modifierId:l?m+Sb:m,classGroupId:d,originalClassName:i,hasPostfixModifier:h}}).reverse().filter(i=>{if(!i.isTailwindClass)return!0;const{modifierId:a,classGroupId:l,hasPostfixModifier:c}=i,u=a+l;return s.has(u)?!1:(s.add(u),o(l,c).forEach(d=>s.add(a+d)),!0)}).reverse().map(i=>i.originalClassName).join(" ")}function $V(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=bb(t))&&(r&&(r+=" "),r+=n);return r}function bb(e){if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=bb(e[r]))&&(n&&(n+=" "),n+=t);return n}function NV(e,...t){let n,r,o,s=i;function i(l){const c=t.reduce((u,d)=>d(u),e());return n=RV(c),r=n.cache.get,o=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=PV(l,n);return o(l,u),u}return function(){return s($V.apply(null,arguments))}}function Ue(e){const t=n=>n[e]||[];return t.isThemeGetter=!0,t}const Cb=/^\[(?:([a-z-]+):)?(.+)\]$/i,DV=/^\d+\/\d+$/,OV=new Set(["px","full","screen"]),MV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,LV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,FV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function yr(e){return Zo(e)||OV.has(e)||DV.test(e)}function qr(e){return Ki(e,"length",GV)}function Zo(e){return!!e&&!Number.isNaN(Number(e))}function zc(e){return Ki(e,"number",Zo)}function da(e){return!!e&&Number.isInteger(Number(e))}function UV(e){return e.endsWith("%")&&Zo(e.slice(0,-1))}function ye(e){return Cb.test(e)}function Kr(e){return MV.test(e)}const BV=new Set(["length","size","percentage"]);function zV(e){return Ki(e,BV,Ib)}function WV(e){return Ki(e,"position",Ib)}const HV=new Set(["image","url"]);function qV(e){return Ki(e,HV,ZV)}function KV(e){return Ki(e,"",QV)}function fa(){return!0}function Ki(e,t,n){const r=Cb.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1}function GV(e){return VV.test(e)&&!LV.test(e)}function Ib(){return!1}function QV(e){return FV.test(e)}function ZV(e){return jV.test(e)}function YV(){const e=Ue("colors"),t=Ue("spacing"),n=Ue("blur"),r=Ue("brightness"),o=Ue("borderColor"),s=Ue("borderRadius"),i=Ue("borderSpacing"),a=Ue("borderWidth"),l=Ue("contrast"),c=Ue("grayscale"),u=Ue("hueRotate"),d=Ue("invert"),h=Ue("gap"),m=Ue("gradientColorStops"),v=Ue("gradientColorStopPositions"),y=Ue("inset"),w=Ue("margin"),g=Ue("opacity"),p=Ue("padding"),_=Ue("saturate"),E=Ue("scale"),x=Ue("sepia"),b=Ue("skew"),C=Ue("space"),I=Ue("translate"),F=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],oe=()=>["auto",ye,t],P=()=>[ye,t],G=()=>["",yr,qr],N=()=>["auto",Zo,ye],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],k=()=>["","0",ye],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[Zo,zc],he=()=>[Zo,ye];return{cacheSize:500,separator:":",theme:{colors:[fa],spacing:[yr,qr],blur:["none","",Kr,ye],brightness:ie(),borderColor:[e],borderRadius:["none","","full",Kr,ye],borderSpacing:P(),borderWidth:G(),contrast:ie(),grayscale:k(),hueRotate:he(),invert:k(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[UV,qr],inset:oe(),margin:oe(),opacity:ie(),padding:P(),saturate:ie(),scale:ie(),sepia:k(),skew:he(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",ye]}],container:["container"],columns:[{columns:[Kr]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),ye]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",da,ye]}],basis:[{basis:oe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ye]}],grow:[{grow:k()}],shrink:[{shrink:k()}],order:[{order:["first","last","none",da,ye]}],"grid-cols":[{"grid-cols":[fa]}],"col-start-end":[{col:["auto",{span:["full",da,ye]},ye]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[fa]}],"row-start-end":[{row:["auto",{span:[da,ye]},ye]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ye]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ye,t]}],"min-w":[{"min-w":[ye,t,"min","max","fit"]}],"max-w":[{"max-w":[ye,t,"none","full","min","max","fit","prose",{screen:[Kr]},Kr]}],h:[{h:[ye,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ye,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ye,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ye,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Kr,qr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zc]}],"font-family":[{font:[fa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ye]}],"line-clamp":[{"line-clamp":["none",Zo,zc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",yr,ye]}],"list-image":[{"list-image":["none",ye]}],"list-style-type":[{list:["none","disc","decimal",ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",yr,qr]}],"underline-offset":[{"underline-offset":["auto",yr,ye]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),WV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},qV]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:te()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[yr,ye]}],"outline-w":[{outline:[yr,qr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[yr,qr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Kr,KV]}],"shadow-color":[{shadow:[fa]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Kr,ye]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[_]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ye]}],duration:[{duration:he()}],ease:[{ease:["linear","in","out","in-out",ye]}],delay:[{delay:he()}],animate:[{animate:["none","spin","ping","pulse","bounce",ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[da,ye]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ye]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[yr,qr,zc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const XV=NV(YV);function qe(...e){return XV(wV(e))}const JV=Eb("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),hs=f.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},s)=>{const i=r?fs:"button";return S.jsx(i,{className:qe(JV({variant:t,size:n,className:e})),ref:s,...o})});hs.displayName="Button";const Rr=f.forwardRef(({className:e,type:t,children:n,...r},o)=>S.jsx("input",{type:t,className:qe("flex h-10 w-full focus:outline-none rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),ref:o,...r}));Rr.displayName="Input";const e3=1,t3=1e6;let Uh=0;function n3(){return Uh=(Uh+1)%Number.MAX_SAFE_INTEGER,Uh.toString()}const Bh=new Map,xw=e=>{if(Bh.has(e))return;const t=setTimeout(()=>{Bh.delete(e),Fa({type:"REMOVE_TOAST",toastId:e})},t3);Bh.set(e,t)},r3=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,e3)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?xw(n):e.toasts.forEach(r=>{xw(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},gu=[];let yu={toasts:[]};function Fa(e){yu=r3(yu,e),gu.forEach(t=>{t(yu)})}function o3({...e}){const t=n3(),n=o=>Fa({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>Fa({type:"DISMISS_TOAST",toastId:t});return Fa({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function uc(){const[e,t]=f.useState(yu);return f.useEffect(()=>(gu.push(t),()=>{const n=gu.indexOf(t);n>-1&&gu.splice(n,1)}),[e]),{...e,toast:o3,dismiss:n=>Fa({type:"DISMISS_TOAST",toastId:n})}}function Tw(e,[t,n]){return Math.min(n,Math.max(t,e))}function ne(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function xs(e,t=[]){let n=[];function r(s,i){const a=f.createContext(i),l=n.length;n=[...n,i];function c(d){const{scope:h,children:m,...v}=d,y=(h==null?void 0:h[e][l])||a,w=f.useMemo(()=>v,Object.values(v));return f.createElement(y.Provider,{value:w},m)}function u(d,h){const m=(h==null?void 0:h[e][l])||a,v=f.useContext(m);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const o=()=>{const s=n.map(i=>f.createContext(i));return function(a){const l=(a==null?void 0:a[e])||s;return f.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,s3(o,...t)]}function s3(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Pf(e){const t=e+"CollectionProvider",[n,r]=xs(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:v,children:y}=m,w=Ge.useRef(null),g=Ge.useRef(new Map).current;return Ge.createElement(o,{scope:v,itemMap:g,collectionRef:w},y)},a=e+"CollectionSlot",l=Ge.forwardRef((m,v)=>{const{scope:y,children:w}=m,g=s(a,y),p=je(v,g.collectionRef);return Ge.createElement(fs,{ref:p},w)}),c=e+"CollectionItemSlot",u="data-radix-collection-item",d=Ge.forwardRef((m,v)=>{const{scope:y,children:w,...g}=m,p=Ge.useRef(null),_=je(v,p),E=s(c,y);return Ge.useEffect(()=>(E.itemMap.set(p,{ref:p,...g}),()=>void E.itemMap.delete(p))),Ge.createElement(fs,{[u]:"",ref:_},w)});function h(m){const v=s(e+"CollectionConsumer",m);return Ge.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const g=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(v.itemMap.values()).sort((E,x)=>g.indexOf(E.ref.current)-g.indexOf(x.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:l,ItemSlot:d},h,r]}const i3=f.createContext(void 0);function nv(e){const t=f.useContext(i3);return e||t||"ltr"}const a3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ce=a3.reduce((e,t)=>{const n=f.forwardRef((r,o)=>{const{asChild:s,...i}=r,a=s?fs:t;return f.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),f.createElement(a,z({},i,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function rv(e,t){e&&Do.flushSync(()=>e.dispatchEvent(t))}function Gt(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function l3(e,t=globalThis==null?void 0:globalThis.document){const n=Gt(e);f.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const Dm="dismissableLayer.update",c3="dismissableLayer.pointerDownOutside",u3="dismissableLayer.focusOutside";let Sw;const Ab=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ov=f.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=f.useContext(Ab),[d,h]=f.useState(null),m=(n=d==null?void 0:d.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,v]=f.useState({}),y=je(t,I=>h(I)),w=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=w.indexOf(g),_=d?w.indexOf(d):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,x=_>=p,b=f3(I=>{const F=I.target,V=[...u.branches].some(oe=>oe.contains(F));!x||V||(s==null||s(I),a==null||a(I),I.defaultPrevented||l==null||l())},m),C=h3(I=>{const F=I.target;[...u.branches].some(oe=>oe.contains(F))||(i==null||i(I),a==null||a(I),I.defaultPrevented||l==null||l())},m);return l3(I=>{_===u.layers.size-1&&(o==null||o(I),!I.defaultPrevented&&l&&(I.preventDefault(),l()))},m),f.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Sw=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),bw(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Sw)}},[d,m,r,u]),f.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),bw())},[d,u]),f.useEffect(()=>{const I=()=>v({});return document.addEventListener(Dm,I),()=>document.removeEventListener(Dm,I)},[]),f.createElement(Ce.div,z({},c,{ref:y,style:{pointerEvents:E?x?"auto":"none":void 0,...e.style},onFocusCapture:ne(e.onFocusCapture,C.onFocusCapture),onBlurCapture:ne(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ne(e.onPointerDownCapture,b.onPointerDownCapture)}))}),d3=f.forwardRef((e,t)=>{const n=f.useContext(Ab),r=f.useRef(null),o=je(t,r);return f.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),f.createElement(Ce.div,z({},e,{ref:o}))});function f3(e,t=globalThis==null?void 0:globalThis.document){const n=Gt(e),r=f.useRef(!1),o=f.useRef(()=>{});return f.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let u=function(){Rb(c3,n,c,{discrete:!0})};var l=u;const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=u,t.addEventListener("click",o.current,{once:!0})):u()}else t.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function h3(e,t=globalThis==null?void 0:globalThis.document){const n=Gt(e),r=f.useRef(!1);return f.useEffect(()=>{const o=s=>{s.target&&!r.current&&Rb(u3,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function bw(){const e=new CustomEvent(Dm);document.dispatchEvent(e)}function Rb(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?rv(o,s):o.dispatchEvent(s)}const p3=ov,m3=d3;let zh=0;function kb(){f.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:Cw()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:Cw()),zh++,()=>{zh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),zh--}},[])}function Cw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const Wh="focusScope.autoFocusOnMount",Hh="focusScope.autoFocusOnUnmount",Iw={bubbles:!1,cancelable:!0},Pb=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=e,[a,l]=f.useState(null),c=Gt(o),u=Gt(s),d=f.useRef(null),h=je(t,y=>l(y)),m=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let p=function(b){if(m.paused||!a)return;const C=b.target;a.contains(C)?d.current=C:Gr(d.current,{select:!0})},_=function(b){if(m.paused||!a)return;const C=b.relatedTarget;C!==null&&(a.contains(C)||Gr(d.current,{select:!0}))},E=function(b){if(document.activeElement===document.body)for(const I of b)I.removedNodes.length>0&&Gr(a)};var y=p,w=_,g=E;document.addEventListener("focusin",p),document.addEventListener("focusout",_);const x=new MutationObserver(E);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",_),x.disconnect()}}},[r,a,m.paused]),f.useEffect(()=>{if(a){Rw.add(m);const y=document.activeElement;if(!a.contains(y)){const g=new CustomEvent(Wh,Iw);a.addEventListener(Wh,c),a.dispatchEvent(g),g.defaultPrevented||(g3(E3($b(a)),{select:!0}),document.activeElement===y&&Gr(a))}return()=>{a.removeEventListener(Wh,c),setTimeout(()=>{const g=new CustomEvent(Hh,Iw);a.addEventListener(Hh,u),a.dispatchEvent(g),g.defaultPrevented||Gr(y??document.body,{select:!0}),a.removeEventListener(Hh,u),Rw.remove(m)},0)}}},[a,c,u,m]);const v=f.useCallback(y=>{if(!n&&!r||m.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,g=document.activeElement;if(w&&g){const p=y.currentTarget,[_,E]=y3(p);_&&E?!y.shiftKey&&g===E?(y.preventDefault(),n&&Gr(_,{select:!0})):y.shiftKey&&g===_&&(y.preventDefault(),n&&Gr(E,{select:!0})):g===p&&y.preventDefault()}},[n,r,m.paused]);return f.createElement(Ce.div,z({tabIndex:-1},i,{ref:h,onKeyDown:v}))});function g3(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Gr(r,{select:t}),document.activeElement!==n)return}function y3(e){const t=$b(e),n=Aw(t,e),r=Aw(t.reverse(),e);return[n,r]}function $b(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Aw(e,t){for(const n of e)if(!v3(n,{upTo:t}))return n}function v3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function _3(e){return e instanceof HTMLInputElement&&"select"in e}function Gr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&_3(e)&&t&&e.select()}}const Rw=w3();function w3(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=kw(e,t),e.unshift(t)},remove(t){var n;e=kw(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function kw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function E3(e){return e.filter(t=>t.tagName!=="A")}const Qt=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},x3=ep.useId||(()=>{});let T3=0;function ki(e){const[t,n]=f.useState(x3());return Qt(()=>{n(r=>r??String(T3++))},[e]),t?`radix-${t}`:""}const S3=["top","right","bottom","left"],So=Math.min,dn=Math.max,yd=Math.round,Wc=Math.floor,bo=e=>({x:e,y:e}),b3={left:"right",right:"left",bottom:"top",top:"bottom"},C3={start:"end",end:"start"};function Om(e,t,n){return dn(e,So(t,n))}function Fr(e,t){return typeof e=="function"?e(t):e}function jr(e){return e.split("-")[0]}function Gi(e){return e.split("-")[1]}function sv(e){return e==="x"?"y":"x"}function iv(e){return e==="y"?"height":"width"}function Qi(e){return["top","bottom"].includes(jr(e))?"y":"x"}function av(e){return sv(Qi(e))}function I3(e,t,n){n===void 0&&(n=!1);const r=Gi(e),o=av(e),s=iv(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=vd(i)),[i,vd(i)]}function A3(e){const t=vd(e);return[Mm(e),t,Mm(t)]}function Mm(e){return e.replace(/start|end/g,t=>C3[t])}function R3(e,t,n){const r=["left","right"],o=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?s:i;default:return[]}}function k3(e,t,n,r){const o=Gi(e);let s=R3(jr(e),n==="start",r);return o&&(s=s.map(i=>i+"-"+o),t&&(s=s.concat(s.map(Mm)))),s}function vd(e){return e.replace(/left|right|bottom|top/g,t=>b3[t])}function P3(e){return{top:0,right:0,bottom:0,left:0,...e}}function Nb(e){return typeof e!="number"?P3(e):{top:e,right:e,bottom:e,left:e}}function _d(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Pw(e,t,n){let{reference:r,floating:o}=e;const s=Qi(t),i=av(t),a=iv(i),l=jr(t),c=s==="y",u=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,h=r[a]/2-o[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-o.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-o.width,y:d};break;default:m={x:r.x,y:r.y}}switch(Gi(t)){case"start":m[i]-=h*(n&&c?-1:1);break;case"end":m[i]+=h*(n&&c?-1:1);break}return m}const $3=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:d}=Pw(c,r,l),h=r,m={},v=0;for(let y=0;y<a.length;y++){const{name:w,fn:g}=a[y],{x:p,y:_,data:E,reset:x}=await g({x:u,y:d,initialPlacement:r,placement:h,strategy:o,middlewareData:m,rects:c,platform:i,elements:{reference:e,floating:t}});u=p??u,d=_??d,m={...m,[w]:{...m[w],...E}},x&&v<=50&&(v++,typeof x=="object"&&(x.placement&&(h=x.placement),x.rects&&(c=x.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):x.rects),{x:u,y:d}=Pw(c,h,l)),y=-1)}return{x:u,y:d,placement:h,strategy:o,middlewareData:m}};async function El(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:m=0}=Fr(t,e),v=Nb(m),w=a[h?d==="floating"?"reference":"floating":d],g=_d(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),p=d==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),E=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},x=_d(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:p,offsetParent:_,strategy:l}):p);return{top:(g.top-x.top+v.top)/E.y,bottom:(x.bottom-g.bottom+v.bottom)/E.y,left:(g.left-x.left+v.left)/E.x,right:(x.right-g.right+v.right)/E.x}}const N3=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=Fr(e,t)||{};if(c==null)return{};const d=Nb(u),h={x:n,y:r},m=av(o),v=iv(m),y=await i.getDimensions(c),w=m==="y",g=w?"top":"left",p=w?"bottom":"right",_=w?"clientHeight":"clientWidth",E=s.reference[v]+s.reference[m]-h[m]-s.floating[v],x=h[m]-s.reference[m],b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let C=b?b[_]:0;(!C||!await(i.isElement==null?void 0:i.isElement(b)))&&(C=a.floating[_]||s.floating[v]);const I=E/2-x/2,F=C/2-y[v]/2-1,V=So(d[g],F),oe=So(d[p],F),P=V,G=C-y[v]-oe,N=C/2-y[v]/2+I,U=Om(P,N,G),te=!l.arrow&&Gi(o)!=null&&N!==U&&s.reference[v]/2-(N<P?V:oe)-y[v]/2<0,Y=te?N<P?N-P:N-G:0;return{[m]:h[m]+Y,data:{[m]:U,centerOffset:N-U-Y,...te&&{alignmentOffset:Y}},reset:te}}}),D3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...w}=Fr(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=jr(o),p=jr(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=h||(p||!y?[vd(a)]:A3(a));!h&&v!=="none"&&E.push(...k3(a,y,v,_));const x=[a,...E],b=await El(t,w),C=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&C.push(b[g]),d){const P=I3(o,i,_);C.push(b[P[0]],b[P[1]])}if(I=[...I,{placement:o,overflows:C}],!C.every(P=>P<=0)){var F,V;const P=(((F=s.flip)==null?void 0:F.index)||0)+1,G=x[P];if(G)return{data:{index:P,overflows:I},reset:{placement:G}};let N=(V=I.filter(U=>U.overflows[0]<=0).sort((U,te)=>U.overflows[1]-te.overflows[1])[0])==null?void 0:V.placement;if(!N)switch(m){case"bestFit":{var oe;const U=(oe=I.map(te=>[te.placement,te.overflows.filter(Y=>Y>0).reduce((Y,D)=>Y+D,0)]).sort((te,Y)=>te[1]-Y[1])[0])==null?void 0:oe[0];U&&(N=U);break}case"initialPlacement":N=a;break}if(o!==N)return{reset:{placement:N}}}return{}}}};function $w(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Nw(e){return S3.some(t=>e[t]>=0)}const O3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Fr(e,t);switch(r){case"referenceHidden":{const s=await El(t,{...o,elementContext:"reference"}),i=$w(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Nw(i)}}}case"escaped":{const s=await El(t,{...o,altBoundary:!0}),i=$w(s,n.floating);return{data:{escapedOffsets:i,escaped:Nw(i)}}}default:return{}}}}};async function M3(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=jr(n),a=Gi(n),l=Qi(n)==="y",c=["left","top"].includes(i)?-1:1,u=s&&l?-1:1,d=Fr(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*u,y:h*c}:{x:h*c,y:m*u}}const V3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:i,middlewareData:a}=t,l=await M3(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:s+l.y,data:{...l,placement:i}}}}},L3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:w=>{let{x:g,y:p}=w;return{x:g,y:p}}},...l}=Fr(e,t),c={x:n,y:r},u=await El(t,l),d=Qi(jr(o)),h=sv(d);let m=c[h],v=c[d];if(s){const w=h==="y"?"top":"left",g=h==="y"?"bottom":"right",p=m+u[w],_=m-u[g];m=Om(p,m,_)}if(i){const w=d==="y"?"top":"left",g=d==="y"?"bottom":"right",p=v+u[w],_=v-u[g];v=Om(p,v,_)}const y=a.fn({...t,[h]:m,[d]:v});return{...y,data:{x:y.x-n,y:y.y-r}}}}},F3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Fr(e,t),u={x:n,y:r},d=Qi(o),h=sv(d);let m=u[h],v=u[d];const y=Fr(a,t),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const _=h==="y"?"height":"width",E=s.reference[h]-s.floating[_]+w.mainAxis,x=s.reference[h]+s.reference[_]-w.mainAxis;m<E?m=E:m>x&&(m=x)}if(c){var g,p;const _=h==="y"?"width":"height",E=["top","left"].includes(jr(o)),x=s.reference[d]-s.floating[_]+(E&&((g=i.offset)==null?void 0:g[d])||0)+(E?0:w.crossAxis),b=s.reference[d]+s.reference[_]+(E?0:((p=i.offset)==null?void 0:p[d])||0)-(E?w.crossAxis:0);v<x?v=x:v>b&&(v=b)}return{[h]:m,[d]:v}}}},j3=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:s}=t,{apply:i=()=>{},...a}=Fr(e,t),l=await El(t,a),c=jr(n),u=Gi(n),d=Qi(n)==="y",{width:h,height:m}=r.floating;let v,y;c==="top"||c==="bottom"?(v=c,y=u===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(y=c,v=u==="end"?"top":"bottom");const w=m-l[v],g=h-l[y],p=!t.middlewareData.shift;let _=w,E=g;if(d){const b=h-l.left-l.right;E=u||p?So(g,b):b}else{const b=m-l.top-l.bottom;_=u||p?So(w,b):b}if(p&&!u){const b=dn(l.left,0),C=dn(l.right,0),I=dn(l.top,0),F=dn(l.bottom,0);d?E=h-2*(b!==0||C!==0?b+C:dn(l.left,l.right)):_=m-2*(I!==0||F!==0?I+F:dn(l.top,l.bottom))}await i({...t,availableWidth:E,availableHeight:_});const x=await o.getDimensions(s.floating);return h!==x.width||m!==x.height?{reset:{rects:!0}}:{}}}};function Zi(e){return Db(e)?(e.nodeName||"").toLowerCase():"#document"}function yn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function zr(e){var t;return(t=(Db(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Db(e){return e instanceof Node||e instanceof yn(e).Node}function fr(e){return e instanceof Element||e instanceof yn(e).Element}function hr(e){return e instanceof HTMLElement||e instanceof yn(e).HTMLElement}function Dw(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof yn(e).ShadowRoot}function dc(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Qn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function U3(e){return["table","td","th"].includes(Zi(e))}function lv(e){const t=cv(),n=Qn(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function B3(e){let t=Co(e);for(;hr(t)&&!Pi(t);){if(lv(t))return t;t=Co(t)}return null}function cv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pi(e){return["html","body","#document"].includes(Zi(e))}function Qn(e){return yn(e).getComputedStyle(e)}function $f(e){return fr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Co(e){if(Zi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Dw(e)&&e.host||zr(e);return Dw(t)?t.host:t}function Ob(e){const t=Co(e);return Pi(t)?e.ownerDocument?e.ownerDocument.body:e.body:hr(t)&&dc(t)?t:Ob(t)}function xl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Ob(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),i=yn(o);return s?t.concat(i,i.visualViewport||[],dc(o)?o:[],i.frameElement&&n?xl(i.frameElement):[]):t.concat(o,xl(o,[],n))}function Mb(e){const t=Qn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=hr(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r,a=yd(n)!==s||yd(r)!==i;return a&&(n=s,r=i),{width:n,height:r,$:a}}function uv(e){return fr(e)?e:e.contextElement}function ui(e){const t=uv(e);if(!hr(t))return bo(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=Mb(t);let i=(s?yd(n.width):n.width)/r,a=(s?yd(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const z3=bo(0);function Vb(e){const t=yn(e);return!cv()||!t.visualViewport?z3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function W3(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==yn(e)?!1:t}function ps(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=uv(e);let i=bo(1);t&&(r?fr(r)&&(i=ui(r)):i=ui(e));const a=W3(s,n,r)?Vb(s):bo(0);let l=(o.left+a.x)/i.x,c=(o.top+a.y)/i.y,u=o.width/i.x,d=o.height/i.y;if(s){const h=yn(s),m=r&&fr(r)?yn(r):r;let v=h,y=v.frameElement;for(;y&&r&&m!==v;){const w=ui(y),g=y.getBoundingClientRect(),p=Qn(y),_=g.left+(y.clientLeft+parseFloat(p.paddingLeft))*w.x,E=g.top+(y.clientTop+parseFloat(p.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,d*=w.y,l+=_,c+=E,v=yn(y),y=v.frameElement}}return _d({width:u,height:d,x:l,y:c})}const H3=[":popover-open",":modal"];function dv(e){return H3.some(t=>{try{return e.matches(t)}catch{return!1}})}function q3(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",i=zr(r),a=t?dv(t.floating):!1;if(r===i||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=bo(1);const u=bo(0),d=hr(r);if((d||!d&&!s)&&((Zi(r)!=="body"||dc(i))&&(l=$f(r)),hr(r))){const h=ps(r);c=ui(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function K3(e){return Array.from(e.getClientRects())}function Lb(e){return ps(zr(e)).left+$f(e).scrollLeft}function G3(e){const t=zr(e),n=$f(e),r=e.ownerDocument.body,o=dn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=dn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Lb(e);const a=-n.scrollTop;return Qn(r).direction==="rtl"&&(i+=dn(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:a}}function Q3(e,t){const n=yn(e),r=zr(e),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,a=0,l=0;if(o){s=o.width,i=o.height;const c=cv();(!c||c&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:i,x:a,y:l}}function Z3(e,t){const n=ps(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=hr(e)?ui(e):bo(1),i=e.clientWidth*s.x,a=e.clientHeight*s.y,l=o*s.x,c=r*s.y;return{width:i,height:a,x:l,y:c}}function Ow(e,t,n){let r;if(t==="viewport")r=Q3(e,n);else if(t==="document")r=G3(zr(e));else if(fr(t))r=Z3(t,n);else{const o=Vb(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return _d(r)}function Fb(e,t){const n=Co(e);return n===t||!fr(n)||Pi(n)?!1:Qn(n).position==="fixed"||Fb(n,t)}function Y3(e,t){const n=t.get(e);if(n)return n;let r=xl(e,[],!1).filter(a=>fr(a)&&Zi(a)!=="body"),o=null;const s=Qn(e).position==="fixed";let i=s?Co(e):e;for(;fr(i)&&!Pi(i);){const a=Qn(i),l=lv(i);!l&&a.position==="fixed"&&(o=null),(s?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||dc(i)&&!l&&Fb(e,i))?r=r.filter(u=>u!==i):o=a,i=Co(i)}return t.set(e,r),r}function X3(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?dv(t)?[]:Y3(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,u)=>{const d=Ow(t,u,o);return c.top=dn(d.top,c.top),c.right=So(d.right,c.right),c.bottom=So(d.bottom,c.bottom),c.left=dn(d.left,c.left),c},Ow(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function J3(e){const{width:t,height:n}=Mb(e);return{width:t,height:n}}function e4(e,t,n){const r=hr(t),o=zr(t),s=n==="fixed",i=ps(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=bo(0);if(r||!r&&!s)if((Zi(t)!=="body"||dc(o))&&(a=$f(t)),r){const d=ps(t,!0,s,t);l.x=d.x+t.clientLeft,l.y=d.y+t.clientTop}else o&&(l.x=Lb(o));const c=i.left+a.scrollLeft-l.x,u=i.top+a.scrollTop-l.y;return{x:c,y:u,width:i.width,height:i.height}}function qh(e){return Qn(e).position==="static"}function Mw(e,t){return!hr(e)||Qn(e).position==="fixed"?null:t?t(e):e.offsetParent}function jb(e,t){const n=yn(e);if(dv(e))return n;if(!hr(e)){let o=Co(e);for(;o&&!Pi(o);){if(fr(o)&&!qh(o))return o;o=Co(o)}return n}let r=Mw(e,t);for(;r&&U3(r)&&qh(r);)r=Mw(r,t);return r&&Pi(r)&&qh(r)&&!lv(r)?n:r||B3(e)||n}const t4=async function(e){const t=this.getOffsetParent||jb,n=this.getDimensions,r=await n(e.floating);return{reference:e4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function n4(e){return Qn(e).direction==="rtl"}const r4={convertOffsetParentRelativeRectToViewportRelativeRect:q3,getDocumentElement:zr,getClippingRect:X3,getOffsetParent:jb,getElementRects:t4,getClientRects:K3,getDimensions:J3,getScale:ui,isElement:fr,isRTL:n4};function o4(e,t){let n=null,r;const o=zr(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:h}=e.getBoundingClientRect();if(a||t(),!d||!h)return;const m=Wc(u),v=Wc(o.clientWidth-(c+d)),y=Wc(o.clientHeight-(u+h)),w=Wc(c),p={rootMargin:-m+"px "+-v+"px "+-y+"px "+-w+"px",threshold:dn(0,So(1,l))||1};let _=!0;function E(x){const b=x[0].intersectionRatio;if(b!==l){if(!_)return i();b?i(!1,b):r=setTimeout(()=>{i(!1,1e-7)},1e3)}_=!1}try{n=new IntersectionObserver(E,{...p,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,p)}n.observe(e)}return i(!0),s}function s4(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=uv(e),u=o||s?[...c?xl(c):[],...xl(t)]:[];u.forEach(g=>{o&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const d=c&&a?o4(c,n):null;let h=-1,m=null;i&&(m=new ResizeObserver(g=>{let[p]=g;p&&p.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=m)==null||_.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let v,y=l?ps(e):null;l&&w();function w(){const g=ps(e);y&&(g.x!==y.x||g.y!==y.y||g.width!==y.width||g.height!==y.height)&&n(),y=g,v=requestAnimationFrame(w)}return n(),()=>{var g;u.forEach(p=>{o&&p.removeEventListener("scroll",n),s&&p.removeEventListener("resize",n)}),d==null||d(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const i4=V3,a4=L3,l4=D3,c4=j3,u4=O3,Vw=N3,d4=F3,f4=(e,t,n)=>{const r=new Map,o={platform:r4,...n},s={...o.platform,_c:r};return $3(e,t,{...o,platform:s})},h4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Vw({element:r.current,padding:o}).fn(n):{}:r?Vw({element:r,padding:o}).fn(n):{}}}};var vu=typeof document<"u"?f.useLayoutEffect:f.useEffect;function wd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!wd(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!wd(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Ub(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Lw(e,t){const n=Ub(e);return Math.round(t*n)/n}function Fw(e){const t=f.useRef(e);return vu(()=>{t.current=e}),t}function p4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,d]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=f.useState(r);wd(h,r)||m(r);const[v,y]=f.useState(null),[w,g]=f.useState(null),p=f.useCallback(Y=>{Y!==b.current&&(b.current=Y,y(Y))},[]),_=f.useCallback(Y=>{Y!==C.current&&(C.current=Y,g(Y))},[]),E=s||v,x=i||w,b=f.useRef(null),C=f.useRef(null),I=f.useRef(u),F=l!=null,V=Fw(l),oe=Fw(o),P=f.useCallback(()=>{if(!b.current||!C.current)return;const Y={placement:t,strategy:n,middleware:h};oe.current&&(Y.platform=oe.current),f4(b.current,C.current,Y).then(D=>{const k={...D,isPositioned:!0};G.current&&!wd(I.current,k)&&(I.current=k,Do.flushSync(()=>{d(k)}))})},[h,t,n,oe]);vu(()=>{c===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,d(Y=>({...Y,isPositioned:!1})))},[c]);const G=f.useRef(!1);vu(()=>(G.current=!0,()=>{G.current=!1}),[]),vu(()=>{if(E&&(b.current=E),x&&(C.current=x),E&&x){if(V.current)return V.current(E,x,P);P()}},[E,x,P,V,F]);const N=f.useMemo(()=>({reference:b,floating:C,setReference:p,setFloating:_}),[p,_]),U=f.useMemo(()=>({reference:E,floating:x}),[E,x]),te=f.useMemo(()=>{const Y={position:n,left:0,top:0};if(!U.floating)return Y;const D=Lw(U.floating,u.x),k=Lw(U.floating,u.y);return a?{...Y,transform:"translate("+D+"px, "+k+"px)",...Ub(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:k}},[n,a,U.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:P,refs:N,elements:U,floatingStyles:te}),[u,P,N,U,te])}function m4(e){const[t,n]=f.useState(void 0);return Qt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let i,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const Bb="Popper",[zb,Nf]=xs(Bb),[g4,Wb]=zb(Bb),y4=e=>{const{__scopePopper:t,children:n}=e,[r,o]=f.useState(null);return f.createElement(g4,{scope:t,anchor:r,onAnchorChange:o},n)},v4="PopperAnchor",_4=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,s=Wb(v4,n),i=f.useRef(null),a=je(t,i);return f.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:f.createElement(Ce.div,z({},o,{ref:a}))}),Hb="PopperContent",[w4,GF]=zb(Hb),E4=f.forwardRef((e,t)=>{var n,r,o,s,i,a,l,c;const{__scopePopper:u,side:d="bottom",sideOffset:h=0,align:m="center",alignOffset:v=0,arrowPadding:y=0,avoidCollisions:w=!0,collisionBoundary:g=[],collisionPadding:p=0,sticky:_="partial",hideWhenDetached:E=!1,updatePositionStrategy:x="optimized",onPlaced:b,...C}=e,I=Wb(Hb,u),[F,V]=f.useState(null),oe=je(t,Yn=>V(Yn)),[P,G]=f.useState(null),N=m4(P),U=(n=N==null?void 0:N.width)!==null&&n!==void 0?n:0,te=(r=N==null?void 0:N.height)!==null&&r!==void 0?r:0,Y=d+(m!=="center"?"-"+m:""),D=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},k=Array.isArray(g)?g:[g],H=k.length>0,ie={padding:D,boundary:k.filter(x4),altBoundary:H},{refs:he,floatingStyles:Ke,placement:Ve,isPositioned:mt,middlewareData:$e}=p4({strategy:"fixed",placement:Y,whileElementsMounted:(...Yn)=>s4(...Yn,{animationFrame:x==="always"}),elements:{reference:I.anchor},middleware:[i4({mainAxis:h+te,alignmentAxis:v}),w&&a4({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?d4():void 0,...ie}),w&&l4({...ie}),c4({...ie,apply:({elements:Yn,rects:Lo,availableWidth:Is,availableHeight:T})=>{const{width:A,height:R}=Lo.reference,q=Yn.floating.style;q.setProperty("--radix-popper-available-width",`${Is}px`),q.setProperty("--radix-popper-available-height",`${T}px`),q.setProperty("--radix-popper-anchor-width",`${A}px`),q.setProperty("--radix-popper-anchor-height",`${R}px`)}}),P&&h4({element:P,padding:y}),T4({arrowWidth:U,arrowHeight:te}),E&&u4({strategy:"referenceHidden",...ie})]}),[re,be]=qb(Ve),Ie=Gt(b);Qt(()=>{mt&&(Ie==null||Ie())},[mt,Ie]);const ke=(o=$e.arrow)===null||o===void 0?void 0:o.x,Ae=(s=$e.arrow)===null||s===void 0?void 0:s.y,Pe=((i=$e.arrow)===null||i===void 0?void 0:i.centerOffset)!==0,[Pt,$t]=f.useState();return Qt(()=>{F&&$t(window.getComputedStyle(F).zIndex)},[F]),f.createElement("div",{ref:he.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ke,transform:mt?Ke.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pt,"--radix-popper-transform-origin":[(a=$e.transformOrigin)===null||a===void 0?void 0:a.x,(l=$e.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:e.dir},f.createElement(w4,{scope:u,placedSide:re,onArrowChange:G,arrowX:ke,arrowY:Ae,shouldHideArrow:Pe},f.createElement(Ce.div,z({"data-side":re,"data-align":be},C,{ref:oe,style:{...C.style,animation:mt?void 0:"none",opacity:(c=$e.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function x4(e){return e!==null}const T4=e=>({name:"transformOrigin",options:e,fn(t){var n,r,o,s,i;const{placement:a,rects:l,middlewareData:c}=t,d=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,h=d?0:e.arrowWidth,m=d?0:e.arrowHeight,[v,y]=qb(a),w={start:"0%",center:"50%",end:"100%"}[y],g=((r=(o=c.arrow)===null||o===void 0?void 0:o.x)!==null&&r!==void 0?r:0)+h/2,p=((s=(i=c.arrow)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0)+m/2;let _="",E="";return v==="bottom"?(_=d?w:`${g}px`,E=`${-m}px`):v==="top"?(_=d?w:`${g}px`,E=`${l.floating.height+m}px`):v==="right"?(_=`${-m}px`,E=d?w:`${p}px`):v==="left"&&(_=`${l.floating.width+m}px`,E=d?w:`${p}px`),{data:{x:_,y:E}}}});function qb(e){const[t,n="center"]=e.split("-");return[t,n]}const Kb=y4,Gb=_4,Qb=E4,fv=f.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...o}=e;return r?dk.createPortal(f.createElement(Ce.div,z({},o,{ref:t})),r):null});function Tl({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=S4({defaultProp:t,onChange:n}),s=e!==void 0,i=s?e:r,a=Gt(n),l=f.useCallback(c=>{if(s){const d=typeof c=="function"?c(e):c;d!==e&&a(d)}else o(c)},[s,e,o,a]);return[i,l]}function S4({defaultProp:e,onChange:t}){const n=f.useState(e),[r]=n,o=f.useRef(r),s=Gt(t);return f.useEffect(()=>{o.current!==r&&(s(r),o.current=r)},[r,o,s]),n}function b4(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const hv=f.forwardRef((e,t)=>f.createElement(Ce.span,z({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));var C4=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},$s=new WeakMap,Hc=new WeakMap,qc={},Kh=0,Zb=function(e){return e&&(e.host||Zb(e.parentNode))},I4=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Zb(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},A4=function(e,t,n,r){var o=I4(t,Array.isArray(e)?e:[e]);qc[n]||(qc[n]=new WeakMap);var s=qc[n],i=[],a=new Set,l=new Set(o),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};o.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var m=h.getAttribute(r),v=m!==null&&m!=="false",y=($s.get(h)||0)+1,w=(s.get(h)||0)+1;$s.set(h,y),s.set(h,w),i.push(h),y===1&&v&&Hc.set(h,!0),w===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",h,g)}})};return u(t),a.clear(),Kh++,function(){i.forEach(function(d){var h=$s.get(d)-1,m=s.get(d)-1;$s.set(d,h),s.set(d,m),h||(Hc.has(d)||d.removeAttribute(r),Hc.delete(d)),m||d.removeAttribute(n)}),Kh--,Kh||($s=new WeakMap,$s=new WeakMap,Hc=new WeakMap,qc={})}},Yb=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=C4(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),A4(r,o,n,"aria-hidden")):function(){return null}},nr=function(){return nr=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},nr.apply(this,arguments)};function Xb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function R4(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var _u="right-scroll-bar-position",wu="width-before-scroll-bar",k4="with-scroll-bars-hidden",P4="--removed-body-scroll-bar-size";function Gh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function $4(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var N4=typeof window<"u"?f.useLayoutEffect:f.useEffect,jw=new WeakMap;function D4(e,t){var n=$4(null,function(r){return e.forEach(function(o){return Gh(o,r)})});return N4(function(){var r=jw.get(n);if(r){var o=new Set(r),s=new Set(e),i=n.current;o.forEach(function(a){s.has(a)||Gh(a,null)}),s.forEach(function(a){o.has(a)||Gh(a,i)})}jw.set(n,e)},[e]),n}function O4(e){return e}function M4(e,t){t===void 0&&(t=O4);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var i=t(s,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(s){for(r=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(s),i=n}var l=function(){var u=i;i=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){i.push(u),c()},filter:function(u){return i=i.filter(u),n}}}};return o}function V4(e){e===void 0&&(e={});var t=M4(null);return t.options=nr({async:!0,ssr:!1},e),t}var Jb=function(e){var t=e.sideCar,n=Xb(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,nr({},n))};Jb.isSideCarExport=!0;function L4(e,t){return e.useMedium(t),Jb}var eC=V4(),Qh=function(){},Df=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:Qh,onWheelCapture:Qh,onTouchMoveCapture:Qh}),o=r[0],s=r[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,h=e.sideCar,m=e.noIsolation,v=e.inert,y=e.allowPinchZoom,w=e.as,g=w===void 0?"div":w,p=Xb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),_=h,E=D4([n,t]),x=nr(nr({},p),o);return f.createElement(f.Fragment,null,u&&f.createElement(_,{sideCar:eC,removeScrollBar:c,shards:d,noIsolation:m,inert:v,setCallbacks:s,allowPinchZoom:!!y,lockRef:n}),i?f.cloneElement(f.Children.only(a),nr(nr({},x),{ref:E})):f.createElement(g,nr({},x,{className:l,ref:E}),a))});Df.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Df.classNames={fullWidth:wu,zeroRight:_u};var F4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function j4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=F4();return t&&e.setAttribute("nonce",t),e}function U4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function B4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var z4=function(){var e=0,t=null;return{add:function(n){e==0&&(t=j4())&&(U4(t,n),B4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},W4=function(){var e=z4();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},tC=function(){var e=W4(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},H4={left:0,top:0,right:0,gap:0},Zh=function(e){return parseInt(e||"",10)||0},q4=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Zh(n),Zh(r),Zh(o)]},K4=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return H4;var t=q4(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},G4=tC(),di="data-scroll-locked",Q4=function(e,t,n,r){var o=e.left,s=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(k4,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(di,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_u,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(wu,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(_u," .").concat(_u,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(wu," .").concat(wu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(di,`] {
    `).concat(P4,": ").concat(a,`px;
  }
`)},Uw=function(){var e=parseInt(document.body.getAttribute(di)||"0",10);return isFinite(e)?e:0},Z4=function(){f.useEffect(function(){return document.body.setAttribute(di,(Uw()+1).toString()),function(){var e=Uw()-1;e<=0?document.body.removeAttribute(di):document.body.setAttribute(di,e.toString())}},[])},Y4=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;Z4();var s=f.useMemo(function(){return K4(o)},[o]);return f.createElement(G4,{styles:Q4(s,!t,o,n?"":"!important")})},Vm=!1;if(typeof window<"u")try{var Kc=Object.defineProperty({},"passive",{get:function(){return Vm=!0,!0}});window.addEventListener("test",Kc,Kc),window.removeEventListener("test",Kc,Kc)}catch{Vm=!1}var Ns=Vm?{passive:!1}:!1,X4=function(e){return e.tagName==="TEXTAREA"},nC=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!X4(e)&&n[t]==="visible")},J4=function(e){return nC(e,"overflowY")},e9=function(e){return nC(e,"overflowX")},Bw=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=rC(e,n);if(r){var o=oC(e,n),s=o[1],i=o[2];if(s>i)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},t9=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},n9=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},rC=function(e,t){return e==="v"?J4(t):e9(t)},oC=function(e,t){return e==="v"?t9(t):n9(t)},r9=function(e,t){return e==="h"&&t==="rtl"?-1:1},o9=function(e,t,n,r,o){var s=r9(e,window.getComputedStyle(t).direction),i=s*r,a=n.target,l=t.contains(a),c=!1,u=i>0,d=0,h=0;do{var m=oC(e,a),v=m[0],y=m[1],w=m[2],g=y-w-s*v;(v||g)&&rC(e,a)&&(d+=g,h+=v),a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&(d===0||!o)||!u&&(h===0||!o))&&(c=!0),c},Gc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},zw=function(e){return[e.deltaX,e.deltaY]},Ww=function(e){return e&&"current"in e?e.current:e},s9=function(e,t){return e[0]===t[0]&&e[1]===t[1]},i9=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},a9=0,Ds=[];function l9(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),o=f.useState(a9++)[0],s=f.useState(function(){return tC()})[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var y=R4([e.lockRef.current],(e.shards||[]).map(Ww),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=f.useCallback(function(y,w){if("touches"in y&&y.touches.length===2)return!i.current.allowPinchZoom;var g=Gc(y),p=n.current,_="deltaX"in y?y.deltaX:p[0]-g[0],E="deltaY"in y?y.deltaY:p[1]-g[1],x,b=y.target,C=Math.abs(_)>Math.abs(E)?"h":"v";if("touches"in y&&C==="h"&&b.type==="range")return!1;var I=Bw(C,b);if(!I)return!0;if(I?x=C:(x=C==="v"?"h":"v",I=Bw(C,b)),!I)return!1;if(!r.current&&"changedTouches"in y&&(_||E)&&(r.current=x),!x)return!0;var F=r.current||x;return o9(F,w,y,F==="h"?_:E,!0)},[]),l=f.useCallback(function(y){var w=y;if(!(!Ds.length||Ds[Ds.length-1]!==s)){var g="deltaY"in w?zw(w):Gc(w),p=t.current.filter(function(x){return x.name===w.type&&x.target===w.target&&s9(x.delta,g)})[0];if(p&&p.should){w.cancelable&&w.preventDefault();return}if(!p){var _=(i.current.shards||[]).map(Ww).filter(Boolean).filter(function(x){return x.contains(w.target)}),E=_.length>0?a(w,_[0]):!i.current.noIsolation;E&&w.cancelable&&w.preventDefault()}}},[]),c=f.useCallback(function(y,w,g,p){var _={name:y,delta:w,target:g,should:p};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(E){return E!==_})},1)},[]),u=f.useCallback(function(y){n.current=Gc(y),r.current=void 0},[]),d=f.useCallback(function(y){c(y.type,zw(y),y.target,a(y,e.lockRef.current))},[]),h=f.useCallback(function(y){c(y.type,Gc(y),y.target,a(y,e.lockRef.current))},[]);f.useEffect(function(){return Ds.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ns),document.addEventListener("touchmove",l,Ns),document.addEventListener("touchstart",u,Ns),function(){Ds=Ds.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,Ns),document.removeEventListener("touchmove",l,Ns),document.removeEventListener("touchstart",u,Ns)}},[]);var m=e.removeScrollBar,v=e.inert;return f.createElement(f.Fragment,null,v?f.createElement(s,{styles:i9(o)}):null,m?f.createElement(Y4,{gapMode:"margin"}):null)}const c9=L4(eC,l9);var pv=f.forwardRef(function(e,t){return f.createElement(Df,nr({},e,{ref:t,sideCar:c9}))});pv.classNames=Df.classNames;const u9=[" ","Enter","ArrowUp","ArrowDown"],d9=[" ","Enter"],Of="Select",[Mf,Vf,f9]=Pf(Of),[Yi,QF]=xs(Of,[f9,Nf]),mv=Nf(),[h9,Ts]=Yi(Of),[p9,m9]=Yi(Of),g9=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:s,value:i,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:h,required:m}=e,v=mv(t),[y,w]=f.useState(null),[g,p]=f.useState(null),[_,E]=f.useState(!1),x=nv(c),[b=!1,C]=Tl({prop:r,defaultProp:o,onChange:s}),[I,F]=Tl({prop:i,defaultProp:a,onChange:l}),V=f.useRef(null),oe=y?!!y.closest("form"):!0,[P,G]=f.useState(new Set),N=Array.from(P).map(U=>U.props.value).join(";");return f.createElement(Kb,v,f.createElement(h9,{required:m,scope:t,trigger:y,onTriggerChange:w,valueNode:g,onValueNodeChange:p,valueNodeHasChildren:_,onValueNodeHasChildrenChange:E,contentId:ki(),value:I,onValueChange:F,open:b,onOpenChange:C,dir:x,triggerPointerDownPosRef:V,disabled:h},f.createElement(Mf.Provider,{scope:t},f.createElement(p9,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(U=>{G(te=>new Set(te).add(U))},[]),onNativeOptionRemove:f.useCallback(U=>{G(te=>{const Y=new Set(te);return Y.delete(U),Y})},[])},n)),oe?f.createElement(cC,{key:N,"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:d,value:I,onChange:U=>F(U.target.value),disabled:h},I===void 0?f.createElement("option",{value:""}):null,Array.from(P)):null))},y9="SelectTrigger",v9=f.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,s=mv(n),i=Ts(y9,n),a=i.disabled||r,l=je(t,i.onTriggerChange),c=Vf(n),[u,d,h]=uC(v=>{const y=c().filter(p=>!p.disabled),w=y.find(p=>p.value===i.value),g=dC(y,v,w);g!==void 0&&i.onValueChange(g.value)}),m=()=>{a||(i.onOpenChange(!0),h())};return f.createElement(Gb,z({asChild:!0},s),f.createElement(Ce.button,z({type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":lC(i.value)?"":void 0},o,{ref:l,onClick:ne(o.onClick,v=>{v.currentTarget.focus()}),onPointerDown:ne(o.onPointerDown,v=>{const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&(m(),i.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)},v.preventDefault())}),onKeyDown:ne(o.onKeyDown,v=>{const y=u.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&d(v.key),!(y&&v.key===" ")&&u9.includes(v.key)&&(m(),v.preventDefault())})})))}),_9="SelectValue",w9=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:s,placeholder:i="",...a}=e,l=Ts(_9,n),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,d=je(t,l.onValueNodeChange);return Qt(()=>{c(u)},[c,u]),f.createElement(Ce.span,z({},a,{ref:d,style:{pointerEvents:"none"}}),lC(l.value)?f.createElement(f.Fragment,null,i):s)}),E9=f.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return f.createElement(Ce.span,z({"aria-hidden":!0},o,{ref:t}),r||"▼")}),x9=e=>f.createElement(fv,z({asChild:!0},e)),$i="SelectContent",T9=f.forwardRef((e,t)=>{const n=Ts($i,e.__scopeSelect),[r,o]=f.useState();if(Qt(()=>{o(new DocumentFragment)},[]),!n.open){const s=r;return s?Do.createPortal(f.createElement(sC,{scope:e.__scopeSelect},f.createElement(Mf.Slot,{scope:e.__scopeSelect},f.createElement("div",null,e.children))),s):null}return f.createElement(S9,z({},e,{ref:t}))}),Er=10,[sC,Ss]=Yi($i),S9=f.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:s,onPointerDownOutside:i,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:y,avoidCollisions:w,...g}=e,p=Ts($i,n),[_,E]=f.useState(null),[x,b]=f.useState(null),C=je(t,re=>E(re)),[I,F]=f.useState(null),[V,oe]=f.useState(null),P=Vf(n),[G,N]=f.useState(!1),U=f.useRef(!1);f.useEffect(()=>{if(_)return Yb(_)},[_]),kb();const te=f.useCallback(re=>{const[be,...Ie]=P().map(Pe=>Pe.ref.current),[ke]=Ie.slice(-1),Ae=document.activeElement;for(const Pe of re)if(Pe===Ae||(Pe==null||Pe.scrollIntoView({block:"nearest"}),Pe===be&&x&&(x.scrollTop=0),Pe===ke&&x&&(x.scrollTop=x.scrollHeight),Pe==null||Pe.focus(),document.activeElement!==Ae))return},[P,x]),Y=f.useCallback(()=>te([I,_]),[te,I,_]);f.useEffect(()=>{G&&Y()},[G,Y]);const{onOpenChange:D,triggerPointerDownPosRef:k}=p;f.useEffect(()=>{if(_){let re={x:0,y:0};const be=ke=>{var Ae,Pe,Pt,$t;re={x:Math.abs(Math.round(ke.pageX)-((Ae=(Pe=k.current)===null||Pe===void 0?void 0:Pe.x)!==null&&Ae!==void 0?Ae:0)),y:Math.abs(Math.round(ke.pageY)-((Pt=($t=k.current)===null||$t===void 0?void 0:$t.y)!==null&&Pt!==void 0?Pt:0))}},Ie=ke=>{re.x<=10&&re.y<=10?ke.preventDefault():_.contains(ke.target)||D(!1),document.removeEventListener("pointermove",be),k.current=null};return k.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",Ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",Ie,{capture:!0})}}},[_,D,k]),f.useEffect(()=>{const re=()=>D(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[D]);const[H,ie]=uC(re=>{const be=P().filter(Ae=>!Ae.disabled),Ie=be.find(Ae=>Ae.ref.current===document.activeElement),ke=dC(be,re,Ie);ke&&setTimeout(()=>ke.ref.current.focus())}),he=f.useCallback((re,be,Ie)=>{const ke=!U.current&&!Ie;(p.value!==void 0&&p.value===be||ke)&&(F(re),ke&&(U.current=!0))},[p.value]),Ke=f.useCallback(()=>_==null?void 0:_.focus(),[_]),Ve=f.useCallback((re,be,Ie)=>{const ke=!U.current&&!Ie;(p.value!==void 0&&p.value===be||ke)&&oe(re)},[p.value]),mt=r==="popper"?Hw:b9,$e=mt===Hw?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:y,avoidCollisions:w}:{};return f.createElement(sC,{scope:n,content:_,viewport:x,onViewportChange:b,itemRefCallback:he,selectedItem:I,onItemLeave:Ke,itemTextRefCallback:Ve,focusSelectedItem:Y,selectedItemText:V,position:r,isPositioned:G,searchRef:H},f.createElement(pv,{as:fs,allowPinchZoom:!0},f.createElement(Pb,{asChild:!0,trapped:p.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:ne(o,re=>{var be;(be=p.trigger)===null||be===void 0||be.focus({preventScroll:!0}),re.preventDefault()})},f.createElement(ov,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>p.onOpenChange(!1)},f.createElement(mt,z({role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:re=>re.preventDefault()},g,$e,{onPlaced:()=>N(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:ne(g.onKeyDown,re=>{const be=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!be&&re.key.length===1&&ie(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let ke=P().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(re.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Ae=re.target,Pe=ke.indexOf(Ae);ke=ke.slice(Pe+1)}setTimeout(()=>te(ke)),re.preventDefault()}})}))))))}),b9=f.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,s=Ts($i,n),i=Ss($i,n),[a,l]=f.useState(null),[c,u]=f.useState(null),d=je(t,C=>u(C)),h=Vf(n),m=f.useRef(!1),v=f.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:g,focusSelectedItem:p}=i,_=f.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&y&&w&&g){const C=s.trigger.getBoundingClientRect(),I=c.getBoundingClientRect(),F=s.valueNode.getBoundingClientRect(),V=g.getBoundingClientRect();if(s.dir!=="rtl"){const Ae=V.left-I.left,Pe=F.left-Ae,Pt=C.left-Pe,$t=C.width+Pt,Yn=Math.max($t,I.width),Lo=window.innerWidth-Er,Is=Tw(Pe,[Er,Lo-Yn]);a.style.minWidth=$t+"px",a.style.left=Is+"px"}else{const Ae=I.right-V.right,Pe=window.innerWidth-F.right-Ae,Pt=window.innerWidth-C.right-Pe,$t=C.width+Pt,Yn=Math.max($t,I.width),Lo=window.innerWidth-Er,Is=Tw(Pe,[Er,Lo-Yn]);a.style.minWidth=$t+"px",a.style.right=Is+"px"}const oe=h(),P=window.innerHeight-Er*2,G=y.scrollHeight,N=window.getComputedStyle(c),U=parseInt(N.borderTopWidth,10),te=parseInt(N.paddingTop,10),Y=parseInt(N.borderBottomWidth,10),D=parseInt(N.paddingBottom,10),k=U+te+G+D+Y,H=Math.min(w.offsetHeight*5,k),ie=window.getComputedStyle(y),he=parseInt(ie.paddingTop,10),Ke=parseInt(ie.paddingBottom,10),Ve=C.top+C.height/2-Er,mt=P-Ve,$e=w.offsetHeight/2,re=w.offsetTop+$e,be=U+te+re,Ie=k-be;if(be<=Ve){const Ae=w===oe[oe.length-1].ref.current;a.style.bottom="0px";const Pe=c.clientHeight-y.offsetTop-y.offsetHeight,Pt=Math.max(mt,$e+(Ae?Ke:0)+Pe+Y),$t=be+Pt;a.style.height=$t+"px"}else{const Ae=w===oe[0].ref.current;a.style.top="0px";const Pt=Math.max(Ve,U+y.offsetTop+(Ae?he:0)+$e)+Ie;a.style.height=Pt+"px",y.scrollTop=be-Ve+y.offsetTop}a.style.margin=`${Er}px 0`,a.style.minHeight=H+"px",a.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,a,c,y,w,g,s.dir,r]);Qt(()=>_(),[_]);const[E,x]=f.useState();Qt(()=>{c&&x(window.getComputedStyle(c).zIndex)},[c]);const b=f.useCallback(C=>{C&&v.current===!0&&(_(),p==null||p(),v.current=!1)},[_,p]);return f.createElement(C9,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:b},f.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E}},f.createElement(Ce.div,z({},o,{ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}}))))}),Hw=f.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=Er,...s}=e,i=mv(n);return f.createElement(Qb,z({},i,s,{ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[C9,gv]=Yi($i,{}),qw="SelectViewport",I9=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Ss(qw,n),s=gv(qw,n),i=je(t,o.onViewportChange),a=f.useRef(0);return f.createElement(f.Fragment,null,f.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),f.createElement(Mf.Slot,{scope:n},f.createElement(Ce.div,z({"data-radix-select-viewport":"",role:"presentation"},r,{ref:i,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:ne(r.onScroll,l=>{const c=l.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:d}=s;if(d!=null&&d.current&&u){const h=Math.abs(a.current-c.scrollTop);if(h>0){const m=window.innerHeight-Er*2,v=parseFloat(u.style.minHeight),y=parseFloat(u.style.height),w=Math.max(v,y);if(w<m){const g=w+h,p=Math.min(m,g),_=g-p;u.style.height=p+"px",u.style.bottom==="0px"&&(c.scrollTop=_>0?_:0,u.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),A9="SelectGroup",[R9,k9]=Yi(A9),P9=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=ki();return f.createElement(R9,{scope:n,id:o},f.createElement(Ce.div,z({role:"group","aria-labelledby":o},r,{ref:t})))}),$9="SelectLabel",N9=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=k9($9,n);return f.createElement(Ce.div,z({id:o.id},r,{ref:t}))}),Lm="SelectItem",[D9,iC]=Yi(Lm),O9=f.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:s,...i}=e,a=Ts(Lm,n),l=Ss(Lm,n),c=a.value===r,[u,d]=f.useState(s??""),[h,m]=f.useState(!1),v=je(t,g=>{var p;return(p=l.itemRefCallback)===null||p===void 0?void 0:p.call(l,g,r,o)}),y=ki(),w=()=>{o||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.createElement(D9,{scope:n,value:r,disabled:o,textId:y,isSelected:c,onItemTextChange:f.useCallback(g=>{d(p=>{var _;return p||((_=g==null?void 0:g.textContent)!==null&&_!==void 0?_:"").trim()})},[])},f.createElement(Mf.ItemSlot,{scope:n,value:r,disabled:o,textValue:u},f.createElement(Ce.div,z({role:"option","aria-labelledby":y,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1},i,{ref:v,onFocus:ne(i.onFocus,()=>m(!0)),onBlur:ne(i.onBlur,()=>m(!1)),onPointerUp:ne(i.onPointerUp,w),onPointerMove:ne(i.onPointerMove,g=>{if(o){var p;(p=l.onItemLeave)===null||p===void 0||p.call(l)}else g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ne(i.onPointerLeave,g=>{if(g.currentTarget===document.activeElement){var p;(p=l.onItemLeave)===null||p===void 0||p.call(l)}}),onKeyDown:ne(i.onKeyDown,g=>{var p;((p=l.searchRef)===null||p===void 0?void 0:p.current)!==""&&g.key===" "||(d9.includes(g.key)&&w(),g.key===" "&&g.preventDefault())})}))))}),Qc="SelectItemText",M9=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...s}=e,i=Ts(Qc,n),a=Ss(Qc,n),l=iC(Qc,n),c=m9(Qc,n),[u,d]=f.useState(null),h=je(t,g=>d(g),l.onItemTextChange,g=>{var p;return(p=a.itemTextRefCallback)===null||p===void 0?void 0:p.call(a,g,l.value,l.disabled)}),m=u==null?void 0:u.textContent,v=f.useMemo(()=>f.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},m),[l.disabled,l.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=c;return Qt(()=>(y(v),()=>w(v)),[y,w,v]),f.createElement(f.Fragment,null,f.createElement(Ce.span,z({id:l.textId},s,{ref:h})),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Do.createPortal(s.children,i.valueNode):null)}),V9="SelectItemIndicator",L9=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return iC(V9,n).isSelected?f.createElement(Ce.span,z({"aria-hidden":!0},r,{ref:t})):null}),Kw="SelectScrollUpButton",F9=f.forwardRef((e,t)=>{const n=Ss(Kw,e.__scopeSelect),r=gv(Kw,e.__scopeSelect),[o,s]=f.useState(!1),i=je(t,r.onScrollButtonChange);return Qt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=l.scrollTop>0;s(u)};var a=c;const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?f.createElement(aC,z({},e,{ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}})):null}),Gw="SelectScrollDownButton",j9=f.forwardRef((e,t)=>{const n=Ss(Gw,e.__scopeSelect),r=gv(Gw,e.__scopeSelect),[o,s]=f.useState(!1),i=je(t,r.onScrollButtonChange);return Qt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;s(d)};var a=c;const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?f.createElement(aC,z({},e,{ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}})):null}),aC=f.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,s=Ss("SelectScrollButton",n),i=f.useRef(null),a=Vf(n),l=f.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return f.useEffect(()=>()=>l(),[l]),Qt(()=>{var c;const u=a().find(d=>d.ref.current===document.activeElement);u==null||(c=u.ref.current)===null||c===void 0||c.scrollIntoView({block:"nearest"})},[a]),f.createElement(Ce.div,z({"aria-hidden":!0},o,{ref:t,style:{flexShrink:0,...o.style},onPointerDown:ne(o.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:ne(o.onPointerMove,()=>{var c;(c=s.onItemLeave)===null||c===void 0||c.call(s),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:ne(o.onPointerLeave,()=>{l()})}))}),U9=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return f.createElement(Ce.div,z({"aria-hidden":!0},r,{ref:t}))});function lC(e){return e===""||e===void 0}const cC=f.forwardRef((e,t)=>{const{value:n,...r}=e,o=f.useRef(null),s=je(t,o),i=b4(n);return f.useEffect(()=>{const a=o.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==n&&u){const d=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(d)}},[i,n]),f.createElement(hv,{asChild:!0},f.createElement("select",z({},r,{ref:s,defaultValue:n})))});cC.displayName="BubbleSelect";function uC(e){const t=Gt(e),n=f.useRef(""),r=f.useRef(0),o=f.useCallback(i=>{const a=n.current+i;t(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),s=f.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,s]}function dC(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let i=B9(e,Math.max(s,0));o.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.textValue.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function B9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const z9=g9,fC=v9,W9=w9,H9=E9,q9=x9,hC=T9,K9=I9,G9=P9,pC=N9,mC=O9,Q9=M9,Z9=L9,gC=F9,yC=j9,vC=U9;/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_C=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var X9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:i,...a},l)=>f.createElement("svg",{ref:l,...X9,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:_C("lucide",o),...a},[...i.map(([c,u])=>f.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=(e,t)=>{const n=f.forwardRef(({className:r,...o},s)=>f.createElement(J9,{ref:s,iconNode:t,className:_C(`lucide-${Y9(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=Wr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=Wr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=Wr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=Wr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=Wr("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=Wr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=Wr("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=Wr("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=Wr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),xC=z9,TC=G9,SC=W9,yv=f.forwardRef(({className:e,children:t,...n},r)=>S.jsxs(fC,{ref:r,className:qe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,S.jsx(H9,{asChild:!0,children:S.jsx(EC,{className:"h-4 w-4 opacity-50"})})]}));yv.displayName=fC.displayName;const bC=f.forwardRef(({className:e,...t},n)=>S.jsx(gC,{ref:n,className:qe("flex cursor-default items-center justify-center py-1",e),...t,children:S.jsx(tL,{className:"h-4 w-4"})}));bC.displayName=gC.displayName;const CC=f.forwardRef(({className:e,...t},n)=>S.jsx(yC,{ref:n,className:qe("flex cursor-default items-center justify-center py-1",e),...t,children:S.jsx(EC,{className:"h-4 w-4"})}));CC.displayName=yC.displayName;const vv=f.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>S.jsx(q9,{children:S.jsxs(hC,{ref:o,className:qe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[S.jsx(bC,{}),S.jsx(K9,{className:qe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),S.jsx(CC,{})]})}));vv.displayName=hC.displayName;const aL=f.forwardRef(({className:e,...t},n)=>S.jsx(pC,{ref:n,className:qe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));aL.displayName=pC.displayName;const Jt=f.forwardRef(({className:e,children:t,...n},r)=>S.jsxs(mC,{ref:r,className:qe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[S.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:S.jsx(Z9,{children:S.jsx(wC,{className:"h-4 w-4"})})}),S.jsx(Q9,{children:t})]}));Jt.displayName=mC.displayName;const lL=f.forwardRef(({className:e,...t},n)=>S.jsx(vC,{ref:n,className:qe("-mx-1 my-1 h-px bg-muted",e),...t}));lL.displayName=vC.displayName;const IC=({selectCallback:e})=>S.jsxs(xC,{onValueChange:t=>e(t),children:[S.jsx(yv,{className:"w-full",children:S.jsx(SC,{placeholder:"Рейтинг"})}),S.jsx(vv,{children:S.jsxs(TC,{children:[S.jsx(Jt,{value:"0",children:"0 "}),S.jsx(Jt,{value:"1",children:"1 "}),S.jsx(Jt,{value:"2",children:"2"}),S.jsx(Jt,{value:"3",children:"3"}),S.jsx(Jt,{value:"4",children:"4"}),S.jsx(Jt,{value:"5",children:"5"}),S.jsx(Jt,{value:"6",children:"6"}),S.jsx(Jt,{value:"7",children:"7"}),S.jsx(Jt,{value:"8",children:"8"}),S.jsx(Jt,{value:"9",children:"9"}),S.jsx(Jt,{value:"10",children:"10"})]})})]}),AC=({defaultValue:e,stateCallback:t})=>{const n=f.useRef(null),[r,o]=f.useState(""),[s,i]=f.useState([]),[a,l]=f.useState(e||[]);f.useEffect(()=>{(async()=>{if(!r.trim()){i([]);return}const d=await aV(r),h=d.filter(m=>!a.find(v=>v.id===m.id));console.log(h,d,a,s),i([...h])})()},[r]);const c=d=>{var h;o(""),l(m=>[...m,d]),t([...a,d]),i([]),(h=n.current)==null||h.focus()},u=d=>{console.log(d,a),t(a.filter(h=>h.id!==d)),l(h=>h.filter(m=>m.id!==d))};return S.jsxs("div",{className:"flex flex-col relative w-full",children:[S.jsxs("div",{className:"w-full flex items-center justify-start flex-wrap border border-input rounded-md bg-background",children:[a.map(d=>S.jsx("span",{onClick:()=>{u(d.id)},className:"h-[30px] flex items-center m-[5px] p-[10px] rounded-md cursor-pointer bg-primary text-primary-foreground hover:bg-primary/90",children:d.name},d.id)),S.jsx(Rr,{ref:n,className:"w-1/2 border-transparent focus:border-transparent focus:ring-0",placeholder:"Авторы",value:r,onChange:d=>{o(d.target.value)}})]}),s.length?S.jsx("ul",{className:"max-h-[100px] overflow-y-scroll scrollbar border-b border-l border-r border-input list-none m-0",children:s.map(d=>S.jsx("li",{className:"flex items-center gap-[10px] p-5 cursor-pointer",onClick:()=>{c(d)},children:S.jsx("span",{children:d.name})},d.id))}):S.jsx(S.Fragment,{})]})},cL=e=>{const n=e.filter(o=>Number(o.publishedYear)+3<=new Date().getFullYear()).sort((o,s)=>Number(s.rating)-Number(o.rating)),r=n.filter(o=>Number(o.rating)===Number(n[0].rating));return r[Math.floor(Math.random()*r.length)]},Qw=e=>e.sort((t,n)=>t.title.localeCompare(n.title)),uL=(e,t)=>{const n=t==="years"||!t?dL([...e]):fL([...e]),r=[];Object.entries(n).forEach(([s,i])=>{s==="Нет информации"?r.unshift([s,Qw(i)]):r.push([s,Qw(i)])});const o=cL(e);return o&&r.push(["Рекомендованная книга",[o]]),r.reverse()},dL=e=>{const t={};return e.forEach(n=>{n.publishedYear?t.hasOwnProperty(n.publishedYear)?t[n.publishedYear].push(n):t[n.publishedYear]=[{...n}]:t.hasOwnProperty("Нет информации")?t["Нет информации"].push(n):t["Нет информации"]=[{...n}]}),t},fL=e=>{const t={};return e.forEach(n=>{n.authors.forEach(r=>{t.hasOwnProperty(r.name)?t[r.name].push(n):t[r.name]=[{...n}]})}),t},RC=e=>{let t=e;var n=/^(?:ISBN(?:-1[03])?:? )?(?=[0-9X]{10}$|(?=(?:[0-9]+[- ]){3})[- 0-9X]{13}$|97[89][0-9]{10}$|(?=(?:[0-9]+[- ]){4})[- 0-9]{17}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?[0-9]+[- ]?[0-9]+[- ]?[0-9X]$/;if(n.test(t)){var r=t.replace(/[- ]|^ISBN(?:-1[03])?:?/g,"").split(""),o=r.pop(),s=0,i,a;if(r.length==9){for(r.reverse(),a=0;a<r.length;a++)s+=(a+2)*parseInt(r[a],10);i=11-s%11,i==10?i="X":i==11&&(i="0")}else{for(a=0;a<r.length;a++)s+=(a%2*2+1)*parseInt(r[a],10);i=10-s%10,i==10&&(i="0")}return i==o}else return!1};var xe;(function(e){e.assertEqual=o=>o;function t(o){}e.assertIs=t;function n(o){throw new Error}e.assertNever=n,e.arrayToEnum=o=>{const s={};for(const i of o)s[i]=i;return s},e.getValidEnumValues=o=>{const s=e.objectKeys(o).filter(a=>typeof o[o[a]]!="number"),i={};for(const a of s)i[a]=o[a];return e.objectValues(i)},e.objectValues=o=>e.objectKeys(o).map(function(s){return o[s]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const s=[];for(const i in o)Object.prototype.hasOwnProperty.call(o,i)&&s.push(i);return s},e.find=(o,s)=>{for(const i of o)if(s(i))return i},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function r(o,s=" | "){return o.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(o,s)=>typeof s=="bigint"?s.toString():s})(xe||(xe={}));var Fm;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Fm||(Fm={}));const Q=xe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Jr=e=>{switch(typeof e){case"undefined":return Q.undefined;case"string":return Q.string;case"number":return isNaN(e)?Q.nan:Q.number;case"boolean":return Q.boolean;case"function":return Q.function;case"bigint":return Q.bigint;case"symbol":return Q.symbol;case"object":return Array.isArray(e)?Q.array:e===null?Q.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Q.promise:typeof Map<"u"&&e instanceof Map?Q.map:typeof Set<"u"&&e instanceof Set?Q.set:typeof Date<"u"&&e instanceof Date?Q.date:Q.object;default:return Q.unknown}},L=xe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),hL=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class vn extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(s){return s.message},r={_errors:[]},o=s=>{for(const i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(o);else if(i.code==="invalid_return_type")o(i.returnTypeError);else if(i.code==="invalid_arguments")o(i.argumentsError);else if(i.path.length===0)r._errors.push(n(i));else{let a=r,l=0;for(;l<i.path.length;){const c=i.path[l];l===i.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(i))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return o(this),r}static assert(t){if(!(t instanceof vn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,xe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}vn.create=e=>new vn(e);const Ni=(e,t)=>{let n;switch(e.code){case L.invalid_type:e.received===Q.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case L.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,xe.jsonStringifyReplacer)}`;break;case L.unrecognized_keys:n=`Unrecognized key(s) in object: ${xe.joinValues(e.keys,", ")}`;break;case L.invalid_union:n="Invalid input";break;case L.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${xe.joinValues(e.options)}`;break;case L.invalid_enum_value:n=`Invalid enum value. Expected ${xe.joinValues(e.options)}, received '${e.received}'`;break;case L.invalid_arguments:n="Invalid function arguments";break;case L.invalid_return_type:n="Invalid function return type";break;case L.invalid_date:n="Invalid date";break;case L.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:xe.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case L.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case L.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case L.custom:n="Invalid input";break;case L.invalid_intersection_types:n="Intersection results could not be merged";break;case L.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case L.not_finite:n="Number must be finite";break;default:n=t.defaultError,xe.assertNever(e)}return{message:n}};let kC=Ni;function pL(e){kC=e}function Ed(){return kC}const xd=e=>{const{data:t,path:n,errorMaps:r,issueData:o}=e,s=[...n,...o.path||[]],i={...o,path:s};if(o.message!==void 0)return{...o,path:s,message:o.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(i,{data:t,defaultError:a}).message;return{...o,path:s,message:a}},mL=[];function K(e,t){const n=Ed(),r=xd({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Ni?void 0:Ni].filter(o=>!!o)});e.common.issues.push(r)}class zt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const o of n){if(o.status==="aborted")return ue;o.status==="dirty"&&t.dirty(),r.push(o.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const o of n){const s=await o.key,i=await o.value;r.push({key:s,value:i})}return zt.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const o of n){const{key:s,value:i}=o;if(s.status==="aborted"||i.status==="aborted")return ue;s.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||o.alwaysSet)&&(r[s.value]=i.value)}return{status:t.value,value:r}}}const ue=Object.freeze({status:"aborted"}),Js=e=>({status:"dirty",value:e}),Zt=e=>({status:"valid",value:e}),jm=e=>e.status==="aborted",Um=e=>e.status==="dirty",Sl=e=>e.status==="valid",bl=e=>typeof Promise<"u"&&e instanceof Promise;function Td(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function PC(e,t,n,r,o){if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var se;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(se||(se={}));var xa,Ta;class pr{constructor(t,n,r,o){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Zw=(e,t)=>{if(Sl(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new vn(e.common.issues);return this._error=n,this._error}}};function ge(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:o}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(i,a)=>{var l,c;const{message:u}=e;return i.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??r)!==null&&l!==void 0?l:a.defaultError}:i.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??n)!==null&&c!==void 0?c:a.defaultError}},description:o}}class ve{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Jr(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Jr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new zt,ctx:{common:t.parent.common,data:t.data,parsedType:Jr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(bl(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const o={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Jr(t)},s=this._parseSync({data:t,path:o.path,parent:o});return Zw(o,s)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Jr(t)},o=this._parse({data:t,path:r.path,parent:r}),s=await(bl(o)?o:Promise.resolve(o));return Zw(r,s)}refine(t,n){const r=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,s)=>{const i=t(o),a=()=>s.addIssue({code:L.custom,...r(o)});return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(a(),!1)):i?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,o)=>t(r)?!0:(o.addIssue(typeof n=="function"?n(r,o):n),!1))}_refinement(t){return new Zn({schema:this,typeName:ce.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return ur.create(this,this._def)}nullable(){return ko.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Wn.create(this,this._def)}promise(){return Oi.create(this,this._def)}or(t){return Rl.create([this,t],this._def)}and(t){return kl.create(this,t,this._def)}transform(t){return new Zn({...ge(this._def),schema:this,typeName:ce.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Ol({...ge(this._def),innerType:this,defaultValue:n,typeName:ce.ZodDefault})}brand(){return new _v({typeName:ce.ZodBranded,type:this,...ge(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Ml({...ge(this._def),innerType:this,catchValue:n,typeName:ce.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return fc.create(this,t)}readonly(){return Vl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const gL=/^c[^\s-]{8,}$/i,yL=/^[0-9a-z]+$/,vL=/^[0-9A-HJKMNP-TV-Z]{26}$/,_L=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,wL=/^[a-z0-9_-]{21}$/i,EL=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,xL=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,TL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Yh;const SL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bL=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,CL=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$C="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",IL=new RegExp(`^${$C}$`);function NC(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function AL(e){return new RegExp(`^${NC(e)}$`)}function DC(e){let t=`${$C}T${NC(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function RL(e,t){return!!((t==="v4"||!t)&&SL.test(e)||(t==="v6"||!t)&&bL.test(e))}class jn extends ve{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Q.string){const s=this._getOrReturnCtx(t);return K(s,{code:L.invalid_type,expected:Q.string,received:s.parsedType}),ue}const r=new zt;let o;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(o=this._getOrReturnCtx(t,o),K(o,{code:L.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")t.data.length>s.value&&(o=this._getOrReturnCtx(t,o),K(o,{code:L.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const i=t.data.length>s.value,a=t.data.length<s.value;(i||a)&&(o=this._getOrReturnCtx(t,o),i?K(o,{code:L.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&K(o,{code:L.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")xL.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"email",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Yh||(Yh=new RegExp(TL,"u")),Yh.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"emoji",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")_L.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"uuid",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")wL.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"nanoid",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")gL.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"cuid",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")yL.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"cuid2",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")vL.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"ulid",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),K(o,{validation:"url",code:L.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"regex",code:L.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(o=this._getOrReturnCtx(t,o),K(o,{code:L.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(o=this._getOrReturnCtx(t,o),K(o,{code:L.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(o=this._getOrReturnCtx(t,o),K(o,{code:L.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?DC(s).test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{code:L.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?IL.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{code:L.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?AL(s).test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{code:L.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?EL.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"duration",code:L.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?RL(t.data,s.version)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"ip",code:L.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?CL.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"base64",code:L.invalid_string,message:s.message}),r.dirty()):xe.assertNever(s);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(o=>t.test(o),{validation:n,code:L.invalid_string,...se.errToObj(r)})}_addCheck(t){return new jn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...se.errToObj(t)})}url(t){return this._addCheck({kind:"url",...se.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...se.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...se.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...se.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...se.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...se.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...se.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...se.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...se.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...se.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...se.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...se.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...se.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...se.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...se.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...se.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...se.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...se.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...se.errToObj(n)})}nonempty(t){return this.min(1,se.errToObj(t))}trim(){return new jn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new jn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new jn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}jn.create=e=>{var t;return new jn({checks:[],typeName:ce.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ge(e)})};function kL(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,o=n>r?n:r,s=parseInt(e.toFixed(o).replace(".","")),i=parseInt(t.toFixed(o).replace(".",""));return s%i/Math.pow(10,o)}class Io extends ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Q.number){const s=this._getOrReturnCtx(t);return K(s,{code:L.invalid_type,expected:Q.number,received:s.parsedType}),ue}let r;const o=new zt;for(const s of this._def.checks)s.kind==="int"?xe.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),K(r,{code:L.invalid_type,expected:"integer",received:"float",message:s.message}),o.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),K(r,{code:L.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),K(r,{code:L.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="multipleOf"?kL(t.data,s.value)!==0&&(r=this._getOrReturnCtx(t,r),K(r,{code:L.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),K(r,{code:L.not_finite,message:s.message}),o.dirty()):xe.assertNever(s);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,se.toString(n))}gt(t,n){return this.setLimit("min",t,!1,se.toString(n))}lte(t,n){return this.setLimit("max",t,!0,se.toString(n))}lt(t,n){return this.setLimit("max",t,!1,se.toString(n))}setLimit(t,n,r,o){return new Io({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:se.toString(o)}]})}_addCheck(t){return new Io({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:se.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:se.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:se.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:se.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:se.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:se.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&xe.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Io.create=e=>new Io({checks:[],typeName:ce.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ge(e)});class Ao extends ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==Q.bigint){const s=this._getOrReturnCtx(t);return K(s,{code:L.invalid_type,expected:Q.bigint,received:s.parsedType}),ue}let r;const o=new zt;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),K(r,{code:L.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),K(r,{code:L.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),K(r,{code:L.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):xe.assertNever(s);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,se.toString(n))}gt(t,n){return this.setLimit("min",t,!1,se.toString(n))}lte(t,n){return this.setLimit("max",t,!0,se.toString(n))}lt(t,n){return this.setLimit("max",t,!1,se.toString(n))}setLimit(t,n,r,o){return new Ao({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:se.toString(o)}]})}_addCheck(t){return new Ao({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:se.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:se.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ao.create=e=>{var t;return new Ao({checks:[],typeName:ce.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ge(e)})};class Cl extends ve{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Q.boolean){const r=this._getOrReturnCtx(t);return K(r,{code:L.invalid_type,expected:Q.boolean,received:r.parsedType}),ue}return Zt(t.data)}}Cl.create=e=>new Cl({typeName:ce.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ge(e)});class ms extends ve{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Q.date){const s=this._getOrReturnCtx(t);return K(s,{code:L.invalid_type,expected:Q.date,received:s.parsedType}),ue}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return K(s,{code:L.invalid_date}),ue}const r=new zt;let o;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(o=this._getOrReturnCtx(t,o),K(o,{code:L.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(o=this._getOrReturnCtx(t,o),K(o,{code:L.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):xe.assertNever(s);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ms({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:se.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:se.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}ms.create=e=>new ms({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ce.ZodDate,...ge(e)});class Sd extends ve{_parse(t){if(this._getType(t)!==Q.symbol){const r=this._getOrReturnCtx(t);return K(r,{code:L.invalid_type,expected:Q.symbol,received:r.parsedType}),ue}return Zt(t.data)}}Sd.create=e=>new Sd({typeName:ce.ZodSymbol,...ge(e)});class Il extends ve{_parse(t){if(this._getType(t)!==Q.undefined){const r=this._getOrReturnCtx(t);return K(r,{code:L.invalid_type,expected:Q.undefined,received:r.parsedType}),ue}return Zt(t.data)}}Il.create=e=>new Il({typeName:ce.ZodUndefined,...ge(e)});class Al extends ve{_parse(t){if(this._getType(t)!==Q.null){const r=this._getOrReturnCtx(t);return K(r,{code:L.invalid_type,expected:Q.null,received:r.parsedType}),ue}return Zt(t.data)}}Al.create=e=>new Al({typeName:ce.ZodNull,...ge(e)});class Di extends ve{constructor(){super(...arguments),this._any=!0}_parse(t){return Zt(t.data)}}Di.create=e=>new Di({typeName:ce.ZodAny,...ge(e)});class es extends ve{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Zt(t.data)}}es.create=e=>new es({typeName:ce.ZodUnknown,...ge(e)});class Ur extends ve{_parse(t){const n=this._getOrReturnCtx(t);return K(n,{code:L.invalid_type,expected:Q.never,received:n.parsedType}),ue}}Ur.create=e=>new Ur({typeName:ce.ZodNever,...ge(e)});class bd extends ve{_parse(t){if(this._getType(t)!==Q.undefined){const r=this._getOrReturnCtx(t);return K(r,{code:L.invalid_type,expected:Q.void,received:r.parsedType}),ue}return Zt(t.data)}}bd.create=e=>new bd({typeName:ce.ZodVoid,...ge(e)});class Wn extends ve{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),o=this._def;if(n.parsedType!==Q.array)return K(n,{code:L.invalid_type,expected:Q.array,received:n.parsedType}),ue;if(o.exactLength!==null){const i=n.data.length>o.exactLength.value,a=n.data.length<o.exactLength.value;(i||a)&&(K(n,{code:i?L.too_big:L.too_small,minimum:a?o.exactLength.value:void 0,maximum:i?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(K(n,{code:L.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(K(n,{code:L.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((i,a)=>o.type._parseAsync(new pr(n,i,n.path,a)))).then(i=>zt.mergeArray(r,i));const s=[...n.data].map((i,a)=>o.type._parseSync(new pr(n,i,n.path,a)));return zt.mergeArray(r,s)}get element(){return this._def.type}min(t,n){return new Wn({...this._def,minLength:{value:t,message:se.toString(n)}})}max(t,n){return new Wn({...this._def,maxLength:{value:t,message:se.toString(n)}})}length(t,n){return new Wn({...this._def,exactLength:{value:t,message:se.toString(n)}})}nonempty(t){return this.min(1,t)}}Wn.create=(e,t)=>new Wn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ce.ZodArray,...ge(t)});function Ls(e){if(e instanceof Ze){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=ur.create(Ls(r))}return new Ze({...e._def,shape:()=>t})}else return e instanceof Wn?new Wn({...e._def,type:Ls(e.element)}):e instanceof ur?ur.create(Ls(e.unwrap())):e instanceof ko?ko.create(Ls(e.unwrap())):e instanceof mr?mr.create(e.items.map(t=>Ls(t))):e}class Ze extends ve{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=xe.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Q.object){const c=this._getOrReturnCtx(t);return K(c,{code:L.invalid_type,expected:Q.object,received:c.parsedType}),ue}const{status:r,ctx:o}=this._processInputParams(t),{shape:s,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ur&&this._def.unknownKeys==="strip"))for(const c in o.data)i.includes(c)||a.push(c);const l=[];for(const c of i){const u=s[c],d=o.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new pr(o,d,o.path,c)),alwaysSet:c in o.data})}if(this._def.catchall instanceof Ur){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:o.data[u]}});else if(c==="strict")a.length>0&&(K(o,{code:L.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=o.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new pr(o,d,o.path,u)),alwaysSet:u in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,h=await u.value;c.push({key:d,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>zt.mergeObjectSync(r,c)):zt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return se.errToObj,new Ze({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var o,s,i,a;const l=(i=(s=(o=this._def).errorMap)===null||s===void 0?void 0:s.call(o,n,r).message)!==null&&i!==void 0?i:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=se.errToObj(t).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Ze({...this._def,unknownKeys:"strip"})}passthrough(){return new Ze({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ze({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ze({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ce.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Ze({...this._def,catchall:t})}pick(t){const n={};return xe.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ze({...this._def,shape:()=>n})}omit(t){const n={};return xe.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new Ze({...this._def,shape:()=>n})}deepPartial(){return Ls(this)}partial(t){const n={};return xe.objectKeys(this.shape).forEach(r=>{const o=this.shape[r];t&&!t[r]?n[r]=o:n[r]=o.optional()}),new Ze({...this._def,shape:()=>n})}required(t){const n={};return xe.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof ur;)s=s._def.innerType;n[r]=s}}),new Ze({...this._def,shape:()=>n})}keyof(){return OC(xe.objectKeys(this.shape))}}Ze.create=(e,t)=>new Ze({shape:()=>e,unknownKeys:"strip",catchall:Ur.create(),typeName:ce.ZodObject,...ge(t)});Ze.strictCreate=(e,t)=>new Ze({shape:()=>e,unknownKeys:"strict",catchall:Ur.create(),typeName:ce.ZodObject,...ge(t)});Ze.lazycreate=(e,t)=>new Ze({shape:e,unknownKeys:"strip",catchall:Ur.create(),typeName:ce.ZodObject,...ge(t)});class Rl extends ve{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function o(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const i=s.map(a=>new vn(a.ctx.common.issues));return K(n,{code:L.invalid_union,unionErrors:i}),ue}if(n.common.async)return Promise.all(r.map(async s=>{const i={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(o);{let s;const i=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&i.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=i.map(l=>new vn(l));return K(n,{code:L.invalid_union,unionErrors:a}),ue}}get options(){return this._def.options}}Rl.create=(e,t)=>new Rl({options:e,typeName:ce.ZodUnion,...ge(t)});const _r=e=>e instanceof $l?_r(e.schema):e instanceof Zn?_r(e.innerType()):e instanceof Nl?[e.value]:e instanceof Ro?e.options:e instanceof Dl?xe.objectValues(e.enum):e instanceof Ol?_r(e._def.innerType):e instanceof Il?[void 0]:e instanceof Al?[null]:e instanceof ur?[void 0,..._r(e.unwrap())]:e instanceof ko?[null,..._r(e.unwrap())]:e instanceof _v||e instanceof Vl?_r(e.unwrap()):e instanceof Ml?_r(e._def.innerType):[];class Lf extends ve{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Q.object)return K(n,{code:L.invalid_type,expected:Q.object,received:n.parsedType}),ue;const r=this.discriminator,o=n.data[r],s=this.optionsMap.get(o);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(K(n,{code:L.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ue)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const o=new Map;for(const s of n){const i=_r(s.shape[t]);if(!i.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of i){if(o.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);o.set(a,s)}}return new Lf({typeName:ce.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:o,...ge(r)})}}function Bm(e,t){const n=Jr(e),r=Jr(t);if(e===t)return{valid:!0,data:e};if(n===Q.object&&r===Q.object){const o=xe.objectKeys(t),s=xe.objectKeys(e).filter(a=>o.indexOf(a)!==-1),i={...e,...t};for(const a of s){const l=Bm(e[a],t[a]);if(!l.valid)return{valid:!1};i[a]=l.data}return{valid:!0,data:i}}else if(n===Q.array&&r===Q.array){if(e.length!==t.length)return{valid:!1};const o=[];for(let s=0;s<e.length;s++){const i=e[s],a=t[s],l=Bm(i,a);if(!l.valid)return{valid:!1};o.push(l.data)}return{valid:!0,data:o}}else return n===Q.date&&r===Q.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class kl extends ve{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),o=(s,i)=>{if(jm(s)||jm(i))return ue;const a=Bm(s.value,i.value);return a.valid?((Um(s)||Um(i))&&n.dirty(),{status:n.value,value:a.data}):(K(r,{code:L.invalid_intersection_types}),ue)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,i])=>o(s,i)):o(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}kl.create=(e,t,n)=>new kl({left:e,right:t,typeName:ce.ZodIntersection,...ge(n)});class mr extends ve{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Q.array)return K(r,{code:L.invalid_type,expected:Q.array,received:r.parsedType}),ue;if(r.data.length<this._def.items.length)return K(r,{code:L.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ue;!this._def.rest&&r.data.length>this._def.items.length&&(K(r,{code:L.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((i,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new pr(r,i,r.path,a)):null}).filter(i=>!!i);return r.common.async?Promise.all(s).then(i=>zt.mergeArray(n,i)):zt.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new mr({...this._def,rest:t})}}mr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new mr({items:e,typeName:ce.ZodTuple,rest:null,...ge(t)})};class Pl extends ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Q.object)return K(r,{code:L.invalid_type,expected:Q.object,received:r.parsedType}),ue;const o=[],s=this._def.keyType,i=this._def.valueType;for(const a in r.data)o.push({key:s._parse(new pr(r,a,r.path,a)),value:i._parse(new pr(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?zt.mergeObjectAsync(n,o):zt.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof ve?new Pl({keyType:t,valueType:n,typeName:ce.ZodRecord,...ge(r)}):new Pl({keyType:jn.create(),valueType:t,typeName:ce.ZodRecord,...ge(n)})}}class Cd extends ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Q.map)return K(r,{code:L.invalid_type,expected:Q.map,received:r.parsedType}),ue;const o=this._def.keyType,s=this._def.valueType,i=[...r.data.entries()].map(([a,l],c)=>({key:o._parse(new pr(r,a,r.path,[c,"key"])),value:s._parse(new pr(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of i){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return ue;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of i){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return ue;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}Cd.create=(e,t,n)=>new Cd({valueType:t,keyType:e,typeName:ce.ZodMap,...ge(n)});class gs extends ve{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Q.set)return K(r,{code:L.invalid_type,expected:Q.set,received:r.parsedType}),ue;const o=this._def;o.minSize!==null&&r.data.size<o.minSize.value&&(K(r,{code:L.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&r.data.size>o.maxSize.value&&(K(r,{code:L.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const s=this._def.valueType;function i(l){const c=new Set;for(const u of l){if(u.status==="aborted")return ue;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new pr(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>i(l)):i(a)}min(t,n){return new gs({...this._def,minSize:{value:t,message:se.toString(n)}})}max(t,n){return new gs({...this._def,maxSize:{value:t,message:se.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}gs.create=(e,t)=>new gs({valueType:e,minSize:null,maxSize:null,typeName:ce.ZodSet,...ge(t)});class fi extends ve{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Q.function)return K(n,{code:L.invalid_type,expected:Q.function,received:n.parsedType}),ue;function r(a,l){return xd({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ed(),Ni].filter(c=>!!c),issueData:{code:L.invalid_arguments,argumentsError:l}})}function o(a,l){return xd({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ed(),Ni].filter(c=>!!c),issueData:{code:L.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},i=n.data;if(this._def.returns instanceof Oi){const a=this;return Zt(async function(...l){const c=new vn([]),u=await a._def.args.parseAsync(l,s).catch(m=>{throw c.addIssue(r(l,m)),c}),d=await Reflect.apply(i,this,u);return await a._def.returns._def.type.parseAsync(d,s).catch(m=>{throw c.addIssue(o(d,m)),c})})}else{const a=this;return Zt(function(...l){const c=a._def.args.safeParse(l,s);if(!c.success)throw new vn([r(l,c.error)]);const u=Reflect.apply(i,this,c.data),d=a._def.returns.safeParse(u,s);if(!d.success)throw new vn([o(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new fi({...this._def,args:mr.create(t).rest(es.create())})}returns(t){return new fi({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new fi({args:t||mr.create([]).rest(es.create()),returns:n||es.create(),typeName:ce.ZodFunction,...ge(r)})}}class $l extends ve{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}$l.create=(e,t)=>new $l({getter:e,typeName:ce.ZodLazy,...ge(t)});class Nl extends ve{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return K(n,{received:n.data,code:L.invalid_literal,expected:this._def.value}),ue}return{status:"valid",value:t.data}}get value(){return this._def.value}}Nl.create=(e,t)=>new Nl({value:e,typeName:ce.ZodLiteral,...ge(t)});function OC(e,t){return new Ro({values:e,typeName:ce.ZodEnum,...ge(t)})}class Ro extends ve{constructor(){super(...arguments),xa.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return K(n,{expected:xe.joinValues(r),received:n.parsedType,code:L.invalid_type}),ue}if(Td(this,xa)||PC(this,xa,new Set(this._def.values)),!Td(this,xa).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return K(n,{received:n.data,code:L.invalid_enum_value,options:r}),ue}return Zt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Ro.create(t,{...this._def,...n})}exclude(t,n=this._def){return Ro.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}xa=new WeakMap;Ro.create=OC;class Dl extends ve{constructor(){super(...arguments),Ta.set(this,void 0)}_parse(t){const n=xe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Q.string&&r.parsedType!==Q.number){const o=xe.objectValues(n);return K(r,{expected:xe.joinValues(o),received:r.parsedType,code:L.invalid_type}),ue}if(Td(this,Ta)||PC(this,Ta,new Set(xe.getValidEnumValues(this._def.values))),!Td(this,Ta).has(t.data)){const o=xe.objectValues(n);return K(r,{received:r.data,code:L.invalid_enum_value,options:o}),ue}return Zt(t.data)}get enum(){return this._def.values}}Ta=new WeakMap;Dl.create=(e,t)=>new Dl({values:e,typeName:ce.ZodNativeEnum,...ge(t)});class Oi extends ve{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Q.promise&&n.common.async===!1)return K(n,{code:L.invalid_type,expected:Q.promise,received:n.parsedType}),ue;const r=n.parsedType===Q.promise?n.data:Promise.resolve(n.data);return Zt(r.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Oi.create=(e,t)=>new Oi({type:e,typeName:ce.ZodPromise,...ge(t)});class Zn extends ve{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ce.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),o=this._def.effect||null,s={addIssue:i=>{K(r,i),i.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),o.type==="preprocess"){const i=o.transform(r.data,s);if(r.common.async)return Promise.resolve(i).then(async a=>{if(n.value==="aborted")return ue;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?ue:l.status==="dirty"||n.value==="dirty"?Js(l.value):l});{if(n.value==="aborted")return ue;const a=this._def.schema._parseSync({data:i,path:r.path,parent:r});return a.status==="aborted"?ue:a.status==="dirty"||n.value==="dirty"?Js(a.value):a}}if(o.type==="refinement"){const i=a=>{const l=o.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ue:(a.status==="dirty"&&n.dirty(),i(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?ue:(a.status==="dirty"&&n.dirty(),i(a.value).then(()=>({status:n.value,value:a.value}))))}if(o.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Sl(i))return i;const a=o.transform(i.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>Sl(i)?Promise.resolve(o.transform(i.value,s)).then(a=>({status:n.value,value:a})):i);xe.assertNever(o)}}Zn.create=(e,t,n)=>new Zn({schema:e,typeName:ce.ZodEffects,effect:t,...ge(n)});Zn.createWithPreprocess=(e,t,n)=>new Zn({schema:t,effect:{type:"preprocess",transform:e},typeName:ce.ZodEffects,...ge(n)});class ur extends ve{_parse(t){return this._getType(t)===Q.undefined?Zt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ur.create=(e,t)=>new ur({innerType:e,typeName:ce.ZodOptional,...ge(t)});class ko extends ve{_parse(t){return this._getType(t)===Q.null?Zt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ko.create=(e,t)=>new ko({innerType:e,typeName:ce.ZodNullable,...ge(t)});class Ol extends ve{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Q.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ol.create=(e,t)=>new Ol({innerType:e,typeName:ce.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ge(t)});class Ml extends ve{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return bl(o)?o.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new vn(r.common.issues)},input:r.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new vn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ml.create=(e,t)=>new Ml({innerType:e,typeName:ce.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ge(t)});class Id extends ve{_parse(t){if(this._getType(t)!==Q.nan){const r=this._getOrReturnCtx(t);return K(r,{code:L.invalid_type,expected:Q.nan,received:r.parsedType}),ue}return{status:"valid",value:t.data}}}Id.create=e=>new Id({typeName:ce.ZodNaN,...ge(e)});const PL=Symbol("zod_brand");class _v extends ve{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class fc extends ve{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ue:s.status==="dirty"?(n.dirty(),Js(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const o=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?ue:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:r.path,parent:r})}}static create(t,n){return new fc({in:t,out:n,typeName:ce.ZodPipeline})}}class Vl extends ve{_parse(t){const n=this._def.innerType._parse(t),r=o=>(Sl(o)&&(o.value=Object.freeze(o.value)),o);return bl(n)?n.then(o=>r(o)):r(n)}unwrap(){return this._def.innerType}}Vl.create=(e,t)=>new Vl({innerType:e,typeName:ce.ZodReadonly,...ge(t)});function MC(e,t={},n){return e?Di.create().superRefine((r,o)=>{var s,i;if(!e(r)){const a=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,l=(i=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&i!==void 0?i:!0,c=typeof a=="string"?{message:a}:a;o.addIssue({code:"custom",...c,fatal:l})}}):Di.create()}const $L={object:Ze.lazycreate};var ce;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ce||(ce={}));const NL=(e,t={message:`Input not instance of ${e.name}`})=>MC(n=>n instanceof e,t),VC=jn.create,LC=Io.create,DL=Id.create,OL=Ao.create,FC=Cl.create,ML=ms.create,VL=Sd.create,LL=Il.create,FL=Al.create,jL=Di.create,UL=es.create,BL=Ur.create,zL=bd.create,WL=Wn.create,HL=Ze.create,qL=Ze.strictCreate,KL=Rl.create,GL=Lf.create,QL=kl.create,ZL=mr.create,YL=Pl.create,XL=Cd.create,JL=gs.create,e6=fi.create,t6=$l.create,n6=Nl.create,r6=Ro.create,o6=Dl.create,s6=Oi.create,Yw=Zn.create,i6=ur.create,a6=ko.create,l6=Zn.createWithPreprocess,c6=fc.create,u6=()=>VC().optional(),d6=()=>LC().optional(),f6=()=>FC().optional(),h6={string:e=>jn.create({...e,coerce:!0}),number:e=>Io.create({...e,coerce:!0}),boolean:e=>Cl.create({...e,coerce:!0}),bigint:e=>Ao.create({...e,coerce:!0}),date:e=>ms.create({...e,coerce:!0})},p6=ue;var it=Object.freeze({__proto__:null,defaultErrorMap:Ni,setErrorMap:pL,getErrorMap:Ed,makeIssue:xd,EMPTY_PATH:mL,addIssueToContext:K,ParseStatus:zt,INVALID:ue,DIRTY:Js,OK:Zt,isAborted:jm,isDirty:Um,isValid:Sl,isAsync:bl,get util(){return xe},get objectUtil(){return Fm},ZodParsedType:Q,getParsedType:Jr,ZodType:ve,datetimeRegex:DC,ZodString:jn,ZodNumber:Io,ZodBigInt:Ao,ZodBoolean:Cl,ZodDate:ms,ZodSymbol:Sd,ZodUndefined:Il,ZodNull:Al,ZodAny:Di,ZodUnknown:es,ZodNever:Ur,ZodVoid:bd,ZodArray:Wn,ZodObject:Ze,ZodUnion:Rl,ZodDiscriminatedUnion:Lf,ZodIntersection:kl,ZodTuple:mr,ZodRecord:Pl,ZodMap:Cd,ZodSet:gs,ZodFunction:fi,ZodLazy:$l,ZodLiteral:Nl,ZodEnum:Ro,ZodNativeEnum:Dl,ZodPromise:Oi,ZodEffects:Zn,ZodTransformer:Zn,ZodOptional:ur,ZodNullable:ko,ZodDefault:Ol,ZodCatch:Ml,ZodNaN:Id,BRAND:PL,ZodBranded:_v,ZodPipeline:fc,ZodReadonly:Vl,custom:MC,Schema:ve,ZodSchema:ve,late:$L,get ZodFirstPartyTypeKind(){return ce},coerce:h6,any:jL,array:WL,bigint:OL,boolean:FC,date:ML,discriminatedUnion:GL,effect:Yw,enum:r6,function:e6,instanceof:NL,intersection:QL,lazy:t6,literal:n6,map:XL,nan:DL,nativeEnum:o6,never:BL,null:FL,nullable:a6,number:LC,object:HL,oboolean:f6,onumber:d6,optional:i6,ostring:u6,pipeline:c6,preprocess:l6,promise:s6,record:YL,set:JL,strictObject:qL,string:VC,symbol:VL,transformer:Yw,tuple:ZL,undefined:LL,union:KL,unknown:UL,void:zL,NEVER:p6,ZodIssueCode:L,quotelessJson:hL,ZodError:vn});const wv=it.object({id:it.string(),name:it.string().min(3,"Название должно содержать хотя-бы 3 символа").max(26,"Название должно быть меньше 26 символов")}),m6=it.object({title:it.string().min(1,"Название обязательно").max(100,"Название не может быть больше 100 символов"),authors:it.array(wv).nonempty({message:"Книга должна содержать хотя бы одного автора"}),publishedYear:it.coerce.number({message:"Число не валидное"}).min(1800,"Книга не может быть выпущена раньше 1800 года").optional().or(it.literal("")),rating:it.number().min(0,"Рейтинг не может быть ниже 0").max(10,"Рейтинг не может быть выше 10"),ISBN:it.string().refine(e=>RC(e),{message:"ISBN не валидный"}).optional().or(it.literal(""))}),g6=it.object({id:it.string(),title:it.string().min(1,"Название обязательно").max(100,"Название не может быть больше 100 символов"),authors:it.array(wv).nonempty({message:"Книга должна содержать хотя бы одного автора"}),publishedYear:it.coerce.number({message:"Число не валидное"}).min(1800,"Книга не может быть выпущена раньше 1800 года").optional().or(it.literal("")),rating:it.number().min(0,"Рейтинг не может быть ниже 0").max(10,"Рейтинг не может быть выше 10"),ISBN:it.string().refine(e=>RC(e),{message:"ISBN не валидный"}).optional().or(it.literal(""))});var Xw=function(e,t,n){if(e&&"reportValidity"in e){var r=X(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},jC=function(e,t){var n=function(o){var s=t.fields[o];s&&s.ref&&"reportValidity"in s.ref?Xw(s.ref,o,e):s.refs&&s.refs.forEach(function(i){return Xw(i,o,e)})};for(var r in t.fields)n(r)},y6=function(e,t){t.shouldUseNativeValidation&&jC(e,t);var n={};for(var r in e){var o=X(t.fields,r),s=Object.assign(e[r]||{},{ref:o&&o.ref});if(v6(t.names||Object.keys(e),r)){var i=Object.assign({},X(n,r));Me(i,"root",s),Me(n,r,i)}else Me(n,r,s)}return n},v6=function(e,t){return e.some(function(n){return n.startsWith(t+".")})},_6=function(e,t){for(var n={};e.length;){var r=e[0],o=r.code,s=r.message,i=r.path.join(".");if(!n[i])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[i]={message:a.message,type:a.code}}else n[i]={message:s,type:o};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return e.push(d)})}),t){var l=n[i].types,c=l&&l[r.code];n[i]=yx(i,t,n,o,c?[].concat(c,r.message):r.message)}e.shift()}return n},Ev=function(e,t,n){return n===void 0&&(n={}),function(r,o,s){try{return Promise.resolve(function(i,a){try{var l=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(c){return s.shouldUseNativeValidation&&jC({},s),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(i){if(function(a){return a.errors!=null}(i))return{values:{},errors:y6(_6(i.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw i}))}catch(i){return Promise.reject(i)}}};const w6=()=>{const{toast:e}=uc(),t=Hd(),[n,r]=f.useState(!1),{setValue:o,register:s,handleSubmit:i,formState:{errors:a}}=qg({resolver:Ev(m6),defaultValues:{title:"",authors:[],publishedYear:"",rating:0,ISBN:void 0}}),l=async c=>{console.log(c),r(!0),await t(_b(c)).then(()=>e({title:"Успешно",description:"Книга была добавлена"})).catch(()=>e({variant:"destructive",title:"Ошибка!",description:"Что-то пошло не так!"})).finally(()=>r(!1))};return S.jsxs("form",{onSubmit:i(l),className:"flex flex-col space-y-[15px] max-w-[700px] w-full",children:[S.jsx(Rr,{placeholder:"Название",disabled:n,...s("title"),type:"text"}),a.title&&S.jsx("span",{className:"text-red-500 text-start m-[5px]",children:a.title.message}),S.jsx(Rr,{placeholder:"Год публикации",disabled:n,type:"text",...s("publishedYear")}),a.publishedYear&&S.jsx("span",{className:"text-red-500 text-start m-[5px]",children:a.publishedYear.message}),S.jsx(IC,{selectCallback:c=>{o("rating",Number(c))}}),a.rating&&S.jsx("span",{className:"text-red-500 text-start m-[5px]",children:a.rating.message}),S.jsx(Rr,{placeholder:"ISBN",disabled:n,type:"text",...s("ISBN")}),a.ISBN&&S.jsx("span",{className:"text-red-500 text-start m-[5px]",children:a.ISBN.message}),S.jsx("div",{className:"min-h-[50px] w-full",children:S.jsx(AC,{stateCallback:c=>{o("authors",c)}})}),a.authors&&S.jsx("span",{className:"text-red-500 text-start m-[5px]",children:a.authors.message}),S.jsx(hs,{disabled:n,className:"w-full",children:"Создать книгу"})]})};function E6(e,t){return f.useReducer((n,r)=>{const o=t[n][r];return o??n},e)}const Xi=e=>{const{present:t,children:n}=e,r=x6(t),o=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),s=je(r.ref,o.ref);return typeof n=="function"||r.isPresent?f.cloneElement(o,{ref:s}):null};Xi.displayName="Presence";function x6(e){const[t,n]=f.useState(),r=f.useRef({}),o=f.useRef(e),s=f.useRef("none"),i=e?"mounted":"unmounted",[a,l]=E6(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const c=Zc(r.current);s.current=a==="mounted"?c:"none"},[a]),Qt(()=>{const c=r.current,u=o.current;if(u!==e){const h=s.current,m=Zc(c);e?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==m?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),Qt(()=>{if(t){const c=d=>{const m=Zc(r.current).includes(d.animationName);d.target===t&&m&&Do.flushSync(()=>l("ANIMATION_END"))},u=d=>{d.target===t&&(s.current=Zc(r.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Zc(e){return(e==null?void 0:e.animationName)||"none"}const Xh="rovingFocusGroup.onEntryFocus",T6={bubbles:!1,cancelable:!0},xv="RovingFocusGroup",[zm,UC,S6]=Pf(xv),[b6,BC]=xs(xv,[S6]),[C6,I6]=b6(xv),A6=f.forwardRef((e,t)=>f.createElement(zm.Provider,{scope:e.__scopeRovingFocusGroup},f.createElement(zm.Slot,{scope:e.__scopeRovingFocusGroup},f.createElement(R6,z({},e,{ref:t}))))),R6=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,...u}=e,d=f.useRef(null),h=je(t,d),m=nv(s),[v=null,y]=Tl({prop:i,defaultProp:a,onChange:l}),[w,g]=f.useState(!1),p=Gt(c),_=UC(n),E=f.useRef(!1),[x,b]=f.useState(0);return f.useEffect(()=>{const C=d.current;if(C)return C.addEventListener(Xh,p),()=>C.removeEventListener(Xh,p)},[p]),f.createElement(C6,{scope:n,orientation:r,dir:m,loop:o,currentTabStopId:v,onItemFocus:f.useCallback(C=>y(C),[y]),onItemShiftTab:f.useCallback(()=>g(!0),[]),onFocusableItemAdd:f.useCallback(()=>b(C=>C+1),[]),onFocusableItemRemove:f.useCallback(()=>b(C=>C-1),[])},f.createElement(Ce.div,z({tabIndex:w||x===0?-1:0,"data-orientation":r},u,{ref:h,style:{outline:"none",...e.style},onMouseDown:ne(e.onMouseDown,()=>{E.current=!0}),onFocus:ne(e.onFocus,C=>{const I=!E.current;if(C.target===C.currentTarget&&I&&!w){const F=new CustomEvent(Xh,T6);if(C.currentTarget.dispatchEvent(F),!F.defaultPrevented){const V=_().filter(U=>U.focusable),oe=V.find(U=>U.active),P=V.find(U=>U.id===v),N=[oe,P,...V].filter(Boolean).map(U=>U.ref.current);zC(N)}}E.current=!1}),onBlur:ne(e.onBlur,()=>g(!1))})))}),k6="RovingFocusGroupItem",P6=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,...i}=e,a=ki(),l=s||a,c=I6(k6,n),u=c.currentTabStopId===l,d=UC(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=c;return f.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),f.createElement(zm.ItemSlot,{scope:n,id:l,focusable:r,active:o},f.createElement(Ce.span,z({tabIndex:u?0:-1,"data-orientation":c.orientation},i,{ref:t,onMouseDown:ne(e.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:ne(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:ne(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=D6(v,c.orientation,c.dir);if(y!==void 0){v.preventDefault();let g=d().filter(p=>p.focusable).map(p=>p.ref.current);if(y==="last")g.reverse();else if(y==="prev"||y==="next"){y==="prev"&&g.reverse();const p=g.indexOf(v.currentTarget);g=c.loop?O6(g,p+1):g.slice(p+1)}setTimeout(()=>zC(g))}})})))}),$6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function N6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function D6(e,t,n){const r=N6(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return $6[r]}function zC(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function O6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const M6=A6,V6=P6,Wm=["Enter"," "],L6=["ArrowDown","PageUp","Home"],WC=["ArrowUp","PageDown","End"],F6=[...L6,...WC],j6={ltr:[...Wm,"ArrowRight"],rtl:[...Wm,"ArrowLeft"]},U6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ff="Menu",[Ll,B6,z6]=Pf(Ff),[bs,HC]=xs(Ff,[z6,Nf,BC]),Tv=Nf(),qC=BC(),[W6,Cs]=bs(Ff),[H6,hc]=bs(Ff),q6=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:s,modal:i=!0}=e,a=Tv(t),[l,c]=f.useState(null),u=f.useRef(!1),d=Gt(s),h=nv(o);return f.useEffect(()=>{const m=()=>{u.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>u.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),f.createElement(Kb,a,f.createElement(W6,{scope:t,open:n,onOpenChange:d,content:l,onContentChange:c},f.createElement(H6,{scope:t,onClose:f.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:h,modal:i},r)))},KC=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Tv(n);return f.createElement(Gb,z({},o,r,{ref:t}))}),GC="MenuPortal",[K6,QC]=bs(GC,{forceMount:void 0}),G6=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,s=Cs(GC,t);return f.createElement(K6,{scope:t,forceMount:n},f.createElement(Xi,{present:n||s.open},f.createElement(fv,{asChild:!0,container:o},r)))},Hn="MenuContent",[Q6,Sv]=bs(Hn),Z6=f.forwardRef((e,t)=>{const n=QC(Hn,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=Cs(Hn,e.__scopeMenu),i=hc(Hn,e.__scopeMenu);return f.createElement(Ll.Provider,{scope:e.__scopeMenu},f.createElement(Xi,{present:r||s.open},f.createElement(Ll.Slot,{scope:e.__scopeMenu},i.modal?f.createElement(Y6,z({},o,{ref:t})):f.createElement(X6,z({},o,{ref:t})))))}),Y6=f.forwardRef((e,t)=>{const n=Cs(Hn,e.__scopeMenu),r=f.useRef(null),o=je(t,r);return f.useEffect(()=>{const s=r.current;if(s)return Yb(s)},[]),f.createElement(bv,z({},e,{ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ne(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),X6=f.forwardRef((e,t)=>{const n=Cs(Hn,e.__scopeMenu);return f.createElement(bv,z({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),bv=f.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:m,disableOutsideScroll:v,...y}=e,w=Cs(Hn,n),g=hc(Hn,n),p=Tv(n),_=qC(n),E=B6(n),[x,b]=f.useState(null),C=f.useRef(null),I=je(t,C,w.onContentChange),F=f.useRef(0),V=f.useRef(""),oe=f.useRef(0),P=f.useRef(null),G=f.useRef("right"),N=f.useRef(0),U=v?pv:f.Fragment,te=v?{as:fs,allowPinchZoom:!0}:void 0,Y=k=>{var H,ie;const he=V.current+k,Ke=E().filter(Ie=>!Ie.disabled),Ve=document.activeElement,mt=(H=Ke.find(Ie=>Ie.ref.current===Ve))===null||H===void 0?void 0:H.textValue,$e=Ke.map(Ie=>Ie.textValue),re=p5($e,he,mt),be=(ie=Ke.find(Ie=>Ie.textValue===re))===null||ie===void 0?void 0:ie.ref.current;(function Ie(ke){V.current=ke,window.clearTimeout(F.current),ke!==""&&(F.current=window.setTimeout(()=>Ie(""),1e3))})(he),be&&setTimeout(()=>be.focus())};f.useEffect(()=>()=>window.clearTimeout(F.current),[]),kb();const D=f.useCallback(k=>{var H,ie;return G.current===((H=P.current)===null||H===void 0?void 0:H.side)&&g5(k,(ie=P.current)===null||ie===void 0?void 0:ie.area)},[]);return f.createElement(Q6,{scope:n,searchRef:V,onItemEnter:f.useCallback(k=>{D(k)&&k.preventDefault()},[D]),onItemLeave:f.useCallback(k=>{var H;D(k)||((H=C.current)===null||H===void 0||H.focus(),b(null))},[D]),onTriggerLeave:f.useCallback(k=>{D(k)&&k.preventDefault()},[D]),pointerGraceTimerRef:oe,onPointerGraceIntentChange:f.useCallback(k=>{P.current=k},[])},f.createElement(U,te,f.createElement(Pb,{asChild:!0,trapped:o,onMountAutoFocus:ne(s,k=>{var H;k.preventDefault(),(H=C.current)===null||H===void 0||H.focus()}),onUnmountAutoFocus:i},f.createElement(ov,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:m},f.createElement(M6,z({asChild:!0},_,{dir:g.dir,orientation:"vertical",loop:r,currentTabStopId:x,onCurrentTabStopIdChange:b,onEntryFocus:ne(l,k=>{g.isUsingKeyboardRef.current||k.preventDefault()})}),f.createElement(Qb,z({role:"menu","aria-orientation":"vertical","data-state":eI(w.open),"data-radix-menu-content":"",dir:g.dir},p,y,{ref:I,style:{outline:"none",...y.style},onKeyDown:ne(y.onKeyDown,k=>{const ie=k.target.closest("[data-radix-menu-content]")===k.currentTarget,he=k.ctrlKey||k.altKey||k.metaKey,Ke=k.key.length===1;ie&&(k.key==="Tab"&&k.preventDefault(),!he&&Ke&&Y(k.key));const Ve=C.current;if(k.target!==Ve||!F6.includes(k.key))return;k.preventDefault();const $e=E().filter(re=>!re.disabled).map(re=>re.ref.current);WC.includes(k.key)&&$e.reverse(),f5($e)}),onBlur:ne(e.onBlur,k=>{k.currentTarget.contains(k.target)||(window.clearTimeout(F.current),V.current="")}),onPointerMove:ne(e.onPointerMove,Fl(k=>{const H=k.target,ie=N.current!==k.clientX;if(k.currentTarget.contains(H)&&ie){const he=k.clientX>N.current?"right":"left";G.current=he,N.current=k.clientX}}))})))))))}),J6=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return f.createElement(Ce.div,z({},r,{ref:t}))}),Hm="MenuItem",Jw="menu.itemSelect",Cv=f.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,s=f.useRef(null),i=hc(Hm,e.__scopeMenu),a=Sv(Hm,e.__scopeMenu),l=je(t,s),c=f.useRef(!1),u=()=>{const d=s.current;if(!n&&d){const h=new CustomEvent(Jw,{bubbles:!0,cancelable:!0});d.addEventListener(Jw,m=>r==null?void 0:r(m),{once:!0}),rv(d,h),h.defaultPrevented?c.current=!1:i.onClose()}};return f.createElement(ZC,z({},o,{ref:l,disabled:n,onClick:ne(e.onClick,u),onPointerDown:d=>{var h;(h=e.onPointerDown)===null||h===void 0||h.call(e,d),c.current=!0},onPointerUp:ne(e.onPointerUp,d=>{var h;c.current||(h=d.currentTarget)===null||h===void 0||h.click()}),onKeyDown:ne(e.onKeyDown,d=>{const h=a.searchRef.current!=="";n||h&&d.key===" "||Wm.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})}))}),ZC=f.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...s}=e,i=Sv(Hm,n),a=qC(n),l=f.useRef(null),c=je(t,l),[u,d]=f.useState(!1),[h,m]=f.useState("");return f.useEffect(()=>{const v=l.current;if(v){var y;m(((y=v.textContent)!==null&&y!==void 0?y:"").trim())}},[s.children]),f.createElement(Ll.ItemSlot,{scope:n,disabled:r,textValue:o??h},f.createElement(V6,z({asChild:!0},a,{focusable:!r}),f.createElement(Ce.div,z({role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},s,{ref:c,onPointerMove:ne(e.onPointerMove,Fl(v=>{r?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus())})),onPointerLeave:ne(e.onPointerLeave,Fl(v=>i.onItemLeave(v))),onFocus:ne(e.onFocus,()=>d(!0)),onBlur:ne(e.onBlur,()=>d(!1))}))))}),e5=f.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return f.createElement(XC,{scope:e.__scopeMenu,checked:n},f.createElement(Cv,z({role:"menuitemcheckbox","aria-checked":Ad(n)?"mixed":n},o,{ref:t,"data-state":Iv(n),onSelect:ne(o.onSelect,()=>r==null?void 0:r(Ad(n)?!0:!n),{checkForDefaultPrevented:!1})})))}),t5="MenuRadioGroup",[ZF,n5]=bs(t5,{value:void 0,onValueChange:()=>{}}),r5="MenuRadioItem",o5=f.forwardRef((e,t)=>{const{value:n,...r}=e,o=n5(r5,e.__scopeMenu),s=n===o.value;return f.createElement(XC,{scope:e.__scopeMenu,checked:s},f.createElement(Cv,z({role:"menuitemradio","aria-checked":s},r,{ref:t,"data-state":Iv(s),onSelect:ne(r.onSelect,()=>{var i;return(i=o.onValueChange)===null||i===void 0?void 0:i.call(o,n)},{checkForDefaultPrevented:!1})})))}),YC="MenuItemIndicator",[XC,s5]=bs(YC,{checked:!1}),i5=f.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,s=s5(YC,n);return f.createElement(Xi,{present:r||Ad(s.checked)||s.checked===!0},f.createElement(Ce.span,z({},o,{ref:t,"data-state":Iv(s.checked)})))}),a5=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return f.createElement(Ce.div,z({role:"separator","aria-orientation":"horizontal"},r,{ref:t}))}),l5="MenuSub",[YF,JC]=bs(l5),Yc="MenuSubTrigger",c5=f.forwardRef((e,t)=>{const n=Cs(Yc,e.__scopeMenu),r=hc(Yc,e.__scopeMenu),o=JC(Yc,e.__scopeMenu),s=Sv(Yc,e.__scopeMenu),i=f.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:e.__scopeMenu},u=f.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return f.useEffect(()=>u,[u]),f.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),f.createElement(KC,z({asChild:!0},c),f.createElement(ZC,z({id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":eI(n.open)},e,{ref:kf(t,o.onTriggerChange),onClick:d=>{var h;(h=e.onClick)===null||h===void 0||h.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ne(e.onPointerMove,Fl(d=>{s.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:ne(e.onPointerLeave,Fl(d=>{var h;u();const m=(h=n.content)===null||h===void 0?void 0:h.getBoundingClientRect();if(m){var v;const y=(v=n.content)===null||v===void 0?void 0:v.dataset.side,w=y==="right",g=w?-5:5,p=m[w?"left":"right"],_=m[w?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+g,y:d.clientY},{x:p,y:m.top},{x:_,y:m.top},{x:_,y:m.bottom},{x:p,y:m.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ne(e.onKeyDown,d=>{const h=s.searchRef.current!=="";if(!(e.disabled||h&&d.key===" ")&&j6[r.dir].includes(d.key)){var m;n.onOpenChange(!0),(m=n.content)===null||m===void 0||m.focus(),d.preventDefault()}})})))}),u5="MenuSubContent",d5=f.forwardRef((e,t)=>{const n=QC(Hn,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=Cs(Hn,e.__scopeMenu),i=hc(Hn,e.__scopeMenu),a=JC(u5,e.__scopeMenu),l=f.useRef(null),c=je(t,l);return f.createElement(Ll.Provider,{scope:e.__scopeMenu},f.createElement(Xi,{present:r||s.open},f.createElement(Ll.Slot,{scope:e.__scopeMenu},f.createElement(bv,z({id:a.contentId,"aria-labelledby":a.triggerId},o,{ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;i.isUsingKeyboardRef.current&&((d=l.current)===null||d===void 0||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ne(e.onFocusOutside,u=>{u.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ne(e.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:ne(e.onKeyDown,u=>{const d=u.currentTarget.contains(u.target),h=U6[i.dir].includes(u.key);if(d&&h){var m;s.onOpenChange(!1),(m=a.trigger)===null||m===void 0||m.focus(),u.preventDefault()}})})))))});function eI(e){return e?"open":"closed"}function Ad(e){return e==="indeterminate"}function Iv(e){return Ad(e)?"indeterminate":e?"checked":"unchecked"}function f5(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function h5(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function p5(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let i=h5(e,Math.max(s,0));o.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function m5(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s].x,l=t[s].y,c=t[i].x,u=t[i].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(o=!o)}return o}function g5(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return m5(n,t)}function Fl(e){return t=>t.pointerType==="mouse"?e(t):void 0}const y5=q6,v5=KC,_5=G6,w5=Z6,E5=J6,x5=Cv,T5=e5,S5=o5,b5=i5,C5=a5,I5=c5,A5=d5,tI="DropdownMenu",[R5,XF]=xs(tI,[HC]),Nn=HC(),[k5,nI]=R5(tI),P5=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=Nn(t),c=f.useRef(null),[u=!1,d]=Tl({prop:o,defaultProp:s,onChange:i});return f.createElement(k5,{scope:t,triggerId:ki(),triggerRef:c,contentId:ki(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),modal:a},f.createElement(y5,z({},l,{open:u,onOpenChange:d,dir:r,modal:a}),n))},$5="DropdownMenuTrigger",N5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,s=nI($5,n),i=Nn(n);return f.createElement(v5,z({asChild:!0},i),f.createElement(Ce.button,z({type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},o,{ref:kf(t,s.triggerRef),onPointerDown:ne(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:ne(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})))}),D5=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Nn(t);return f.createElement(_5,z({},r,n))},O5="DropdownMenuContent",M5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=nI(O5,n),s=Nn(n),i=f.useRef(!1);return f.createElement(w5,z({id:o.contentId,"aria-labelledby":o.triggerId},s,r,{ref:t,onCloseAutoFocus:ne(e.onCloseAutoFocus,a=>{var l;i.current||(l=o.triggerRef.current)===null||l===void 0||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:ne(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!o.modal||u)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),V5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Nn(n);return f.createElement(E5,z({},o,r,{ref:t}))}),L5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Nn(n);return f.createElement(x5,z({},o,r,{ref:t}))}),F5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Nn(n);return f.createElement(T5,z({},o,r,{ref:t}))}),j5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Nn(n);return f.createElement(S5,z({},o,r,{ref:t}))}),U5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Nn(n);return f.createElement(b5,z({},o,r,{ref:t}))}),B5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Nn(n);return f.createElement(C5,z({},o,r,{ref:t}))}),z5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Nn(n);return f.createElement(I5,z({},o,r,{ref:t}))}),W5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Nn(n);return f.createElement(A5,z({},o,r,{ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),H5=P5,q5=N5,K5=D5,rI=M5,oI=V5,sI=L5,iI=F5,aI=j5,lI=U5,cI=B5,uI=z5,dI=W5,fI=H5,hI=q5,G5=f.forwardRef(({className:e,inset:t,children:n,...r},o)=>S.jsxs(uI,{ref:o,className:qe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,S.jsx(eL,{className:"ml-auto h-4 w-4"})]}));G5.displayName=uI.displayName;const Q5=f.forwardRef(({className:e,...t},n)=>S.jsx(dI,{ref:n,className:qe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Q5.displayName=dI.displayName;const Av=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>S.jsx(K5,{children:S.jsx(rI,{ref:r,sideOffset:t,className:qe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Av.displayName=rI.displayName;const hi=f.forwardRef(({className:e,inset:t,...n},r)=>S.jsx(sI,{ref:r,className:qe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));hi.displayName=sI.displayName;const Z5=f.forwardRef(({className:e,children:t,checked:n,...r},o)=>S.jsxs(iI,{ref:o,className:qe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[S.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:S.jsx(lI,{children:S.jsx(wC,{className:"h-4 w-4"})})}),t]}));Z5.displayName=iI.displayName;const Y5=f.forwardRef(({className:e,children:t,...n},r)=>S.jsxs(aI,{ref:r,className:qe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[S.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:S.jsx(lI,{children:S.jsx(nL,{className:"h-2 w-2 fill-current"})})}),t]}));Y5.displayName=aI.displayName;const X5=f.forwardRef(({className:e,inset:t,...n},r)=>S.jsx(oI,{ref:r,className:qe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));X5.displayName=oI.displayName;const J5=f.forwardRef(({className:e,...t},n)=>S.jsx(cI,{ref:n,className:qe("-mx-1 my-1 h-px bg-muted",e),...t}));J5.displayName=cI.displayName;const eF={theme:"system",setTheme:()=>null},pI=f.createContext(eF);function tF({children:e,defaultTheme:t="system",storageKey:n="vite-ui-theme",...r}){const[o,s]=f.useState(()=>localStorage.getItem(n)||t);f.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),o==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(o)},[o]);const i={theme:o,setTheme:a=>{localStorage.setItem(n,a),s(a)}};return S.jsx(pI.Provider,{...r,value:i,children:e})}const nF=()=>{const e=f.useContext(pI);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},rF=()=>{const{setTheme:e}=nF();return S.jsxs(fI,{children:[S.jsx(hI,{asChild:!0,children:S.jsxs(hs,{variant:"outline",size:"icon",children:[S.jsx(sL,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),S.jsx(oL,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),S.jsx("span",{className:"sr-only",children:"Изменить тему"})]})}),S.jsxs(Av,{align:"end",children:[S.jsx(hi,{onClick:()=>e("light"),children:"Светлая"}),S.jsx(hi,{onClick:()=>e("dark"),children:"Темная"}),S.jsx(hi,{onClick:()=>e("system"),children:"Системная"})]})]})},oF=()=>S.jsxs("header",{className:"w-full flex justify-between items-center p-[10px] border-b",children:[S.jsx("h1",{children:"BookStore"}),S.jsx(rF,{})]});function vr({className:e,...t}){return S.jsx("div",{className:qe("animate-pulse rounded-md bg-muted",e),...t})}const sF=()=>S.jsxs("div",{className:"flex flex-col justify-start",children:[S.jsxs("div",{className:"flex flex-col space-y-[30px] mt-[30px]",children:[S.jsx(vr,{className:"w-full h-[20px] "}),S.jsxs("div",{className:"flex flex-row items-center justify-start flex-wrap",children:[S.jsx(vr,{className:"w-[400px] h-[250px] m-[5px]"}),S.jsx(vr,{className:"w-[400px] h-[250px] m-[5px]"})]})]}),S.jsxs("div",{className:"flex flex-col space-y-[30px] mt-[30px]",children:[S.jsx(vr,{className:"w-full h-[20px] "}),S.jsxs("div",{className:"flex flex-row items-center justify-start flex-wrap",children:[S.jsx(vr,{className:"w-[400px] h-[250px] m-[5px]"}),S.jsx(vr,{className:"w-[400px] h-[250px] m-[5px]"})]})]}),S.jsxs("div",{className:"flex flex-col space-y-[30px] mt-[30px]",children:[S.jsx(vr,{className:"w-full h-[20px]"}),S.jsxs("div",{className:"flex flex-row items-center justify-start flex-wrap",children:[S.jsx(vr,{className:"w-[400px] h-[250px] m-[5px]"}),S.jsx(vr,{className:"w-[400px] h-[250px] m-[5px]"})]})]})]}),iF=({callback:e})=>S.jsxs(fI,{children:[S.jsx(hI,{asChild:!0,children:S.jsx(hs,{variant:"outline",children:S.jsx(rL,{})})}),S.jsxs(Av,{className:"w-56",children:[S.jsx(hi,{onClick:()=>{e("delete")},children:"Удалить"}),S.jsx(hi,{onClick:()=>{e("edit")},children:"Изменить"})]})]}),aF="data:image/svg+xml,%3c?xml%20version='1.0'%20?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2048%2048'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%234b6ea4;}.cls-2{fill:%23445f96;}.cls-3{fill:%23a09b8c;}.cls-4{fill:%23f1f2f2;}.cls-5{fill:%234c5665;}%3c/style%3e%3c/defs%3e%3ctitle/%3e%3cg%20id='Book'%3e%3crect%20class='cls-1'%20height='48'%20rx='2'%20ry='2'%20width='34'%20x='8'/%3e%3cpath%20class='cls-2'%20d='M10,0h2a0,0,0,0,1,0,0V48a0,0,0,0,1,0,0H10a2,2,0,0,1-2-2V2A2,2,0,0,1,10,0Z'/%3e%3cpath%20class='cls-3'%20d='M40,44H10a2,2,0,0,0,0,4H40a2,2,0,0,0,2-2V42A2.006,2.006,0,0,1,40,44Z'/%3e%3cpath%20class='cls-4'%20d='M40,44H10a2,2,0,0,0,0,4H40a2,2,0,0,0,2-2V42A2.006,2.006,0,0,1,40,44Z'/%3e%3cpath%20class='cls-5'%20d='M42,44v2a2.006,2.006,0,0,1-2,2H10a2,2,0,0,1-1.73-3A2,2,0,0,0,10,46H40A2.006,2.006,0,0,0,42,44Z'/%3e%3crect%20class='cls-2'%20height='10'%20rx='1'%20ry='1'%20width='19'%20x='17'%20y='6'/%3e%3c/g%3e%3c/svg%3e",lF=({props:e,callback:t})=>{const{toast:n}=uc(),r=Hd(),o=async s=>{s==="edit"?t():await r(vb(e.id)).then(()=>n({title:"Успешно",description:"Книга была удалена!"})).catch(()=>n({variant:"destructive",title:"Ошибка!",description:"Что-то пошло не так!"}))};return S.jsxs("div",{id:"book",className:"relative w-[400px] flex flex-row border bg-secondary rounded-md p-[10px]",children:[S.jsx("img",{src:aF,alt:"",width:"159px",height:"226px",className:"object-cover w-[159px] h-[226px]"}),S.jsxs("div",{className:"flex flex-col justify-between pl-5 pr-12",children:[S.jsx("div",{className:"absolute top-0 right-0",children:S.jsx(iF,{callback:s=>o(s)})}),S.jsxs("h4",{children:[e.title.slice(0,22),"..."]}),S.jsxs("p",{children:["Авторы: ",e.authors.map(s=>s.name).join(",").slice(0,20)]}),S.jsxs("p",{children:["Рейтинг: ",e.rating?e.rating:0]}),S.jsxs("p",{children:["Год издания: ",e.publishedYear?e.publishedYear:"Неизвестно"]})]})]})},cF=({props:e,callback:t})=>{const n=Hd(),{toast:r}=uc(),[o,s]=f.useState(!1),{setValue:i,register:a,handleSubmit:l,formState:{errors:c}}=qg({resolver:Ev(g6),defaultValues:{id:e.id,title:e.title,authors:e.authors,publishedYear:e.publishedYear!=="Нет информации"?Number(e.publishedYear):"",rating:e.rating?e.rating:0,ISBN:e.ISBN?e.ISBN:void 0}}),u=async d=>{s(!0),await n(yb({book:d,id:d.id})).then(()=>{r({title:"Успешно",description:"Книга была изменена"}),t()}).catch(()=>r({variant:"destructive",title:"Ошибка!",description:"Что-то пошло не так!"})).finally(()=>s(!1))};return S.jsxs("form",{onSubmit:l(u),className:"flex flex-col space-y-[15px] w-[400px] rounded-md p-[10px] bg-secondary border",children:[S.jsx(Rr,{...a("title"),placeholder:"Название",disabled:o,type:"text"}),c.title&&S.jsx("span",{className:"text-red-500 text-start m-[5px]",children:c.title.message}),S.jsx(Rr,{...a("publishedYear"),placeholder:"Год публикации",disabled:o,type:"text"}),c.publishedYear&&S.jsx("span",{className:"text-red-500 text-start m-[5px]",children:c.publishedYear.message}),S.jsx(IC,{selectCallback:d=>{i("rating",Number(d))}}),c.rating&&S.jsx("span",{className:"text-red-500 text-start m-[5px]",children:c.rating.message}),S.jsx(Rr,{...a("ISBN"),placeholder:"ISBN",disabled:o,type:"text"}),c.ISBN&&S.jsx("span",{className:"text-red-500 text-start m-[5px]",children:c.ISBN.message}),S.jsx("div",{className:"min-h-[50px] w-full",children:S.jsx(AC,{defaultValue:e.authors,stateCallback:d=>{i("authors",d)}})}),c.authors&&S.jsx("span",{className:"text-red-500 text-start m-[5px]",children:c.authors.message}),S.jsx(hs,{disabled:o,className:"w-full",children:"Изменить"}),S.jsx(hs,{variant:"destructive",type:"button",onClick:t,className:"w-full",children:"Отмена"})]})},uF=({props:e})=>{const[t,n]=f.useState(!1);return S.jsx(S.Fragment,{children:t?S.jsx(cF,{props:e,callback:()=>{n(!t)}}):S.jsx(lF,{props:e,callback:()=>{n(!t)}})})},dF=({props:e})=>S.jsx("div",{className:"flex flex-col justify-start",children:e==null?void 0:e.map(([t,n])=>S.jsxs("div",{id:"category",className:"flex flex-col space-y-[30px] mt-[30px]",children:[S.jsx("h2",{children:Number(t)?`${t} год`:t}),S.jsx("div",{className:"flex flex-row items-center justify-start flex-wrap",children:n.map(r=>S.jsx("div",{className:"m-[5px]",children:S.jsx(uF,{props:r})},r.id))})]},t))}),fF=({selectCallback:e})=>S.jsxs(xC,{onValueChange:t=>e(t),children:[S.jsx(yv,{className:"w-full",children:S.jsx(SC,{placeholder:"Сортировать по"})}),S.jsx(vv,{children:S.jsxs(TC,{children:[S.jsx(Jt,{value:"authors",children:"По авторам"}),S.jsx(Jt,{value:"years",children:"По годам"})]})})]}),hF=({props:e})=>{const[t,n]=f.useState("years"),[r,o]=f.useState();return f.useEffect(()=>{(async()=>o(uL(e,t)))()},[e,t]),S.jsx(S.Fragment,{children:r&&S.jsxs(S.Fragment,{children:[S.jsx(fF,{selectCallback:s=>n(s)}),S.jsx(dF,{props:r})]})})},pF=()=>{const{toast:e}=uc(),[t,n]=f.useState(!1),{register:r,handleSubmit:o,formState:{errors:s}}=qg({resolver:Ev(wv),defaultValues:{id:"...",name:""}}),i=async a=>{console.log(a),n(!0),await iV(a.name).then(()=>e({title:"Успешно",description:"Автор был добавлен!"})).catch(()=>e({variant:"destructive",title:"Ошибка!",description:"Что-то пошло не так!"})).finally(()=>n(!1))};return console.log(s),S.jsxs("form",{onSubmit:o(i),className:"flex flex-col space-y-[15px] max-w-[700px] w-full",children:[S.jsx(Rr,{placeholder:"Укажите автора",disabled:t,...r("name"),type:"text"}),s.name&&S.jsx("span",{className:"text-red-500 text-start m-[5px]",children:s.name.message}),S.jsx(hs,{disabled:t,className:"w-full",type:"submit",children:"Создать автора"})]})},mF=()=>{const e=Hd(),t=tP(o=>o.booksStore.books),[n,r]=f.useState(!1);return f.useEffect(()=>{(async()=>{r(!0),await e(gb("")).then(s=>console.log(s)).catch(s=>console.log(s)).finally(()=>r(!1))})()},[]),S.jsxs("div",{className:"mx-auto w-full p-[5px] max-w-[1280px]",children:[S.jsx(oF,{}),S.jsxs("div",{className:"mt-10 w-full space-y-[15px] flex flex-col items-center ",children:[S.jsx("h2",{children:"Добавить книгу:"}),S.jsx(w6,{}),S.jsx("h2",{children:"Добавить автора:"}),S.jsx(pF,{})]}),S.jsx("div",{className:"mt-10",children:n?S.jsx(sF,{}):S.jsx(hF,{props:t})})]})},gF=FP({reducer:{booksStore:pV}}),mI="ToastProvider",[Rv,yF,vF]=Pf("Toast"),[gI,JF]=xs("Toast",[vF]),[_F,jf]=gI(mI),yI=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:s=50,children:i}=e,[a,l]=f.useState(null),[c,u]=f.useState(0),d=f.useRef(!1),h=f.useRef(!1);return f.createElement(Rv.Provider,{scope:t},f.createElement(_F,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:f.useCallback(()=>u(m=>m+1),[]),onToastRemove:f.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h},i))};yI.propTypes={label(e){if(e.label&&typeof e.label=="string"&&!e.label.trim()){const t=`Invalid prop \`label\` supplied to \`${mI}\`. Expected non-empty \`string\`.`;return new Error(t)}return null}};const wF="ToastViewport",EF=["F8"],qm="toast.viewportPause",Km="toast.viewportResume",xF=f.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=EF,label:o="Notifications ({hotkey})",...s}=e,i=jf(wF,n),a=yF(n),l=f.useRef(null),c=f.useRef(null),u=f.useRef(null),d=f.useRef(null),h=je(t,d,i.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;f.useEffect(()=>{const w=g=>{var p;r.every(E=>g[E]||g.code===E)&&((p=d.current)===null||p===void 0||p.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),f.useEffect(()=>{const w=l.current,g=d.current;if(v&&w&&g){const p=()=>{if(!i.isClosePausedRef.current){const b=new CustomEvent(qm);g.dispatchEvent(b),i.isClosePausedRef.current=!0}},_=()=>{if(i.isClosePausedRef.current){const b=new CustomEvent(Km);g.dispatchEvent(b),i.isClosePausedRef.current=!1}},E=b=>{!w.contains(b.relatedTarget)&&_()},x=()=>{w.contains(document.activeElement)||_()};return w.addEventListener("focusin",p),w.addEventListener("focusout",E),w.addEventListener("pointermove",p),w.addEventListener("pointerleave",x),window.addEventListener("blur",p),window.addEventListener("focus",_),()=>{w.removeEventListener("focusin",p),w.removeEventListener("focusout",E),w.removeEventListener("pointermove",p),w.removeEventListener("pointerleave",x),window.removeEventListener("blur",p),window.removeEventListener("focus",_)}}},[v,i.isClosePausedRef]);const y=f.useCallback(({tabbingDirection:w})=>{const p=a().map(_=>{const E=_.ref.current,x=[E,...LF(E)];return w==="forwards"?x:x.reverse()});return(w==="forwards"?p.reverse():p).flat()},[a]);return f.useEffect(()=>{const w=d.current;if(w){const g=p=>{const _=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!_){const I=document.activeElement,F=p.shiftKey;if(p.target===w&&F){var x;(x=c.current)===null||x===void 0||x.focus();return}const P=y({tabbingDirection:F?"backwards":"forwards"}),G=P.findIndex(N=>N===I);if(Jh(P.slice(G+1)))p.preventDefault();else{var b,C;F?(b=c.current)===null||b===void 0||b.focus():(C=u.current)===null||C===void 0||C.focus()}}};return w.addEventListener("keydown",g),()=>w.removeEventListener("keydown",g)}},[a,y]),f.createElement(m3,{ref:l,role:"region","aria-label":o.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"}},v&&f.createElement(e1,{ref:c,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});Jh(w)}}),f.createElement(Rv.Slot,{scope:n},f.createElement(Ce.ol,z({tabIndex:-1},s,{ref:h}))),v&&f.createElement(e1,{ref:u,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});Jh(w)}}))}),TF="ToastFocusProxy",e1=f.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,s=jf(TF,n);return f.createElement(hv,z({"aria-hidden":!0,tabIndex:0},o,{ref:t,style:{position:"fixed"},onFocus:i=>{var a;const l=i.relatedTarget;!((a=s.viewport)!==null&&a!==void 0&&a.contains(l))&&r()}}))}),Uf="Toast",SF="toast.swipeStart",bF="toast.swipeMove",CF="toast.swipeCancel",IF="toast.swipeEnd",AF=f.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:s,...i}=e,[a=!0,l]=Tl({prop:r,defaultProp:o,onChange:s});return f.createElement(Xi,{present:n||a},f.createElement(vI,z({open:a},i,{ref:t,onClose:()=>l(!1),onPause:Gt(e.onPause),onResume:Gt(e.onResume),onSwipeStart:ne(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ne(e.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:ne(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ne(e.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})))}),[RF,kF]=gI(Uf,{onClose(){}}),vI=f.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:s,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:m,...v}=e,y=jf(Uf,n),[w,g]=f.useState(null),p=je(t,N=>g(N)),_=f.useRef(null),E=f.useRef(null),x=o||y.duration,b=f.useRef(0),C=f.useRef(x),I=f.useRef(0),{onToastAdd:F,onToastRemove:V}=y,oe=Gt(()=>{var N;(w==null?void 0:w.contains(document.activeElement))&&((N=y.viewport)===null||N===void 0||N.focus()),i()}),P=f.useCallback(N=>{!N||N===1/0||(window.clearTimeout(I.current),b.current=new Date().getTime(),I.current=window.setTimeout(oe,N))},[oe]);f.useEffect(()=>{const N=y.viewport;if(N){const U=()=>{P(C.current),c==null||c()},te=()=>{const Y=new Date().getTime()-b.current;C.current=C.current-Y,window.clearTimeout(I.current),l==null||l()};return N.addEventListener(qm,te),N.addEventListener(Km,U),()=>{N.removeEventListener(qm,te),N.removeEventListener(Km,U)}}},[y.viewport,x,l,c,P]),f.useEffect(()=>{s&&!y.isClosePausedRef.current&&P(x)},[s,x,y.isClosePausedRef,P]),f.useEffect(()=>(F(),()=>V()),[F,V]);const G=f.useMemo(()=>w?xI(w):null,[w]);return y.viewport?f.createElement(f.Fragment,null,G&&f.createElement(PF,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0},G),f.createElement(RF,{scope:n,onClose:oe},Do.createPortal(f.createElement(Rv.ItemSlot,{scope:n},f.createElement(p3,{asChild:!0,onEscapeKeyDown:ne(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||oe(),y.isFocusedToastEscapeKeyDownRef.current=!1})},f.createElement(Ce.li,z({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection},v,{ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ne(e.onKeyDown,N=>{N.key==="Escape"&&(a==null||a(N.nativeEvent),N.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,oe()))}),onPointerDown:ne(e.onPointerDown,N=>{N.button===0&&(_.current={x:N.clientX,y:N.clientY})}),onPointerMove:ne(e.onPointerMove,N=>{if(!_.current)return;const U=N.clientX-_.current.x,te=N.clientY-_.current.y,Y=!!E.current,D=["left","right"].includes(y.swipeDirection),k=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,H=D?k(0,U):0,ie=D?0:k(0,te),he=N.pointerType==="touch"?10:2,Ke={x:H,y:ie},Ve={originalEvent:N,delta:Ke};Y?(E.current=Ke,Xc(bF,d,Ve,{discrete:!1})):t1(Ke,y.swipeDirection,he)?(E.current=Ke,Xc(SF,u,Ve,{discrete:!1}),N.target.setPointerCapture(N.pointerId)):(Math.abs(U)>he||Math.abs(te)>he)&&(_.current=null)}),onPointerUp:ne(e.onPointerUp,N=>{const U=E.current,te=N.target;if(te.hasPointerCapture(N.pointerId)&&te.releasePointerCapture(N.pointerId),E.current=null,_.current=null,U){const Y=N.currentTarget,D={originalEvent:N,delta:U};t1(U,y.swipeDirection,y.swipeThreshold)?Xc(IF,m,D,{discrete:!0}):Xc(CF,h,D,{discrete:!0}),Y.addEventListener("click",k=>k.preventDefault(),{once:!0})}})})))),y.viewport))):null});vI.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){const t=`Invalid prop \`type\` supplied to \`${Uf}\`. Expected \`foreground | background\`.`;return new Error(t)}return null}};const PF=e=>{const{__scopeToast:t,children:n,...r}=e,o=jf(Uf,t),[s,i]=f.useState(!1),[a,l]=f.useState(!1);return MF(()=>i(!0)),f.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:f.createElement(fv,{asChild:!0},f.createElement(hv,r,s&&f.createElement(f.Fragment,null,o.label," ",n)))},$F=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return f.createElement(Ce.div,z({},r,{ref:t}))}),NF=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return f.createElement(Ce.div,z({},r,{ref:t}))}),DF="ToastAction",_I=f.forwardRef((e,t)=>{const{altText:n,...r}=e;return n?f.createElement(EI,{altText:n,asChild:!0},f.createElement(wI,z({},r,{ref:t}))):null});_I.propTypes={altText(e){return e.altText?null:new Error(`Missing prop \`altText\` expected on \`${DF}\``)}};const OF="ToastClose",wI=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=kF(OF,n);return f.createElement(EI,{asChild:!0},f.createElement(Ce.button,z({type:"button"},r,{ref:t,onClick:ne(e.onClick,o.onClose)})))}),EI=f.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return f.createElement(Ce.div,z({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0},o,{ref:t}))});function xI(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),VF(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!o)if(s){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...xI(r))}}),t}function Xc(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?rv(o,s):o.dispatchEvent(s)}const t1=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),s=r>o;return t==="left"||t==="right"?s&&r>n:!s&&o>n};function MF(e=()=>{}){const t=Gt(e);Qt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function VF(e){return e.nodeType===e.ELEMENT_NODE}function LF(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Jh(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}const FF=yI,TI=xF,SI=AF,bI=$F,CI=NF,II=_I,AI=wI,jF=FF,RI=f.forwardRef(({className:e,...t},n)=>S.jsx(TI,{ref:n,className:qe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));RI.displayName=TI.displayName;const UF=Eb("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),kI=f.forwardRef(({className:e,variant:t,...n},r)=>S.jsx(SI,{ref:r,className:qe(UF({variant:t}),e),...n}));kI.displayName=SI.displayName;const BF=f.forwardRef(({className:e,...t},n)=>S.jsx(II,{ref:n,className:qe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));BF.displayName=II.displayName;const PI=f.forwardRef(({className:e,...t},n)=>S.jsx(AI,{ref:n,className:qe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:S.jsx(iL,{className:"h-4 w-4"})}));PI.displayName=AI.displayName;const $I=f.forwardRef(({className:e,...t},n)=>S.jsx(bI,{ref:n,className:qe("text-sm font-semibold",e),...t}));$I.displayName=bI.displayName;const NI=f.forwardRef(({className:e,...t},n)=>S.jsx(CI,{ref:n,className:qe("text-sm opacity-90",e),...t}));NI.displayName=CI.displayName;function zF(){const{toasts:e}=uc();return S.jsxs(jF,{children:[e.map(function({id:t,title:n,description:r,action:o,...s}){return S.jsxs(kI,{...s,children:[S.jsxs("div",{className:"grid gap-1",children:[n&&S.jsx($I,{children:n}),r&&S.jsx(NI,{children:r})]}),o,S.jsx(PI,{})]},t)}),S.jsx(RI,{})]})}tp.createRoot(document.getElementById("root")).render(S.jsx(tF,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:S.jsxs(Yk,{store:gF,children:[S.jsx(mF,{}),S.jsx(zF,{})]})}));
