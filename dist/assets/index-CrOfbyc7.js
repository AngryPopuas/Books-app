var MI=Object.defineProperty;var VI=(e,t,n)=>t in e?MI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var zf=(e,t,n)=>(VI(e,typeof t!="symbol"?t+"":t,n),n);function LI(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Jw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var e1={exports:{}},Ad={},t1={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fl=Symbol.for("react.element"),FI=Symbol.for("react.portal"),jI=Symbol.for("react.fragment"),UI=Symbol.for("react.strict_mode"),BI=Symbol.for("react.profiler"),zI=Symbol.for("react.provider"),WI=Symbol.for("react.context"),HI=Symbol.for("react.forward_ref"),qI=Symbol.for("react.suspense"),KI=Symbol.for("react.memo"),GI=Symbol.for("react.lazy"),Rv=Symbol.iterator;function QI(e){return e===null||typeof e!="object"?null:(e=Rv&&e[Rv]||e["@@iterator"],typeof e=="function"?e:null)}var n1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r1=Object.assign,o1={};function Mi(e,t,n){this.props=e,this.context=t,this.refs=o1,this.updater=n||n1}Mi.prototype.isReactComponent={};Mi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function s1(){}s1.prototype=Mi.prototype;function Km(e,t,n){this.props=e,this.context=t,this.refs=o1,this.updater=n||n1}var Gm=Km.prototype=new s1;Gm.constructor=Km;r1(Gm,Mi.prototype);Gm.isPureReactComponent=!0;var kv=Array.isArray,i1=Object.prototype.hasOwnProperty,Qm={current:null},a1={key:!0,ref:!0,__self:!0,__source:!0};function l1(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)i1.call(t,r)&&!a1.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Fl,type:e,key:s,ref:i,props:o,_owner:Qm.current}}function ZI(e,t){return{$$typeof:Fl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fl}function YI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Pv=/\/+/g;function Wf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?YI(""+e.key):t.toString(36)}function Xc(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Fl:case FI:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+Wf(i,0):r,kv(o)?(n="",e!=null&&(n=e.replace(Pv,"$&/")+"/"),Xc(o,t,n,"",function(c){return c})):o!=null&&(Zm(o)&&(o=ZI(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Pv,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",kv(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Wf(s,a);i+=Xc(s,t,n,l,o)}else if(l=QI(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Wf(s,a++),i+=Xc(s,t,n,l,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function hc(e,t,n){if(e==null)return e;var r=[],o=0;return Xc(e,r,"","",function(s){return t.call(n,s,o++)}),r}function XI(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Yt={current:null},Jc={transition:null},JI={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:Jc,ReactCurrentOwner:Qm};function c1(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:hc,forEach:function(e,t,n){hc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return hc(e,function(){t++}),t},toArray:function(e){return hc(e,function(t){return t})||[]},only:function(e){if(!Zm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=Mi;_e.Fragment=jI;_e.Profiler=BI;_e.PureComponent=Km;_e.StrictMode=UI;_e.Suspense=qI;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JI;_e.act=c1;_e.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=r1({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=Qm.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)i1.call(t,l)&&!a1.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Fl,type:e.type,key:o,ref:s,props:r,_owner:i}};_e.createContext=function(e){return e={$$typeof:WI,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zI,_context:e},e.Consumer=e};_e.createElement=l1;_e.createFactory=function(e){var t=l1.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:HI,render:e}};_e.isValidElement=Zm;_e.lazy=function(e){return{$$typeof:GI,_payload:{_status:-1,_result:e},_init:XI}};_e.memo=function(e,t){return{$$typeof:KI,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=Jc.transition;Jc.transition={};try{e()}finally{Jc.transition=t}};_e.unstable_act=c1;_e.useCallback=function(e,t){return Yt.current.useCallback(e,t)};_e.useContext=function(e){return Yt.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return Yt.current.useDeferredValue(e)};_e.useEffect=function(e,t){return Yt.current.useEffect(e,t)};_e.useId=function(){return Yt.current.useId()};_e.useImperativeHandle=function(e,t,n){return Yt.current.useImperativeHandle(e,t,n)};_e.useInsertionEffect=function(e,t){return Yt.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return Yt.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return Yt.current.useMemo(e,t)};_e.useReducer=function(e,t,n){return Yt.current.useReducer(e,t,n)};_e.useRef=function(e){return Yt.current.useRef(e)};_e.useState=function(e){return Yt.current.useState(e)};_e.useSyncExternalStore=function(e,t,n){return Yt.current.useSyncExternalStore(e,t,n)};_e.useTransition=function(){return Yt.current.useTransition()};_e.version="18.3.1";t1.exports=_e;var f=t1.exports;const Ge=Jw(f),Jh=LI({__proto__:null,default:Ge},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eA=f,tA=Symbol.for("react.element"),nA=Symbol.for("react.fragment"),rA=Object.prototype.hasOwnProperty,oA=eA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sA={key:!0,ref:!0,__self:!0,__source:!0};function u1(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)rA.call(t,r)&&!sA.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:tA,type:e,key:s,ref:i,props:o,_owner:oA.current}}Ad.Fragment=nA;Ad.jsx=u1;Ad.jsxs=u1;e1.exports=Ad;var S=e1.exports,ep={},d1={exports:{}},Tn={},f1={exports:{}},h1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,k){var H=D.length;D.push(k);e:for(;0<H;){var ie=H-1>>>1,he=D[ie];if(0<o(he,k))D[ie]=k,D[H]=he,H=ie;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var k=D[0],H=D.pop();if(H!==k){D[0]=H;e:for(var ie=0,he=D.length,Ke=he>>>1;ie<Ke;){var Ve=2*(ie+1)-1,mt=D[Ve],$e=Ve+1,re=D[$e];if(0>o(mt,H))$e<he&&0>o(re,mt)?(D[ie]=re,D[$e]=H,ie=$e):(D[ie]=mt,D[Ve]=H,ie=Ve);else if($e<he&&0>o(re,H))D[ie]=re,D[$e]=H,ie=$e;else break e}}return k}function o(D,k){var H=D.sortIndex-k.sortIndex;return H!==0?H:D.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],u=1,d=null,h=3,m=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var k=n(c);k!==null;){if(k.callback===null)r(c);else if(k.startTime<=D)r(c),k.sortIndex=k.expirationTime,t(l,k);else break;k=n(c)}}function E(D){if(y=!1,_(D),!v)if(n(l)!==null)v=!0,te(x);else{var k=n(c);k!==null&&Y(E,k.startTime-D)}}function x(D,k){v=!1,y&&(y=!1,g(I),I=-1),m=!0;var H=h;try{for(_(k),d=n(l);d!==null&&(!(d.expirationTime>k)||D&&!oe());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,h=d.priorityLevel;var he=ie(d.expirationTime<=k);k=e.unstable_now(),typeof he=="function"?d.callback=he:d===n(l)&&r(l),_(k)}else r(l);d=n(l)}if(d!==null)var Ke=!0;else{var Ve=n(c);Ve!==null&&Y(E,Ve.startTime-k),Ke=!1}return Ke}finally{d=null,h=H,m=!1}}var b=!1,C=null,I=-1,F=5,V=-1;function oe(){return!(e.unstable_now()-V<F)}function P(){if(C!==null){var D=e.unstable_now();V=D;var k=!0;try{k=C(!0,D)}finally{k?G():(b=!1,C=null)}}else b=!1}var G;if(typeof p=="function")G=function(){p(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,U=N.port2;N.port1.onmessage=P,G=function(){U.postMessage(null)}}else G=function(){w(P,0)};function te(D){C=D,b||(b=!0,G())}function Y(D,k){I=w(function(){D(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,te(x))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var H=h;h=k;try{return D()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,k){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=h;h=D;try{return k()}finally{h=H}},e.unstable_scheduleCallback=function(D,k,H){var ie=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ie+H:ie):H=ie,D){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=H+he,D={id:u++,callback:k,priorityLevel:D,startTime:H,expirationTime:he,sortIndex:-1},H>ie?(D.sortIndex=H,t(c,D),n(l)===null&&D===n(c)&&(y?(g(I),I=-1):y=!0,Y(E,H-ie))):(D.sortIndex=he,t(l,D),v||m||(v=!0,te(x))),D},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(D){var k=h;return function(){var H=h;h=k;try{return D.apply(this,arguments)}finally{h=H}}}})(h1);f1.exports=h1;var iA=f1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aA=f,_n=iA;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p1=new Set,Fa={};function gs(e,t){hi(e,t),hi(e+"Capture",t)}function hi(e,t){for(Fa[e]=t,e=0;e<t.length;e++)p1.add(t[e])}var Rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tp=Object.prototype.hasOwnProperty,lA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$v={},Nv={};function cA(e){return tp.call(Nv,e)?!0:tp.call($v,e)?!1:lA.test(e)?Nv[e]=!0:($v[e]=!0,!1)}function uA(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dA(e,t,n,r){if(t===null||typeof t>"u"||uA(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xt(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kt[e]=new Xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kt[t]=new Xt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kt[e]=new Xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kt[e]=new Xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kt[e]=new Xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kt[e]=new Xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kt[e]=new Xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kt[e]=new Xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kt[e]=new Xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ym=/[\-:]([a-z])/g;function Xm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ym,Xm);kt[t]=new Xt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ym,Xm);kt[t]=new Xt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ym,Xm);kt[t]=new Xt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kt[e]=new Xt(e,1,!1,e.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kt[e]=new Xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jm(e,t,n,r){var o=kt.hasOwnProperty(t)?kt[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dA(t,n,o,r)&&(n=null),r||o===null?cA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ur=aA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pc=Symbol.for("react.element"),Ls=Symbol.for("react.portal"),Fs=Symbol.for("react.fragment"),eg=Symbol.for("react.strict_mode"),np=Symbol.for("react.profiler"),m1=Symbol.for("react.provider"),g1=Symbol.for("react.context"),tg=Symbol.for("react.forward_ref"),rp=Symbol.for("react.suspense"),op=Symbol.for("react.suspense_list"),ng=Symbol.for("react.memo"),Gr=Symbol.for("react.lazy"),y1=Symbol.for("react.offscreen"),Dv=Symbol.iterator;function Xi(e){return e===null||typeof e!="object"?null:(e=Dv&&e[Dv]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Object.assign,Hf;function fa(e){if(Hf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Hf=t&&t[1]||""}return`
`+Hf+e}var qf=!1;function Kf(e,t){if(!e||qf)return"";qf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{qf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fa(e):""}function fA(e){switch(e.tag){case 5:return fa(e.type);case 16:return fa("Lazy");case 13:return fa("Suspense");case 19:return fa("SuspenseList");case 0:case 2:case 15:return e=Kf(e.type,!1),e;case 11:return e=Kf(e.type.render,!1),e;case 1:return e=Kf(e.type,!0),e;default:return""}}function sp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fs:return"Fragment";case Ls:return"Portal";case np:return"Profiler";case eg:return"StrictMode";case rp:return"Suspense";case op:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case g1:return(e.displayName||"Context")+".Consumer";case m1:return(e._context.displayName||"Context")+".Provider";case tg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ng:return t=e.displayName||null,t!==null?t:sp(e.type)||"Memo";case Gr:t=e._payload,e=e._init;try{return sp(e(t))}catch{}}return null}function hA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sp(t);case 8:return t===eg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function v1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pA(e){var t=v1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mc(e){e._valueTracker||(e._valueTracker=pA(e))}function _1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=v1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ip(e,t){var n=t.checked;return Je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ov(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=yo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function w1(e,t){t=t.checked,t!=null&&Jm(e,"checked",t,!1)}function ap(e,t){w1(e,t);var n=yo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lp(e,t.type,n):t.hasOwnProperty("defaultValue")&&lp(e,t.type,yo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Mv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function lp(e,t,n){(t!=="number"||wu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ha=Array.isArray;function Js(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+yo(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function cp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return Je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(ha(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:yo(n)}}function E1(e,t){var n=yo(t.value),r=yo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Lv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function x1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function up(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?x1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gc,T1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gc=gc||document.createElement("div"),gc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ja(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ta={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mA=["Webkit","ms","Moz","O"];Object.keys(Ta).forEach(function(e){mA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ta[t]=Ta[e]})});function S1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ta.hasOwnProperty(e)&&Ta[e]?(""+t).trim():t+"px"}function b1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=S1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var gA=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dp(e,t){if(t){if(gA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function fp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hp=null;function rg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pp=null,ei=null,ti=null;function Fv(e){if(e=Bl(e)){if(typeof pp!="function")throw Error(M(280));var t=e.stateNode;t&&(t=Nd(t),pp(e.stateNode,e.type,t))}}function C1(e){ei?ti?ti.push(e):ti=[e]:ei=e}function I1(){if(ei){var e=ei,t=ti;if(ti=ei=null,Fv(e),t)for(e=0;e<t.length;e++)Fv(t[e])}}function A1(e,t){return e(t)}function R1(){}var Gf=!1;function k1(e,t,n){if(Gf)return e(t,n);Gf=!0;try{return A1(e,t,n)}finally{Gf=!1,(ei!==null||ti!==null)&&(R1(),I1())}}function Ua(e,t){var n=e.stateNode;if(n===null)return null;var r=Nd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var mp=!1;if(Rr)try{var Ji={};Object.defineProperty(Ji,"passive",{get:function(){mp=!0}}),window.addEventListener("test",Ji,Ji),window.removeEventListener("test",Ji,Ji)}catch{mp=!1}function yA(e,t,n,r,o,s,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Sa=!1,Eu=null,xu=!1,gp=null,vA={onError:function(e){Sa=!0,Eu=e}};function _A(e,t,n,r,o,s,i,a,l){Sa=!1,Eu=null,yA.apply(vA,arguments)}function wA(e,t,n,r,o,s,i,a,l){if(_A.apply(this,arguments),Sa){if(Sa){var c=Eu;Sa=!1,Eu=null}else throw Error(M(198));xu||(xu=!0,gp=c)}}function ys(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function P1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jv(e){if(ys(e)!==e)throw Error(M(188))}function EA(e){var t=e.alternate;if(!t){if(t=ys(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return jv(o),e;if(s===r)return jv(o),t;s=s.sibling}throw Error(M(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function $1(e){return e=EA(e),e!==null?N1(e):null}function N1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=N1(e);if(t!==null)return t;e=e.sibling}return null}var D1=_n.unstable_scheduleCallback,Uv=_n.unstable_cancelCallback,xA=_n.unstable_shouldYield,TA=_n.unstable_requestPaint,ot=_n.unstable_now,SA=_n.unstable_getCurrentPriorityLevel,og=_n.unstable_ImmediatePriority,O1=_n.unstable_UserBlockingPriority,Tu=_n.unstable_NormalPriority,bA=_n.unstable_LowPriority,M1=_n.unstable_IdlePriority,Rd=null,ir=null;function CA(e){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(Rd,e,void 0,(e.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:RA,IA=Math.log,AA=Math.LN2;function RA(e){return e>>>=0,e===0?32:31-(IA(e)/AA|0)|0}var yc=64,vc=4194304;function pa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Su(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=pa(a):(s&=i,s!==0&&(r=pa(s)))}else i=n&~o,i!==0?r=pa(i):s!==0&&(r=pa(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Un(t),o=1<<n,r|=e[n],t&=~o;return r}function kA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PA(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Un(s),a=1<<i,l=o[i];l===-1?(!(a&n)||a&r)&&(o[i]=kA(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function yp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function V1(){var e=yc;return yc<<=1,!(yc&4194240)&&(yc=64),e}function Qf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function jl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Un(t),e[t]=n}function $A(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Un(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function sg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Un(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var De=0;function L1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var F1,ig,j1,U1,B1,vp=!1,_c=[],ro=null,oo=null,so=null,Ba=new Map,za=new Map,Zr=[],NA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bv(e,t){switch(e){case"focusin":case"focusout":ro=null;break;case"dragenter":case"dragleave":oo=null;break;case"mouseover":case"mouseout":so=null;break;case"pointerover":case"pointerout":Ba.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":za.delete(t.pointerId)}}function ea(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Bl(t),t!==null&&ig(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function DA(e,t,n,r,o){switch(t){case"focusin":return ro=ea(ro,e,t,n,r,o),!0;case"dragenter":return oo=ea(oo,e,t,n,r,o),!0;case"mouseover":return so=ea(so,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return Ba.set(s,ea(Ba.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,za.set(s,ea(za.get(s)||null,e,t,n,r,o)),!0}return!1}function z1(e){var t=zo(e.target);if(t!==null){var n=ys(t);if(n!==null){if(t=n.tag,t===13){if(t=P1(n),t!==null){e.blockedOn=t,B1(e.priority,function(){j1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function eu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_p(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);hp=r,n.target.dispatchEvent(r),hp=null}else return t=Bl(n),t!==null&&ig(t),e.blockedOn=n,!1;t.shift()}return!0}function zv(e,t,n){eu(e)&&n.delete(t)}function OA(){vp=!1,ro!==null&&eu(ro)&&(ro=null),oo!==null&&eu(oo)&&(oo=null),so!==null&&eu(so)&&(so=null),Ba.forEach(zv),za.forEach(zv)}function ta(e,t){e.blockedOn===t&&(e.blockedOn=null,vp||(vp=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,OA)))}function Wa(e){function t(o){return ta(o,e)}if(0<_c.length){ta(_c[0],e);for(var n=1;n<_c.length;n++){var r=_c[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ro!==null&&ta(ro,e),oo!==null&&ta(oo,e),so!==null&&ta(so,e),Ba.forEach(t),za.forEach(t),n=0;n<Zr.length;n++)r=Zr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Zr.length&&(n=Zr[0],n.blockedOn===null);)z1(n),n.blockedOn===null&&Zr.shift()}var ni=Ur.ReactCurrentBatchConfig,bu=!0;function MA(e,t,n,r){var o=De,s=ni.transition;ni.transition=null;try{De=1,ag(e,t,n,r)}finally{De=o,ni.transition=s}}function VA(e,t,n,r){var o=De,s=ni.transition;ni.transition=null;try{De=4,ag(e,t,n,r)}finally{De=o,ni.transition=s}}function ag(e,t,n,r){if(bu){var o=_p(e,t,n,r);if(o===null)sh(e,t,r,Cu,n),Bv(e,r);else if(DA(o,e,t,n,r))r.stopPropagation();else if(Bv(e,r),t&4&&-1<NA.indexOf(e)){for(;o!==null;){var s=Bl(o);if(s!==null&&F1(s),s=_p(e,t,n,r),s===null&&sh(e,t,r,Cu,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else sh(e,t,r,null,n)}}var Cu=null;function _p(e,t,n,r){if(Cu=null,e=rg(r),e=zo(e),e!==null)if(t=ys(e),t===null)e=null;else if(n=t.tag,n===13){if(e=P1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cu=e,null}function W1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SA()){case og:return 1;case O1:return 4;case Tu:case bA:return 16;case M1:return 536870912;default:return 16}default:return 16}}var Jr=null,lg=null,tu=null;function H1(){if(tu)return tu;var e,t=lg,n=t.length,r,o="value"in Jr?Jr.value:Jr.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return tu=o.slice(e,1<r?1-r:void 0)}function nu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wc(){return!0}function Wv(){return!1}function Sn(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wc:Wv,this.isPropagationStopped=Wv,this}return Je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wc)},persist:function(){},isPersistent:wc}),t}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cg=Sn(Vi),Ul=Je({},Vi,{view:0,detail:0}),LA=Sn(Ul),Zf,Yf,na,kd=Je({},Ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ug,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==na&&(na&&e.type==="mousemove"?(Zf=e.screenX-na.screenX,Yf=e.screenY-na.screenY):Yf=Zf=0,na=e),Zf)},movementY:function(e){return"movementY"in e?e.movementY:Yf}}),Hv=Sn(kd),FA=Je({},kd,{dataTransfer:0}),jA=Sn(FA),UA=Je({},Ul,{relatedTarget:0}),Xf=Sn(UA),BA=Je({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),zA=Sn(BA),WA=Je({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),HA=Sn(WA),qA=Je({},Vi,{data:0}),qv=Sn(qA),KA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=QA[e])?!!t[e]:!1}function ug(){return ZA}var YA=Je({},Ul,{key:function(e){if(e.key){var t=KA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?GA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ug,charCode:function(e){return e.type==="keypress"?nu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),XA=Sn(YA),JA=Je({},kd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kv=Sn(JA),eR=Je({},Ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ug}),tR=Sn(eR),nR=Je({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),rR=Sn(nR),oR=Je({},kd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sR=Sn(oR),iR=[9,13,27,32],dg=Rr&&"CompositionEvent"in window,ba=null;Rr&&"documentMode"in document&&(ba=document.documentMode);var aR=Rr&&"TextEvent"in window&&!ba,q1=Rr&&(!dg||ba&&8<ba&&11>=ba),Gv=" ",Qv=!1;function K1(e,t){switch(e){case"keyup":return iR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var js=!1;function lR(e,t){switch(e){case"compositionend":return G1(t);case"keypress":return t.which!==32?null:(Qv=!0,Gv);case"textInput":return e=t.data,e===Gv&&Qv?null:e;default:return null}}function cR(e,t){if(js)return e==="compositionend"||!dg&&K1(e,t)?(e=H1(),tu=lg=Jr=null,js=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return q1&&t.locale!=="ko"?null:t.data;default:return null}}var uR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uR[e.type]:t==="textarea"}function Q1(e,t,n,r){C1(r),t=Iu(t,"onChange"),0<t.length&&(n=new cg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ca=null,Ha=null;function dR(e){iE(e,0)}function Pd(e){var t=zs(e);if(_1(t))return e}function fR(e,t){if(e==="change")return t}var Z1=!1;if(Rr){var Jf;if(Rr){var eh="oninput"in document;if(!eh){var Yv=document.createElement("div");Yv.setAttribute("oninput","return;"),eh=typeof Yv.oninput=="function"}Jf=eh}else Jf=!1;Z1=Jf&&(!document.documentMode||9<document.documentMode)}function Xv(){Ca&&(Ca.detachEvent("onpropertychange",Y1),Ha=Ca=null)}function Y1(e){if(e.propertyName==="value"&&Pd(Ha)){var t=[];Q1(t,Ha,e,rg(e)),k1(dR,t)}}function hR(e,t,n){e==="focusin"?(Xv(),Ca=t,Ha=n,Ca.attachEvent("onpropertychange",Y1)):e==="focusout"&&Xv()}function pR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pd(Ha)}function mR(e,t){if(e==="click")return Pd(t)}function gR(e,t){if(e==="input"||e==="change")return Pd(t)}function yR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qn=typeof Object.is=="function"?Object.is:yR;function qa(e,t){if(qn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!tp.call(t,o)||!qn(e[o],t[o]))return!1}return!0}function Jv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function e0(e,t){var n=Jv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jv(n)}}function X1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?X1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function J1(){for(var e=window,t=wu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wu(e.document)}return t}function fg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vR(e){var t=J1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&X1(n.ownerDocument.documentElement,n)){if(r!==null&&fg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=e0(n,s);var i=e0(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _R=Rr&&"documentMode"in document&&11>=document.documentMode,Us=null,wp=null,Ia=null,Ep=!1;function t0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ep||Us==null||Us!==wu(r)||(r=Us,"selectionStart"in r&&fg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ia&&qa(Ia,r)||(Ia=r,r=Iu(wp,"onSelect"),0<r.length&&(t=new cg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Us)))}function Ec(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bs={animationend:Ec("Animation","AnimationEnd"),animationiteration:Ec("Animation","AnimationIteration"),animationstart:Ec("Animation","AnimationStart"),transitionend:Ec("Transition","TransitionEnd")},th={},eE={};Rr&&(eE=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function $d(e){if(th[e])return th[e];if(!Bs[e])return e;var t=Bs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in eE)return th[e]=t[n];return e}var tE=$d("animationend"),nE=$d("animationiteration"),rE=$d("animationstart"),oE=$d("transitionend"),sE=new Map,n0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Po(e,t){sE.set(e,t),gs(t,[e])}for(var nh=0;nh<n0.length;nh++){var rh=n0[nh],wR=rh.toLowerCase(),ER=rh[0].toUpperCase()+rh.slice(1);Po(wR,"on"+ER)}Po(tE,"onAnimationEnd");Po(nE,"onAnimationIteration");Po(rE,"onAnimationStart");Po("dblclick","onDoubleClick");Po("focusin","onFocus");Po("focusout","onBlur");Po(oE,"onTransitionEnd");hi("onMouseEnter",["mouseout","mouseover"]);hi("onMouseLeave",["mouseout","mouseover"]);hi("onPointerEnter",["pointerout","pointerover"]);hi("onPointerLeave",["pointerout","pointerover"]);gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xR=new Set("cancel close invalid load scroll toggle".split(" ").concat(ma));function r0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,wA(r,t,void 0,e),e.currentTarget=null}function iE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;r0(o,a,c),s=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;r0(o,a,c),s=l}}}if(xu)throw e=gp,xu=!1,gp=null,e}function Be(e,t){var n=t[Cp];n===void 0&&(n=t[Cp]=new Set);var r=e+"__bubble";n.has(r)||(aE(t,e,2,!1),n.add(r))}function oh(e,t,n){var r=0;t&&(r|=4),aE(n,e,r,t)}var xc="_reactListening"+Math.random().toString(36).slice(2);function Ka(e){if(!e[xc]){e[xc]=!0,p1.forEach(function(n){n!=="selectionchange"&&(xR.has(n)||oh(n,!1,e),oh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xc]||(t[xc]=!0,oh("selectionchange",!1,t))}}function aE(e,t,n,r){switch(W1(t)){case 1:var o=MA;break;case 4:o=VA;break;default:o=ag}n=o.bind(null,t,n,e),o=void 0,!mp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function sh(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=zo(a),i===null)return;if(l=i.tag,l===5||l===6){r=s=i;continue e}a=a.parentNode}}r=r.return}k1(function(){var c=s,u=rg(n),d=[];e:{var h=sE.get(e);if(h!==void 0){var m=cg,v=e;switch(e){case"keypress":if(nu(n)===0)break e;case"keydown":case"keyup":m=XA;break;case"focusin":v="focus",m=Xf;break;case"focusout":v="blur",m=Xf;break;case"beforeblur":case"afterblur":m=Xf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Hv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=jA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=tR;break;case tE:case nE:case rE:m=zA;break;case oE:m=rR;break;case"scroll":m=LA;break;case"wheel":m=sR;break;case"copy":case"cut":case"paste":m=HA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Kv}var y=(t&4)!==0,w=!y&&e==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var p=c,_;p!==null;){_=p;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,g!==null&&(E=Ua(p,g),E!=null&&y.push(Ga(p,E,_)))),w)break;p=p.return}0<y.length&&(h=new m(h,v,null,n,u),d.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==hp&&(v=n.relatedTarget||n.fromElement)&&(zo(v)||v[kr]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?zo(v):null,v!==null&&(w=ys(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(y=Hv,E="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=Kv,E="onPointerLeave",g="onPointerEnter",p="pointer"),w=m==null?h:zs(m),_=v==null?h:zs(v),h=new y(E,p+"leave",m,n,u),h.target=w,h.relatedTarget=_,E=null,zo(u)===c&&(y=new y(g,p+"enter",v,n,u),y.target=_,y.relatedTarget=w,E=y),w=E,m&&v)t:{for(y=m,g=v,p=0,_=y;_;_=As(_))p++;for(_=0,E=g;E;E=As(E))_++;for(;0<p-_;)y=As(y),p--;for(;0<_-p;)g=As(g),_--;for(;p--;){if(y===g||g!==null&&y===g.alternate)break t;y=As(y),g=As(g)}y=null}else y=null;m!==null&&o0(d,h,m,y,!1),v!==null&&w!==null&&o0(d,w,v,y,!0)}}e:{if(h=c?zs(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var x=fR;else if(Zv(h))if(Z1)x=gR;else{x=pR;var b=hR}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=mR);if(x&&(x=x(e,c))){Q1(d,x,n,u);break e}b&&b(e,h,c),e==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&lp(h,"number",h.value)}switch(b=c?zs(c):window,e){case"focusin":(Zv(b)||b.contentEditable==="true")&&(Us=b,wp=c,Ia=null);break;case"focusout":Ia=wp=Us=null;break;case"mousedown":Ep=!0;break;case"contextmenu":case"mouseup":case"dragend":Ep=!1,t0(d,n,u);break;case"selectionchange":if(_R)break;case"keydown":case"keyup":t0(d,n,u)}var C;if(dg)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else js?K1(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(q1&&n.locale!=="ko"&&(js||I!=="onCompositionStart"?I==="onCompositionEnd"&&js&&(C=H1()):(Jr=u,lg="value"in Jr?Jr.value:Jr.textContent,js=!0)),b=Iu(c,I),0<b.length&&(I=new qv(I,e,null,n,u),d.push({event:I,listeners:b}),C?I.data=C:(C=G1(n),C!==null&&(I.data=C)))),(C=aR?lR(e,n):cR(e,n))&&(c=Iu(c,"onBeforeInput"),0<c.length&&(u=new qv("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}iE(d,t)})}function Ga(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Iu(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Ua(e,n),s!=null&&r.unshift(Ga(e,s,o)),s=Ua(e,t),s!=null&&r.push(Ga(e,s,o))),e=e.return}return r}function As(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function o0(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=Ua(n,s),l!=null&&i.unshift(Ga(n,l,a))):o||(l=Ua(n,s),l!=null&&i.push(Ga(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var TR=/\r\n?/g,SR=/\u0000|\uFFFD/g;function s0(e){return(typeof e=="string"?e:""+e).replace(TR,`
`).replace(SR,"")}function Tc(e,t,n){if(t=s0(t),s0(e)!==t&&n)throw Error(M(425))}function Au(){}var xp=null,Tp=null;function Sp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bp=typeof setTimeout=="function"?setTimeout:void 0,bR=typeof clearTimeout=="function"?clearTimeout:void 0,i0=typeof Promise=="function"?Promise:void 0,CR=typeof queueMicrotask=="function"?queueMicrotask:typeof i0<"u"?function(e){return i0.resolve(null).then(e).catch(IR)}:bp;function IR(e){setTimeout(function(){throw e})}function ih(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Wa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Wa(t)}function io(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function a0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Li=Math.random().toString(36).slice(2),er="__reactFiber$"+Li,Qa="__reactProps$"+Li,kr="__reactContainer$"+Li,Cp="__reactEvents$"+Li,AR="__reactListeners$"+Li,RR="__reactHandles$"+Li;function zo(e){var t=e[er];if(t)return t;for(var n=e.parentNode;n;){if(t=n[kr]||n[er]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=a0(e);e!==null;){if(n=e[er])return n;e=a0(e)}return t}e=n,n=e.parentNode}return null}function Bl(e){return e=e[er]||e[kr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function Nd(e){return e[Qa]||null}var Ip=[],Ws=-1;function $o(e){return{current:e}}function He(e){0>Ws||(e.current=Ip[Ws],Ip[Ws]=null,Ws--)}function Le(e,t){Ws++,Ip[Ws]=e.current,e.current=t}var vo={},Ut=$o(vo),rn=$o(!1),ts=vo;function pi(e,t){var n=e.type.contextTypes;if(!n)return vo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function on(e){return e=e.childContextTypes,e!=null}function Ru(){He(rn),He(Ut)}function l0(e,t,n){if(Ut.current!==vo)throw Error(M(168));Le(Ut,t),Le(rn,n)}function lE(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(M(108,hA(e)||"Unknown",o));return Je({},n,r)}function ku(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vo,ts=Ut.current,Le(Ut,e),Le(rn,rn.current),!0}function c0(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=lE(e,t,ts),r.__reactInternalMemoizedMergedChildContext=e,He(rn),He(Ut),Le(Ut,e)):He(rn),Le(rn,n)}var xr=null,Dd=!1,ah=!1;function cE(e){xr===null?xr=[e]:xr.push(e)}function kR(e){Dd=!0,cE(e)}function No(){if(!ah&&xr!==null){ah=!0;var e=0,t=De;try{var n=xr;for(De=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}xr=null,Dd=!1}catch(o){throw xr!==null&&(xr=xr.slice(e+1)),D1(og,No),o}finally{De=t,ah=!1}}return null}var Hs=[],qs=0,Pu=null,$u=0,Cn=[],In=0,ns=null,Sr=1,br="";function Fo(e,t){Hs[qs++]=$u,Hs[qs++]=Pu,Pu=e,$u=t}function uE(e,t,n){Cn[In++]=Sr,Cn[In++]=br,Cn[In++]=ns,ns=e;var r=Sr;e=br;var o=32-Un(r)-1;r&=~(1<<o),n+=1;var s=32-Un(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Sr=1<<32-Un(t)+o|n<<o|r,br=s+e}else Sr=1<<s|n<<o|r,br=e}function hg(e){e.return!==null&&(Fo(e,1),uE(e,1,0))}function pg(e){for(;e===Pu;)Pu=Hs[--qs],Hs[qs]=null,$u=Hs[--qs],Hs[qs]=null;for(;e===ns;)ns=Cn[--In],Cn[In]=null,br=Cn[--In],Cn[In]=null,Sr=Cn[--In],Cn[In]=null}var mn=null,fn=null,Qe=!1,Vn=null;function dE(e,t){var n=Rn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function u0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mn=e,fn=io(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mn=e,fn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ns!==null?{id:Sr,overflow:br}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Rn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mn=e,fn=null,!0):!1;default:return!1}}function Ap(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Rp(e){if(Qe){var t=fn;if(t){var n=t;if(!u0(e,t)){if(Ap(e))throw Error(M(418));t=io(n.nextSibling);var r=mn;t&&u0(e,t)?dE(r,n):(e.flags=e.flags&-4097|2,Qe=!1,mn=e)}}else{if(Ap(e))throw Error(M(418));e.flags=e.flags&-4097|2,Qe=!1,mn=e}}}function d0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mn=e}function Sc(e){if(e!==mn)return!1;if(!Qe)return d0(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Sp(e.type,e.memoizedProps)),t&&(t=fn)){if(Ap(e))throw fE(),Error(M(418));for(;t;)dE(e,t),t=io(t.nextSibling)}if(d0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){fn=io(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}fn=null}}else fn=mn?io(e.stateNode.nextSibling):null;return!0}function fE(){for(var e=fn;e;)e=io(e.nextSibling)}function mi(){fn=mn=null,Qe=!1}function mg(e){Vn===null?Vn=[e]:Vn.push(e)}var PR=Ur.ReactCurrentBatchConfig;function ra(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function bc(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function f0(e){var t=e._init;return t(e._payload)}function hE(e){function t(g,p){if(e){var _=g.deletions;_===null?(g.deletions=[p],g.flags|=16):_.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function o(g,p){return g=uo(g,p),g.index=0,g.sibling=null,g}function s(g,p,_){return g.index=_,e?(_=g.alternate,_!==null?(_=_.index,_<p?(g.flags|=2,p):_):(g.flags|=2,p)):(g.flags|=1048576,p)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,p,_,E){return p===null||p.tag!==6?(p=ph(_,g.mode,E),p.return=g,p):(p=o(p,_),p.return=g,p)}function l(g,p,_,E){var x=_.type;return x===Fs?u(g,p,_.props.children,E,_.key):p!==null&&(p.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Gr&&f0(x)===p.type)?(E=o(p,_.props),E.ref=ra(g,p,_),E.return=g,E):(E=cu(_.type,_.key,_.props,null,g.mode,E),E.ref=ra(g,p,_),E.return=g,E)}function c(g,p,_,E){return p===null||p.tag!==4||p.stateNode.containerInfo!==_.containerInfo||p.stateNode.implementation!==_.implementation?(p=mh(_,g.mode,E),p.return=g,p):(p=o(p,_.children||[]),p.return=g,p)}function u(g,p,_,E,x){return p===null||p.tag!==7?(p=Xo(_,g.mode,E,x),p.return=g,p):(p=o(p,_),p.return=g,p)}function d(g,p,_){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ph(""+p,g.mode,_),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case pc:return _=cu(p.type,p.key,p.props,null,g.mode,_),_.ref=ra(g,null,p),_.return=g,_;case Ls:return p=mh(p,g.mode,_),p.return=g,p;case Gr:var E=p._init;return d(g,E(p._payload),_)}if(ha(p)||Xi(p))return p=Xo(p,g.mode,_,null),p.return=g,p;bc(g,p)}return null}function h(g,p,_,E){var x=p!==null?p.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return x!==null?null:a(g,p,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case pc:return _.key===x?l(g,p,_,E):null;case Ls:return _.key===x?c(g,p,_,E):null;case Gr:return x=_._init,h(g,p,x(_._payload),E)}if(ha(_)||Xi(_))return x!==null?null:u(g,p,_,E,null);bc(g,_)}return null}function m(g,p,_,E,x){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(_)||null,a(p,g,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case pc:return g=g.get(E.key===null?_:E.key)||null,l(p,g,E,x);case Ls:return g=g.get(E.key===null?_:E.key)||null,c(p,g,E,x);case Gr:var b=E._init;return m(g,p,_,b(E._payload),x)}if(ha(E)||Xi(E))return g=g.get(_)||null,u(p,g,E,x,null);bc(p,E)}return null}function v(g,p,_,E){for(var x=null,b=null,C=p,I=p=0,F=null;C!==null&&I<_.length;I++){C.index>I?(F=C,C=null):F=C.sibling;var V=h(g,C,_[I],E);if(V===null){C===null&&(C=F);break}e&&C&&V.alternate===null&&t(g,C),p=s(V,p,I),b===null?x=V:b.sibling=V,b=V,C=F}if(I===_.length)return n(g,C),Qe&&Fo(g,I),x;if(C===null){for(;I<_.length;I++)C=d(g,_[I],E),C!==null&&(p=s(C,p,I),b===null?x=C:b.sibling=C,b=C);return Qe&&Fo(g,I),x}for(C=r(g,C);I<_.length;I++)F=m(C,g,I,_[I],E),F!==null&&(e&&F.alternate!==null&&C.delete(F.key===null?I:F.key),p=s(F,p,I),b===null?x=F:b.sibling=F,b=F);return e&&C.forEach(function(oe){return t(g,oe)}),Qe&&Fo(g,I),x}function y(g,p,_,E){var x=Xi(_);if(typeof x!="function")throw Error(M(150));if(_=x.call(_),_==null)throw Error(M(151));for(var b=x=null,C=p,I=p=0,F=null,V=_.next();C!==null&&!V.done;I++,V=_.next()){C.index>I?(F=C,C=null):F=C.sibling;var oe=h(g,C,V.value,E);if(oe===null){C===null&&(C=F);break}e&&C&&oe.alternate===null&&t(g,C),p=s(oe,p,I),b===null?x=oe:b.sibling=oe,b=oe,C=F}if(V.done)return n(g,C),Qe&&Fo(g,I),x;if(C===null){for(;!V.done;I++,V=_.next())V=d(g,V.value,E),V!==null&&(p=s(V,p,I),b===null?x=V:b.sibling=V,b=V);return Qe&&Fo(g,I),x}for(C=r(g,C);!V.done;I++,V=_.next())V=m(C,g,I,V.value,E),V!==null&&(e&&V.alternate!==null&&C.delete(V.key===null?I:V.key),p=s(V,p,I),b===null?x=V:b.sibling=V,b=V);return e&&C.forEach(function(P){return t(g,P)}),Qe&&Fo(g,I),x}function w(g,p,_,E){if(typeof _=="object"&&_!==null&&_.type===Fs&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case pc:e:{for(var x=_.key,b=p;b!==null;){if(b.key===x){if(x=_.type,x===Fs){if(b.tag===7){n(g,b.sibling),p=o(b,_.props.children),p.return=g,g=p;break e}}else if(b.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Gr&&f0(x)===b.type){n(g,b.sibling),p=o(b,_.props),p.ref=ra(g,b,_),p.return=g,g=p;break e}n(g,b);break}else t(g,b);b=b.sibling}_.type===Fs?(p=Xo(_.props.children,g.mode,E,_.key),p.return=g,g=p):(E=cu(_.type,_.key,_.props,null,g.mode,E),E.ref=ra(g,p,_),E.return=g,g=E)}return i(g);case Ls:e:{for(b=_.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===_.containerInfo&&p.stateNode.implementation===_.implementation){n(g,p.sibling),p=o(p,_.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=mh(_,g.mode,E),p.return=g,g=p}return i(g);case Gr:return b=_._init,w(g,p,b(_._payload),E)}if(ha(_))return v(g,p,_,E);if(Xi(_))return y(g,p,_,E);bc(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,p!==null&&p.tag===6?(n(g,p.sibling),p=o(p,_),p.return=g,g=p):(n(g,p),p=ph(_,g.mode,E),p.return=g,g=p),i(g)):n(g,p)}return w}var gi=hE(!0),pE=hE(!1),Nu=$o(null),Du=null,Ks=null,gg=null;function yg(){gg=Ks=Du=null}function vg(e){var t=Nu.current;He(Nu),e._currentValue=t}function kp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ri(e,t){Du=e,gg=Ks=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nn=!0),e.firstContext=null)}function Pn(e){var t=e._currentValue;if(gg!==e)if(e={context:e,memoizedValue:t,next:null},Ks===null){if(Du===null)throw Error(M(308));Ks=e,Du.dependencies={lanes:0,firstContext:e}}else Ks=Ks.next=e;return t}var Wo=null;function _g(e){Wo===null?Wo=[e]:Wo.push(e)}function mE(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,_g(t)):(n.next=o.next,o.next=n),t.interleaved=n,Pr(e,r)}function Pr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Qr=!1;function wg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ir(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ao(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Pr(e,n)}return o=r.interleaved,o===null?(t.next=t,_g(r)):(t.next=o.next,o.next=t),r.interleaved=t,Pr(e,n)}function ru(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,sg(e,n)}}function h0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ou(e,t,n,r){var o=e.updateQueue;Qr=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==i&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=o.baseState;i=0,u=c=l=null,a=s;do{var h=a.lane,m=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,y=a;switch(h=t,m=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(m,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(m,d,h):v,h==null)break e;d=Je({},d,h);break e;case 2:Qr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,i|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(u===null&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);os|=i,e.lanes=i,e.memoizedState=d}}function p0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(M(191,o));o.call(r)}}}var zl={},ar=$o(zl),Za=$o(zl),Ya=$o(zl);function Ho(e){if(e===zl)throw Error(M(174));return e}function Eg(e,t){switch(Le(Ya,t),Le(Za,e),Le(ar,zl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:up(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=up(t,e)}He(ar),Le(ar,t)}function yi(){He(ar),He(Za),He(Ya)}function yE(e){Ho(Ya.current);var t=Ho(ar.current),n=up(t,e.type);t!==n&&(Le(Za,e),Le(ar,n))}function xg(e){Za.current===e&&(He(ar),He(Za))}var Ye=$o(0);function Mu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lh=[];function Tg(){for(var e=0;e<lh.length;e++)lh[e]._workInProgressVersionPrimary=null;lh.length=0}var ou=Ur.ReactCurrentDispatcher,ch=Ur.ReactCurrentBatchConfig,rs=0,Xe=null,dt=null,vt=null,Vu=!1,Aa=!1,Xa=0,$R=0;function Nt(){throw Error(M(321))}function Sg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qn(e[n],t[n]))return!1;return!0}function bg(e,t,n,r,o,s){if(rs=s,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ou.current=e===null||e.memoizedState===null?MR:VR,e=n(r,o),Aa){s=0;do{if(Aa=!1,Xa=0,25<=s)throw Error(M(301));s+=1,vt=dt=null,t.updateQueue=null,ou.current=LR,e=n(r,o)}while(Aa)}if(ou.current=Lu,t=dt!==null&&dt.next!==null,rs=0,vt=dt=Xe=null,Vu=!1,t)throw Error(M(300));return e}function Cg(){var e=Xa!==0;return Xa=0,e}function Jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Xe.memoizedState=vt=e:vt=vt.next=e,vt}function $n(){if(dt===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=vt===null?Xe.memoizedState:vt.next;if(t!==null)vt=t,dt=e;else{if(e===null)throw Error(M(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},vt===null?Xe.memoizedState=vt=e:vt=vt.next=e}return vt}function Ja(e,t){return typeof t=="function"?t(e):t}function uh(e){var t=$n(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=dt,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,l=null,c=s;do{var u=c.lane;if((rs&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,i=r):l=l.next=d,Xe.lanes|=u,os|=u}c=c.next}while(c!==null&&c!==s);l===null?i=r:l.next=a,qn(r,t.memoizedState)||(nn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,Xe.lanes|=s,os|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function dh(e){var t=$n(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);qn(s,t.memoizedState)||(nn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function vE(){}function _E(e,t){var n=Xe,r=$n(),o=t(),s=!qn(r.memoizedState,o);if(s&&(r.memoizedState=o,nn=!0),r=r.queue,Ig(xE.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,el(9,EE.bind(null,n,r,o,t),void 0,null),_t===null)throw Error(M(349));rs&30||wE(n,t,o)}return o}function wE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function EE(e,t,n,r){t.value=n,t.getSnapshot=r,TE(t)&&SE(e)}function xE(e,t,n){return n(function(){TE(t)&&SE(e)})}function TE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qn(e,n)}catch{return!0}}function SE(e){var t=Pr(e,1);t!==null&&Bn(t,e,1,-1)}function m0(e){var t=Jn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:e},t.queue=e,e=e.dispatch=OR.bind(null,Xe,e),[t.memoizedState,e]}function el(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function bE(){return $n().memoizedState}function su(e,t,n,r){var o=Jn();Xe.flags|=e,o.memoizedState=el(1|t,n,void 0,r===void 0?null:r)}function Od(e,t,n,r){var o=$n();r=r===void 0?null:r;var s=void 0;if(dt!==null){var i=dt.memoizedState;if(s=i.destroy,r!==null&&Sg(r,i.deps)){o.memoizedState=el(t,n,s,r);return}}Xe.flags|=e,o.memoizedState=el(1|t,n,s,r)}function g0(e,t){return su(8390656,8,e,t)}function Ig(e,t){return Od(2048,8,e,t)}function CE(e,t){return Od(4,2,e,t)}function IE(e,t){return Od(4,4,e,t)}function AE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function RE(e,t,n){return n=n!=null?n.concat([e]):null,Od(4,4,AE.bind(null,t,e),n)}function Ag(){}function kE(e,t){var n=$n();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Sg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function PE(e,t){var n=$n();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Sg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $E(e,t,n){return rs&21?(qn(n,t)||(n=V1(),Xe.lanes|=n,os|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nn=!0),e.memoizedState=n)}function NR(e,t){var n=De;De=n!==0&&4>n?n:4,e(!0);var r=ch.transition;ch.transition={};try{e(!1),t()}finally{De=n,ch.transition=r}}function NE(){return $n().memoizedState}function DR(e,t,n){var r=co(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},DE(e))OE(t,n);else if(n=mE(e,t,n,r),n!==null){var o=Kt();Bn(n,e,r,o),ME(n,t,r)}}function OR(e,t,n){var r=co(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(DE(e))OE(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,qn(a,i)){var l=t.interleaved;l===null?(o.next=o,_g(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=mE(e,t,o,r),n!==null&&(o=Kt(),Bn(n,e,r,o),ME(n,t,r))}}function DE(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function OE(e,t){Aa=Vu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ME(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,sg(e,n)}}var Lu={readContext:Pn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},MR={readContext:Pn,useCallback:function(e,t){return Jn().memoizedState=[e,t===void 0?null:t],e},useContext:Pn,useEffect:g0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,su(4194308,4,AE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return su(4194308,4,e,t)},useInsertionEffect:function(e,t){return su(4,2,e,t)},useMemo:function(e,t){var n=Jn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Jn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=DR.bind(null,Xe,e),[r.memoizedState,e]},useRef:function(e){var t=Jn();return e={current:e},t.memoizedState=e},useState:m0,useDebugValue:Ag,useDeferredValue:function(e){return Jn().memoizedState=e},useTransition:function(){var e=m0(!1),t=e[0];return e=NR.bind(null,e[1]),Jn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xe,o=Jn();if(Qe){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),_t===null)throw Error(M(349));rs&30||wE(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,g0(xE.bind(null,r,s,e),[e]),r.flags|=2048,el(9,EE.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Jn(),t=_t.identifierPrefix;if(Qe){var n=br,r=Sr;n=(r&~(1<<32-Un(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$R++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},VR={readContext:Pn,useCallback:kE,useContext:Pn,useEffect:Ig,useImperativeHandle:RE,useInsertionEffect:CE,useLayoutEffect:IE,useMemo:PE,useReducer:uh,useRef:bE,useState:function(){return uh(Ja)},useDebugValue:Ag,useDeferredValue:function(e){var t=$n();return $E(t,dt.memoizedState,e)},useTransition:function(){var e=uh(Ja)[0],t=$n().memoizedState;return[e,t]},useMutableSource:vE,useSyncExternalStore:_E,useId:NE,unstable_isNewReconciler:!1},LR={readContext:Pn,useCallback:kE,useContext:Pn,useEffect:Ig,useImperativeHandle:RE,useInsertionEffect:CE,useLayoutEffect:IE,useMemo:PE,useReducer:dh,useRef:bE,useState:function(){return dh(Ja)},useDebugValue:Ag,useDeferredValue:function(e){var t=$n();return dt===null?t.memoizedState=e:$E(t,dt.memoizedState,e)},useTransition:function(){var e=dh(Ja)[0],t=$n().memoizedState;return[e,t]},useMutableSource:vE,useSyncExternalStore:_E,useId:NE,unstable_isNewReconciler:!1};function On(e,t){if(e&&e.defaultProps){t=Je({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Pp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Je({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Md={isMounted:function(e){return(e=e._reactInternals)?ys(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kt(),o=co(e),s=Ir(r,o);s.payload=t,n!=null&&(s.callback=n),t=ao(e,s,o),t!==null&&(Bn(t,e,o,r),ru(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kt(),o=co(e),s=Ir(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ao(e,s,o),t!==null&&(Bn(t,e,o,r),ru(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kt(),r=co(e),o=Ir(n,r);o.tag=2,t!=null&&(o.callback=t),t=ao(e,o,r),t!==null&&(Bn(t,e,r,n),ru(t,e,r))}};function y0(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!qa(n,r)||!qa(o,s):!0}function VE(e,t,n){var r=!1,o=vo,s=t.contextType;return typeof s=="object"&&s!==null?s=Pn(s):(o=on(t)?ts:Ut.current,r=t.contextTypes,s=(r=r!=null)?pi(e,o):vo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Md,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function v0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Md.enqueueReplaceState(t,t.state,null)}function $p(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},wg(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=Pn(s):(s=on(t)?ts:Ut.current,o.context=pi(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Pp(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Md.enqueueReplaceState(o,o.state,null),Ou(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function vi(e,t){try{var n="",r=t;do n+=fA(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function fh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Np(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var FR=typeof WeakMap=="function"?WeakMap:Map;function LE(e,t,n){n=Ir(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ju||(ju=!0,zp=r),Np(e,t)},n}function FE(e,t,n){n=Ir(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Np(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Np(e,t),typeof r!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function _0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new FR;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=JR.bind(null,e,t,n),t.then(e,e))}function w0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function E0(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ir(-1,1),t.tag=2,ao(n,t,1))),n.lanes|=1),e)}var jR=Ur.ReactCurrentOwner,nn=!1;function Wt(e,t,n,r){t.child=e===null?pE(t,null,n,r):gi(t,e.child,n,r)}function x0(e,t,n,r,o){n=n.render;var s=t.ref;return ri(t,o),r=bg(e,t,n,r,s,o),n=Cg(),e!==null&&!nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,$r(e,t,o)):(Qe&&n&&hg(t),t.flags|=1,Wt(e,t,r,o),t.child)}function T0(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!Mg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,jE(e,t,s,r,o)):(e=cu(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:qa,n(i,r)&&e.ref===t.ref)return $r(e,t,o)}return t.flags|=1,e=uo(s,r),e.ref=t.ref,e.return=t,t.child=e}function jE(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(qa(s,r)&&e.ref===t.ref)if(nn=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(nn=!0);else return t.lanes=e.lanes,$r(e,t,o)}return Dp(e,t,n,r,o)}function UE(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Qs,un),un|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(Qs,un),un|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Le(Qs,un),un|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Le(Qs,un),un|=r;return Wt(e,t,o,n),t.child}function BE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Dp(e,t,n,r,o){var s=on(n)?ts:Ut.current;return s=pi(t,s),ri(t,o),n=bg(e,t,n,r,s,o),r=Cg(),e!==null&&!nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,$r(e,t,o)):(Qe&&r&&hg(t),t.flags|=1,Wt(e,t,n,o),t.child)}function S0(e,t,n,r,o){if(on(n)){var s=!0;ku(t)}else s=!1;if(ri(t,o),t.stateNode===null)iu(e,t),VE(t,n,r),$p(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Pn(c):(c=on(n)?ts:Ut.current,c=pi(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&v0(t,i,r,c),Qr=!1;var h=t.memoizedState;i.state=h,Ou(t,r,i,o),l=t.memoizedState,a!==r||h!==l||rn.current||Qr?(typeof u=="function"&&(Pp(t,n,u,r),l=t.memoizedState),(a=Qr||y0(t,n,a,r,h,l,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,gE(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:On(t.type,a),i.props=c,d=t.pendingProps,h=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Pn(l):(l=on(n)?ts:Ut.current,l=pi(t,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==d||h!==l)&&v0(t,i,r,l),Qr=!1,h=t.memoizedState,i.state=h,Ou(t,r,i,o);var v=t.memoizedState;a!==d||h!==v||rn.current||Qr?(typeof m=="function"&&(Pp(t,n,m,r),v=t.memoizedState),(c=Qr||y0(t,n,c,r,h,v,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),i.props=r,i.state=v,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Op(e,t,n,r,s,o)}function Op(e,t,n,r,o,s){BE(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&c0(t,n,!1),$r(e,t,s);r=t.stateNode,jR.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=gi(t,e.child,null,s),t.child=gi(t,null,a,s)):Wt(e,t,a,s),t.memoizedState=r.state,o&&c0(t,n,!0),t.child}function zE(e){var t=e.stateNode;t.pendingContext?l0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&l0(e,t.context,!1),Eg(e,t.containerInfo)}function b0(e,t,n,r,o){return mi(),mg(o),t.flags|=256,Wt(e,t,n,r),t.child}var Mp={dehydrated:null,treeContext:null,retryLane:0};function Vp(e){return{baseLanes:e,cachePool:null,transitions:null}}function WE(e,t,n){var r=t.pendingProps,o=Ye.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Le(Ye,o&1),e===null)return Rp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Fd(i,r,0,null),e=Xo(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Vp(n),t.memoizedState=Mp,e):Rg(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return UR(e,t,i,r,a,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=uo(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=uo(a,s):(s=Xo(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?Vp(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=Mp,r}return s=e.child,e=s.sibling,r=uo(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Rg(e,t){return t=Fd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cc(e,t,n,r){return r!==null&&mg(r),gi(t,e.child,null,n),e=Rg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function UR(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=fh(Error(M(422))),Cc(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Fd({mode:"visible",children:r.children},o,0,null),s=Xo(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&gi(t,e.child,null,i),t.child.memoizedState=Vp(i),t.memoizedState=Mp,s);if(!(t.mode&1))return Cc(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(M(419)),r=fh(s,r,void 0),Cc(e,t,i,r)}if(a=(i&e.childLanes)!==0,nn||a){if(r=_t,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Pr(e,o),Bn(r,e,o,-1))}return Og(),r=fh(Error(M(421))),Cc(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=ek.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,fn=io(o.nextSibling),mn=t,Qe=!0,Vn=null,e!==null&&(Cn[In++]=Sr,Cn[In++]=br,Cn[In++]=ns,Sr=e.id,br=e.overflow,ns=t),t=Rg(t,r.children),t.flags|=4096,t)}function C0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),kp(e.return,t,n)}function hh(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function HE(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Wt(e,t,r.children,n),r=Ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&C0(e,n,t);else if(e.tag===19)C0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Le(Ye,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Mu(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),hh(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Mu(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}hh(t,!0,n,null,s);break;case"together":hh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function iu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $r(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),os|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=uo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=uo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function BR(e,t,n){switch(t.tag){case 3:zE(t),mi();break;case 5:yE(t);break;case 1:on(t.type)&&ku(t);break;case 4:Eg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Le(Nu,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Le(Ye,Ye.current&1),t.flags|=128,null):n&t.child.childLanes?WE(e,t,n):(Le(Ye,Ye.current&1),e=$r(e,t,n),e!==null?e.sibling:null);Le(Ye,Ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return HE(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Le(Ye,Ye.current),r)break;return null;case 22:case 23:return t.lanes=0,UE(e,t,n)}return $r(e,t,n)}var qE,Lp,KE,GE;qE=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lp=function(){};KE=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ho(ar.current);var s=null;switch(n){case"input":o=ip(e,o),r=ip(e,r),s=[];break;case"select":o=Je({},o,{value:void 0}),r=Je({},r,{value:void 0}),s=[];break;case"textarea":o=cp(e,o),r=cp(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Au)}dp(n,r);var i;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Be("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};GE=function(e,t,n,r){n!==r&&(t.flags|=4)};function oa(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zR(e,t,n){var r=t.pendingProps;switch(pg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(t),null;case 1:return on(t.type)&&Ru(),Dt(t),null;case 3:return r=t.stateNode,yi(),He(rn),He(Ut),Tg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Sc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vn!==null&&(qp(Vn),Vn=null))),Lp(e,t),Dt(t),null;case 5:xg(t);var o=Ho(Ya.current);if(n=t.type,e!==null&&t.stateNode!=null)KE(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return Dt(t),null}if(e=Ho(ar.current),Sc(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[er]=t,r[Qa]=s,e=(t.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(o=0;o<ma.length;o++)Be(ma[o],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Ov(r,s),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Be("invalid",r);break;case"textarea":Vv(r,s),Be("invalid",r)}dp(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Tc(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Tc(r.textContent,a,e),o=["children",""+a]):Fa.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Be("scroll",r)}switch(n){case"input":mc(r),Mv(r,s,!0);break;case"textarea":mc(r),Lv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Au)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=x1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[er]=t,e[Qa]=r,qE(e,t,!1,!1),t.stateNode=e;e:{switch(i=fp(n,r),n){case"dialog":Be("cancel",e),Be("close",e),o=r;break;case"iframe":case"object":case"embed":Be("load",e),o=r;break;case"video":case"audio":for(o=0;o<ma.length;o++)Be(ma[o],e);o=r;break;case"source":Be("error",e),o=r;break;case"img":case"image":case"link":Be("error",e),Be("load",e),o=r;break;case"details":Be("toggle",e),o=r;break;case"input":Ov(e,r),o=ip(e,r),Be("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Je({},r,{value:void 0}),Be("invalid",e);break;case"textarea":Vv(e,r),o=cp(e,r),Be("invalid",e);break;default:o=r}dp(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?b1(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&T1(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ja(e,l):typeof l=="number"&&ja(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Fa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Be("scroll",e):l!=null&&Jm(e,s,l,i))}switch(n){case"input":mc(e),Mv(e,r,!1);break;case"textarea":mc(e),Lv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+yo(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Js(e,!!r.multiple,s,!1):r.defaultValue!=null&&Js(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Au)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Dt(t),null;case 6:if(e&&t.stateNode!=null)GE(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=Ho(Ya.current),Ho(ar.current),Sc(t)){if(r=t.stateNode,n=t.memoizedProps,r[er]=t,(s=r.nodeValue!==n)&&(e=mn,e!==null))switch(e.tag){case 3:Tc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Tc(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[er]=t,t.stateNode=r}return Dt(t),null;case 13:if(He(Ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&fn!==null&&t.mode&1&&!(t.flags&128))fE(),mi(),t.flags|=98560,s=!1;else if(s=Sc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(M(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(M(317));s[er]=t}else mi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Dt(t),s=!1}else Vn!==null&&(qp(Vn),Vn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?ft===0&&(ft=3):Og())),t.updateQueue!==null&&(t.flags|=4),Dt(t),null);case 4:return yi(),Lp(e,t),e===null&&Ka(t.stateNode.containerInfo),Dt(t),null;case 10:return vg(t.type._context),Dt(t),null;case 17:return on(t.type)&&Ru(),Dt(t),null;case 19:if(He(Ye),s=t.memoizedState,s===null)return Dt(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)oa(s,!1);else{if(ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Mu(e),i!==null){for(t.flags|=128,oa(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Le(Ye,Ye.current&1|2),t.child}e=e.sibling}s.tail!==null&&ot()>_i&&(t.flags|=128,r=!0,oa(s,!1),t.lanes=4194304)}else{if(!r)if(e=Mu(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),oa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Qe)return Dt(t),null}else 2*ot()-s.renderingStartTime>_i&&n!==1073741824&&(t.flags|=128,r=!0,oa(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ot(),t.sibling=null,n=Ye.current,Le(Ye,r?n&1|2:n&1),t):(Dt(t),null);case 22:case 23:return Dg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?un&1073741824&&(Dt(t),t.subtreeFlags&6&&(t.flags|=8192)):Dt(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function WR(e,t){switch(pg(t),t.tag){case 1:return on(t.type)&&Ru(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yi(),He(rn),He(Ut),Tg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xg(t),null;case 13:if(He(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));mi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(Ye),null;case 4:return yi(),null;case 10:return vg(t.type._context),null;case 22:case 23:return Dg(),null;case 24:return null;default:return null}}var Ic=!1,Vt=!1,HR=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Gs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(e,t,r)}else n.current=null}function Fp(e,t,n){try{n()}catch(r){tt(e,t,r)}}var I0=!1;function qR(e,t){if(xp=bu,e=J1(),fg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var m;d!==n||o!==0&&d.nodeType!==3||(a=i+o),d!==s||r!==0&&d.nodeType!==3||(l=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===n&&++c===o&&(a=i),h===s&&++u===r&&(l=i),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tp={focusedElem:e,selectionRange:n},bu=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:On(t.type,y),w);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(E){tt(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return v=I0,I0=!1,v}function Ra(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&Fp(t,n,s)}o=o.next}while(o!==r)}}function Vd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function jp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function QE(e){var t=e.alternate;t!==null&&(e.alternate=null,QE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[er],delete t[Qa],delete t[Cp],delete t[AR],delete t[RR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ZE(e){return e.tag===5||e.tag===3||e.tag===4}function A0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ZE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Up(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Au));else if(r!==4&&(e=e.child,e!==null))for(Up(e,t,n),e=e.sibling;e!==null;)Up(e,t,n),e=e.sibling}function Bp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Bp(e,t,n),e=e.sibling;e!==null;)Bp(e,t,n),e=e.sibling}var Tt=null,Mn=!1;function Wr(e,t,n){for(n=n.child;n!==null;)YE(e,t,n),n=n.sibling}function YE(e,t,n){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(Rd,n)}catch{}switch(n.tag){case 5:Vt||Gs(n,t);case 6:var r=Tt,o=Mn;Tt=null,Wr(e,t,n),Tt=r,Mn=o,Tt!==null&&(Mn?(e=Tt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(Mn?(e=Tt,n=n.stateNode,e.nodeType===8?ih(e.parentNode,n):e.nodeType===1&&ih(e,n),Wa(e)):ih(Tt,n.stateNode));break;case 4:r=Tt,o=Mn,Tt=n.stateNode.containerInfo,Mn=!0,Wr(e,t,n),Tt=r,Mn=o;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Fp(n,t,i),o=o.next}while(o!==r)}Wr(e,t,n);break;case 1:if(!Vt&&(Gs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tt(n,t,a)}Wr(e,t,n);break;case 21:Wr(e,t,n);break;case 22:n.mode&1?(Vt=(r=Vt)||n.memoizedState!==null,Wr(e,t,n),Vt=r):Wr(e,t,n);break;default:Wr(e,t,n)}}function R0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new HR),t.forEach(function(r){var o=tk.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Dn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Tt=a.stateNode,Mn=!1;break e;case 3:Tt=a.stateNode.containerInfo,Mn=!0;break e;case 4:Tt=a.stateNode.containerInfo,Mn=!0;break e}a=a.return}if(Tt===null)throw Error(M(160));YE(s,i,o),Tt=null,Mn=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){tt(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)XE(t,e),t=t.sibling}function XE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dn(t,e),Xn(e),r&4){try{Ra(3,e,e.return),Vd(3,e)}catch(y){tt(e,e.return,y)}try{Ra(5,e,e.return)}catch(y){tt(e,e.return,y)}}break;case 1:Dn(t,e),Xn(e),r&512&&n!==null&&Gs(n,n.return);break;case 5:if(Dn(t,e),Xn(e),r&512&&n!==null&&Gs(n,n.return),e.flags&32){var o=e.stateNode;try{ja(o,"")}catch(y){tt(e,e.return,y)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&w1(o,s),fp(a,i);var c=fp(a,s);for(i=0;i<l.length;i+=2){var u=l[i],d=l[i+1];u==="style"?b1(o,d):u==="dangerouslySetInnerHTML"?T1(o,d):u==="children"?ja(o,d):Jm(o,u,d,c)}switch(a){case"input":ap(o,s);break;case"textarea":E1(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Js(o,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Js(o,!!s.multiple,s.defaultValue,!0):Js(o,!!s.multiple,s.multiple?[]:"",!1))}o[Qa]=s}catch(y){tt(e,e.return,y)}}break;case 6:if(Dn(t,e),Xn(e),r&4){if(e.stateNode===null)throw Error(M(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(y){tt(e,e.return,y)}}break;case 3:if(Dn(t,e),Xn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wa(t.containerInfo)}catch(y){tt(e,e.return,y)}break;case 4:Dn(t,e),Xn(e);break;case 13:Dn(t,e),Xn(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||($g=ot())),r&4&&R0(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Vt=(c=Vt)||u,Dn(t,e),Vt=c):Dn(t,e),Xn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Z=e,u=e.child;u!==null;){for(d=Z=u;Z!==null;){switch(h=Z,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ra(4,h,h.return);break;case 1:Gs(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){tt(r,n,y)}}break;case 5:Gs(h,h.return);break;case 22:if(h.memoizedState!==null){P0(d);continue}}m!==null?(m.return=h,Z=m):P0(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{o=d.stateNode,c?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=S1("display",i))}catch(y){tt(e,e.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){tt(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Dn(t,e),Xn(e),r&4&&R0(e);break;case 21:break;default:Dn(t,e),Xn(e)}}function Xn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ZE(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ja(o,""),r.flags&=-33);var s=A0(e);Bp(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=A0(e);Up(e,a,i);break;default:throw Error(M(161))}}catch(l){tt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function KR(e,t,n){Z=e,JE(e)}function JE(e,t,n){for(var r=(e.mode&1)!==0;Z!==null;){var o=Z,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||Ic;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Vt;a=Ic;var c=Vt;if(Ic=i,(Vt=l)&&!c)for(Z=o;Z!==null;)i=Z,l=i.child,i.tag===22&&i.memoizedState!==null?$0(o):l!==null?(l.return=i,Z=l):$0(o);for(;s!==null;)Z=s,JE(s),s=s.sibling;Z=o,Ic=a,Vt=c}k0(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,Z=s):k0(e)}}function k0(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vt||Vd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Vt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:On(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&p0(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}p0(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Wa(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Vt||t.flags&512&&jp(t)}catch(h){tt(t,t.return,h)}}if(t===e){Z=null;break}if(n=t.sibling,n!==null){n.return=t.return,Z=n;break}Z=t.return}}function P0(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Z=n;break}Z=t.return}}function $0(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vd(4,t)}catch(l){tt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){tt(t,o,l)}}var s=t.return;try{jp(t)}catch(l){tt(t,s,l)}break;case 5:var i=t.return;try{jp(t)}catch(l){tt(t,i,l)}}}catch(l){tt(t,t.return,l)}if(t===e){Z=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Z=a;break}Z=t.return}}var GR=Math.ceil,Fu=Ur.ReactCurrentDispatcher,kg=Ur.ReactCurrentOwner,kn=Ur.ReactCurrentBatchConfig,Se=0,_t=null,lt=null,It=0,un=0,Qs=$o(0),ft=0,tl=null,os=0,Ld=0,Pg=0,ka=null,en=null,$g=0,_i=1/0,wr=null,ju=!1,zp=null,lo=null,Ac=!1,eo=null,Uu=0,Pa=0,Wp=null,au=-1,lu=0;function Kt(){return Se&6?ot():au!==-1?au:au=ot()}function co(e){return e.mode&1?Se&2&&It!==0?It&-It:PR.transition!==null?(lu===0&&(lu=V1()),lu):(e=De,e!==0||(e=window.event,e=e===void 0?16:W1(e.type)),e):1}function Bn(e,t,n,r){if(50<Pa)throw Pa=0,Wp=null,Error(M(185));jl(e,n,r),(!(Se&2)||e!==_t)&&(e===_t&&(!(Se&2)&&(Ld|=n),ft===4&&Yr(e,It)),sn(e,r),n===1&&Se===0&&!(t.mode&1)&&(_i=ot()+500,Dd&&No()))}function sn(e,t){var n=e.callbackNode;PA(e,t);var r=Su(e,e===_t?It:0);if(r===0)n!==null&&Uv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Uv(n),t===1)e.tag===0?kR(N0.bind(null,e)):cE(N0.bind(null,e)),CR(function(){!(Se&6)&&No()}),n=null;else{switch(L1(r)){case 1:n=og;break;case 4:n=O1;break;case 16:n=Tu;break;case 536870912:n=M1;break;default:n=Tu}n=ax(n,ex.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ex(e,t){if(au=-1,lu=0,Se&6)throw Error(M(327));var n=e.callbackNode;if(oi()&&e.callbackNode!==n)return null;var r=Su(e,e===_t?It:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Bu(e,r);else{t=r;var o=Se;Se|=2;var s=nx();(_t!==e||It!==t)&&(wr=null,_i=ot()+500,Yo(e,t));do try{YR();break}catch(a){tx(e,a)}while(!0);yg(),Fu.current=s,Se=o,lt!==null?t=0:(_t=null,It=0,t=ft)}if(t!==0){if(t===2&&(o=yp(e),o!==0&&(r=o,t=Hp(e,o))),t===1)throw n=tl,Yo(e,0),Yr(e,r),sn(e,ot()),n;if(t===6)Yr(e,r);else{if(o=e.current.alternate,!(r&30)&&!QR(o)&&(t=Bu(e,r),t===2&&(s=yp(e),s!==0&&(r=s,t=Hp(e,s))),t===1))throw n=tl,Yo(e,0),Yr(e,r),sn(e,ot()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:jo(e,en,wr);break;case 3:if(Yr(e,r),(r&130023424)===r&&(t=$g+500-ot(),10<t)){if(Su(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Kt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=bp(jo.bind(null,e,en,wr),t);break}jo(e,en,wr);break;case 4:if(Yr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-Un(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*GR(r/1960))-r,10<r){e.timeoutHandle=bp(jo.bind(null,e,en,wr),r);break}jo(e,en,wr);break;case 5:jo(e,en,wr);break;default:throw Error(M(329))}}}return sn(e,ot()),e.callbackNode===n?ex.bind(null,e):null}function Hp(e,t){var n=ka;return e.current.memoizedState.isDehydrated&&(Yo(e,t).flags|=256),e=Bu(e,t),e!==2&&(t=en,en=n,t!==null&&qp(t)),e}function qp(e){en===null?en=e:en.push.apply(en,e)}function QR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!qn(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yr(e,t){for(t&=~Pg,t&=~Ld,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Un(t),r=1<<n;e[n]=-1,t&=~r}}function N0(e){if(Se&6)throw Error(M(327));oi();var t=Su(e,0);if(!(t&1))return sn(e,ot()),null;var n=Bu(e,t);if(e.tag!==0&&n===2){var r=yp(e);r!==0&&(t=r,n=Hp(e,r))}if(n===1)throw n=tl,Yo(e,0),Yr(e,t),sn(e,ot()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jo(e,en,wr),sn(e,ot()),null}function Ng(e,t){var n=Se;Se|=1;try{return e(t)}finally{Se=n,Se===0&&(_i=ot()+500,Dd&&No())}}function ss(e){eo!==null&&eo.tag===0&&!(Se&6)&&oi();var t=Se;Se|=1;var n=kn.transition,r=De;try{if(kn.transition=null,De=1,e)return e()}finally{De=r,kn.transition=n,Se=t,!(Se&6)&&No()}}function Dg(){un=Qs.current,He(Qs)}function Yo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,bR(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(pg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ru();break;case 3:yi(),He(rn),He(Ut),Tg();break;case 5:xg(r);break;case 4:yi();break;case 13:He(Ye);break;case 19:He(Ye);break;case 10:vg(r.type._context);break;case 22:case 23:Dg()}n=n.return}if(_t=e,lt=e=uo(e.current,null),It=un=t,ft=0,tl=null,Pg=Ld=os=0,en=ka=null,Wo!==null){for(t=0;t<Wo.length;t++)if(n=Wo[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}Wo=null}return e}function tx(e,t){do{var n=lt;try{if(yg(),ou.current=Lu,Vu){for(var r=Xe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Vu=!1}if(rs=0,vt=dt=Xe=null,Aa=!1,Xa=0,kg.current=null,n===null||n.return===null){ft=1,tl=t,lt=null;break}e:{var s=e,i=n.return,a=n,l=t;if(t=It,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=w0(i);if(m!==null){m.flags&=-257,E0(m,i,a,s,t),m.mode&1&&_0(s,c,t),t=m,l=c;var v=t.updateQueue;if(v===null){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}else{if(!(t&1)){_0(s,c,t),Og();break e}l=Error(M(426))}}else if(Qe&&a.mode&1){var w=w0(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),E0(w,i,a,s,t),mg(vi(l,a));break e}}s=l=vi(l,a),ft!==4&&(ft=2),ka===null?ka=[s]:ka.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=LE(s,l,t);h0(s,g);break e;case 1:a=l;var p=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(lo===null||!lo.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=FE(s,a,t);h0(s,E);break e}}s=s.return}while(s!==null)}ox(n)}catch(x){t=x,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function nx(){var e=Fu.current;return Fu.current=Lu,e===null?Lu:e}function Og(){(ft===0||ft===3||ft===2)&&(ft=4),_t===null||!(os&268435455)&&!(Ld&268435455)||Yr(_t,It)}function Bu(e,t){var n=Se;Se|=2;var r=nx();(_t!==e||It!==t)&&(wr=null,Yo(e,t));do try{ZR();break}catch(o){tx(e,o)}while(!0);if(yg(),Se=n,Fu.current=r,lt!==null)throw Error(M(261));return _t=null,It=0,ft}function ZR(){for(;lt!==null;)rx(lt)}function YR(){for(;lt!==null&&!xA();)rx(lt)}function rx(e){var t=ix(e.alternate,e,un);e.memoizedProps=e.pendingProps,t===null?ox(e):lt=t,kg.current=null}function ox(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=WR(n,t),n!==null){n.flags&=32767,lt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ft=6,lt=null;return}}else if(n=zR(n,t,un),n!==null){lt=n;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);ft===0&&(ft=5)}function jo(e,t,n){var r=De,o=kn.transition;try{kn.transition=null,De=1,XR(e,t,n,r)}finally{kn.transition=o,De=r}return null}function XR(e,t,n,r){do oi();while(eo!==null);if(Se&6)throw Error(M(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if($A(e,s),e===_t&&(lt=_t=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ac||(Ac=!0,ax(Tu,function(){return oi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=kn.transition,kn.transition=null;var i=De;De=1;var a=Se;Se|=4,kg.current=null,qR(e,n),XE(n,e),vR(Tp),bu=!!xp,Tp=xp=null,e.current=n,KR(n),TA(),Se=a,De=i,kn.transition=s}else e.current=n;if(Ac&&(Ac=!1,eo=e,Uu=o),s=e.pendingLanes,s===0&&(lo=null),CA(n.stateNode),sn(e,ot()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ju)throw ju=!1,e=zp,zp=null,e;return Uu&1&&e.tag!==0&&oi(),s=e.pendingLanes,s&1?e===Wp?Pa++:(Pa=0,Wp=e):Pa=0,No(),null}function oi(){if(eo!==null){var e=L1(Uu),t=kn.transition,n=De;try{if(kn.transition=null,De=16>e?16:e,eo===null)var r=!1;else{if(e=eo,eo=null,Uu=0,Se&6)throw Error(M(331));var o=Se;for(Se|=4,Z=e.current;Z!==null;){var s=Z,i=s.child;if(Z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Z=c;Z!==null;){var u=Z;switch(u.tag){case 0:case 11:case 15:Ra(8,u,s)}var d=u.child;if(d!==null)d.return=u,Z=d;else for(;Z!==null;){u=Z;var h=u.sibling,m=u.return;if(QE(u),u===c){Z=null;break}if(h!==null){h.return=m,Z=h;break}Z=m}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}Z=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,Z=i;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ra(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Z=g;break e}Z=s.return}}var p=e.current;for(Z=p;Z!==null;){i=Z;var _=i.child;if(i.subtreeFlags&2064&&_!==null)_.return=i,Z=_;else e:for(i=p;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vd(9,a)}}catch(x){tt(a,a.return,x)}if(a===i){Z=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Z=E;break e}Z=a.return}}if(Se=o,No(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(Rd,e)}catch{}r=!0}return r}finally{De=n,kn.transition=t}}return!1}function D0(e,t,n){t=vi(n,t),t=LE(e,t,1),e=ao(e,t,1),t=Kt(),e!==null&&(jl(e,1,t),sn(e,t))}function tt(e,t,n){if(e.tag===3)D0(e,e,n);else for(;t!==null;){if(t.tag===3){D0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(lo===null||!lo.has(r))){e=vi(n,e),e=FE(t,e,1),t=ao(t,e,1),e=Kt(),t!==null&&(jl(t,1,e),sn(t,e));break}}t=t.return}}function JR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Kt(),e.pingedLanes|=e.suspendedLanes&n,_t===e&&(It&n)===n&&(ft===4||ft===3&&(It&130023424)===It&&500>ot()-$g?Yo(e,0):Pg|=n),sn(e,t)}function sx(e,t){t===0&&(e.mode&1?(t=vc,vc<<=1,!(vc&130023424)&&(vc=4194304)):t=1);var n=Kt();e=Pr(e,t),e!==null&&(jl(e,t,n),sn(e,n))}function ek(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),sx(e,n)}function tk(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),sx(e,n)}var ix;ix=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||rn.current)nn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return nn=!1,BR(e,t,n);nn=!!(e.flags&131072)}else nn=!1,Qe&&t.flags&1048576&&uE(t,$u,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;iu(e,t),e=t.pendingProps;var o=pi(t,Ut.current);ri(t,n),o=bg(null,t,r,e,o,n);var s=Cg();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,on(r)?(s=!0,ku(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,wg(t),o.updater=Md,t.stateNode=o,o._reactInternals=t,$p(t,r,e,n),t=Op(null,t,r,!0,s,n)):(t.tag=0,Qe&&s&&hg(t),Wt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(iu(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=rk(r),e=On(r,e),o){case 0:t=Dp(null,t,r,e,n);break e;case 1:t=S0(null,t,r,e,n);break e;case 11:t=x0(null,t,r,e,n);break e;case 14:t=T0(null,t,r,On(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:On(r,o),Dp(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:On(r,o),S0(e,t,r,o,n);case 3:e:{if(zE(t),e===null)throw Error(M(387));r=t.pendingProps,s=t.memoizedState,o=s.element,gE(e,t),Ou(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=vi(Error(M(423)),t),t=b0(e,t,r,n,o);break e}else if(r!==o){o=vi(Error(M(424)),t),t=b0(e,t,r,n,o);break e}else for(fn=io(t.stateNode.containerInfo.firstChild),mn=t,Qe=!0,Vn=null,n=pE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mi(),r===o){t=$r(e,t,n);break e}Wt(e,t,r,n)}t=t.child}return t;case 5:return yE(t),e===null&&Rp(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,Sp(r,o)?i=null:s!==null&&Sp(r,s)&&(t.flags|=32),BE(e,t),Wt(e,t,i,n),t.child;case 6:return e===null&&Rp(t),null;case 13:return WE(e,t,n);case 4:return Eg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=gi(t,null,r,n):Wt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:On(r,o),x0(e,t,r,o,n);case 7:return Wt(e,t,t.pendingProps,n),t.child;case 8:return Wt(e,t,t.pendingProps.children,n),t.child;case 12:return Wt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,Le(Nu,r._currentValue),r._currentValue=i,s!==null)if(qn(s.value,i)){if(s.children===o.children&&!rn.current){t=$r(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ir(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),kp(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(M(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),kp(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Wt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,ri(t,n),o=Pn(o),r=r(o),t.flags|=1,Wt(e,t,r,n),t.child;case 14:return r=t.type,o=On(r,t.pendingProps),o=On(r.type,o),T0(e,t,r,o,n);case 15:return jE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:On(r,o),iu(e,t),t.tag=1,on(r)?(e=!0,ku(t)):e=!1,ri(t,n),VE(t,r,o),$p(t,r,o,n),Op(null,t,r,!0,e,n);case 19:return HE(e,t,n);case 22:return UE(e,t,n)}throw Error(M(156,t.tag))};function ax(e,t){return D1(e,t)}function nk(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,t,n,r){return new nk(e,t,n,r)}function Mg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rk(e){if(typeof e=="function")return Mg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tg)return 11;if(e===ng)return 14}return 2}function uo(e,t){var n=e.alternate;return n===null?(n=Rn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function cu(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")Mg(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Fs:return Xo(n.children,o,s,t);case eg:i=8,o|=8;break;case np:return e=Rn(12,n,t,o|2),e.elementType=np,e.lanes=s,e;case rp:return e=Rn(13,n,t,o),e.elementType=rp,e.lanes=s,e;case op:return e=Rn(19,n,t,o),e.elementType=op,e.lanes=s,e;case y1:return Fd(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case m1:i=10;break e;case g1:i=9;break e;case tg:i=11;break e;case ng:i=14;break e;case Gr:i=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=Rn(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Xo(e,t,n,r){return e=Rn(7,e,r,t),e.lanes=n,e}function Fd(e,t,n,r){return e=Rn(22,e,r,t),e.elementType=y1,e.lanes=n,e.stateNode={isHidden:!1},e}function ph(e,t,n){return e=Rn(6,e,null,t),e.lanes=n,e}function mh(e,t,n){return t=Rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ok(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qf(0),this.expirationTimes=Qf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qf(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Vg(e,t,n,r,o,s,i,a,l){return e=new ok(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Rn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wg(s),e}function sk(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ls,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function lx(e){if(!e)return vo;e=e._reactInternals;e:{if(ys(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(on(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(on(n))return lE(e,n,t)}return t}function cx(e,t,n,r,o,s,i,a,l){return e=Vg(n,r,!0,e,o,s,i,a,l),e.context=lx(null),n=e.current,r=Kt(),o=co(n),s=Ir(r,o),s.callback=t??null,ao(n,s,o),e.current.lanes=o,jl(e,o,r),sn(e,r),e}function jd(e,t,n,r){var o=t.current,s=Kt(),i=co(o);return n=lx(n),t.context===null?t.context=n:t.pendingContext=n,t=Ir(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ao(o,t,i),e!==null&&(Bn(e,o,i,s),ru(e,o,i)),i}function zu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function O0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Lg(e,t){O0(e,t),(e=e.alternate)&&O0(e,t)}function ik(){return null}var ux=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fg(e){this._internalRoot=e}Ud.prototype.render=Fg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));jd(e,t,null,null)};Ud.prototype.unmount=Fg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ss(function(){jd(null,e,null,null)}),t[kr]=null}};function Ud(e){this._internalRoot=e}Ud.prototype.unstable_scheduleHydration=function(e){if(e){var t=U1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zr.length&&t!==0&&t<Zr[n].priority;n++);Zr.splice(n,0,e),n===0&&z1(e)}};function jg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function M0(){}function ak(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var c=zu(i);s.call(c)}}var i=cx(t,r,e,0,null,!1,!1,"",M0);return e._reactRootContainer=i,e[kr]=i.current,Ka(e.nodeType===8?e.parentNode:e),ss(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=zu(l);a.call(c)}}var l=Vg(e,0,!1,null,null,!1,!1,"",M0);return e._reactRootContainer=l,e[kr]=l.current,Ka(e.nodeType===8?e.parentNode:e),ss(function(){jd(t,l,n,r)}),l}function zd(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=zu(i);a.call(l)}}jd(t,i,e,o)}else i=ak(n,t,e,o,r);return zu(i)}F1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pa(t.pendingLanes);n!==0&&(sg(t,n|1),sn(t,ot()),!(Se&6)&&(_i=ot()+500,No()))}break;case 13:ss(function(){var r=Pr(e,1);if(r!==null){var o=Kt();Bn(r,e,1,o)}}),Lg(e,1)}};ig=function(e){if(e.tag===13){var t=Pr(e,134217728);if(t!==null){var n=Kt();Bn(t,e,134217728,n)}Lg(e,134217728)}};j1=function(e){if(e.tag===13){var t=co(e),n=Pr(e,t);if(n!==null){var r=Kt();Bn(n,e,t,r)}Lg(e,t)}};U1=function(){return De};B1=function(e,t){var n=De;try{return De=e,t()}finally{De=n}};pp=function(e,t,n){switch(t){case"input":if(ap(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Nd(r);if(!o)throw Error(M(90));_1(r),ap(r,o)}}}break;case"textarea":E1(e,n);break;case"select":t=n.value,t!=null&&Js(e,!!n.multiple,t,!1)}};A1=Ng;R1=ss;var lk={usingClientEntryPoint:!1,Events:[Bl,zs,Nd,C1,I1,Ng]},sa={findFiberByHostInstance:zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ck={bundleType:sa.bundleType,version:sa.version,rendererPackageName:sa.rendererPackageName,rendererConfig:sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$1(e),e===null?null:e.stateNode},findFiberByHostInstance:sa.findFiberByHostInstance||ik,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{Rd=Rc.inject(ck),ir=Rc}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lk;Tn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jg(t))throw Error(M(200));return sk(e,t,null,n)};Tn.createRoot=function(e,t){if(!jg(e))throw Error(M(299));var n=!1,r="",o=ux;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Vg(e,1,!1,null,null,n,!1,r,o),e[kr]=t.current,Ka(e.nodeType===8?e.parentNode:e),new Fg(t)};Tn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=$1(t),e=e===null?null:e.stateNode,e};Tn.flushSync=function(e){return ss(e)};Tn.hydrate=function(e,t,n){if(!Bd(t))throw Error(M(200));return zd(null,e,t,!0,n)};Tn.hydrateRoot=function(e,t,n){if(!jg(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=ux;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=cx(t,null,e,1,n??null,o,!1,s,i),e[kr]=t.current,Ka(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ud(t)};Tn.render=function(e,t,n){if(!Bd(t))throw Error(M(200));return zd(null,e,t,!1,n)};Tn.unmountComponentAtNode=function(e){if(!Bd(e))throw Error(M(40));return e._reactRootContainer?(ss(function(){zd(null,null,e,!1,function(){e._reactRootContainer=null,e[kr]=null})}),!0):!1};Tn.unstable_batchedUpdates=Ng;Tn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bd(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return zd(e,t,n,!1,r)};Tn.version="18.3.1-next-f1338f8080-20240426";function dx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dx)}catch(e){console.error(e)}}dx(),d1.exports=Tn;var Do=d1.exports;const uk=Jw(Do);var V0=Do;ep.createRoot=V0.createRoot,ep.hydrateRoot=V0.hydrateRoot;var Wl=e=>e.type==="checkbox",Zs=e=>e instanceof Date,Ht=e=>e==null;const fx=e=>typeof e=="object";var pt=e=>!Ht(e)&&!Array.isArray(e)&&fx(e)&&!Zs(e),dk=e=>pt(e)&&e.target?Wl(e.target)?e.target.checked:e.target.value:e,fk=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,hk=(e,t)=>e.has(fk(t)),pk=e=>{const t=e.constructor&&e.constructor.prototype;return pt(t)&&t.hasOwnProperty("isPrototypeOf")},Ug=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function bn(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Ug&&(e instanceof Blob||e instanceof FileList))&&(n||pt(e)))if(t=n?[]:{},!n&&!pk(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=bn(e[r]));else return e;return t}var Hl=e=>Array.isArray(e)?e.filter(Boolean):[],rt=e=>e===void 0,X=(e,t,n)=>{if(!t||!pt(e))return n;const r=Hl(t.split(/[,[\].]+?/)).reduce((o,s)=>Ht(o)?o:o[s],e);return rt(r)||r===e?rt(e[t])?n:e[t]:r},Tr=e=>typeof e=="boolean";const L0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ln={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},gr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Ge.createContext(null);var mk=(e,t,n,r=!0)=>{const o={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(o,s,{get:()=>{const i=s;return t._proxyFormState[i]!==Ln.all&&(t._proxyFormState[i]=!r||Ln.all),e[i]}});return o},cn=e=>pt(e)&&!Object.keys(e).length,gk=(e,t,n,r)=>{n(e);const{name:o,...s}=e;return cn(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(i=>t[i]===Ln.all)},gh=e=>Array.isArray(e)?e:[e];function yk(e){const t=Ge.useRef(e);t.current=e,Ge.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}var rr=e=>typeof e=="string",vk=(e,t,n,r,o)=>rr(e)?(r&&t.watch.add(e),X(n,e,o)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),X(n,s))):(r&&(t.watchAll=!0),n),Bg=e=>/^\w*$/.test(e),hx=e=>Hl(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Me=(e,t,n)=>{let r=-1;const o=Bg(t)?[t]:hx(t),s=o.length,i=s-1;for(;++r<s;){const a=o[r];let l=n;if(r!==i){const c=e[a];l=pt(c)||Array.isArray(c)?c:isNaN(+o[r+1])?{}:[]}e[a]=l,e=e[a]}return e},px=(e,t,n,r,o)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:o||!0}}:{},F0=e=>({isOnSubmit:!e||e===Ln.onSubmit,isOnBlur:e===Ln.onBlur,isOnChange:e===Ln.onChange,isOnAll:e===Ln.all,isOnTouch:e===Ln.onTouched}),j0=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const $a=(e,t,n,r)=>{for(const o of n||Object.keys(e)){const s=X(e,o);if(s){const{_f:i,...a}=s;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],o)&&!r)break;if(i.ref&&t(i.ref,i.name)&&!r)break;$a(a,t)}else pt(a)&&$a(a,t)}}};var _k=(e,t,n)=>{const r=Hl(X(e,n));return Me(r,"root",t[n]),Me(e,n,r),e},zg=e=>e.type==="file",to=e=>typeof e=="function",Wu=e=>{if(!Ug)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},uu=e=>rr(e),Wg=e=>e.type==="radio",Hu=e=>e instanceof RegExp;const U0={value:!1,isValid:!1},B0={value:!0,isValid:!0};var mx=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!rt(e[0].attributes.value)?rt(e[0].value)||e[0].value===""?B0:{value:e[0].value,isValid:!0}:B0:U0}return U0};const z0={isValid:!1,value:null};var gx=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,z0):z0;function W0(e,t,n="validate"){if(uu(e)||Array.isArray(e)&&e.every(uu)||Tr(e)&&!e)return{type:n,message:uu(e)?e:"",ref:t}}var Rs=e=>pt(e)&&!Hu(e)?e:{value:e,message:""},H0=async(e,t,n,r,o)=>{const{ref:s,refs:i,required:a,maxLength:l,minLength:c,min:u,max:d,pattern:h,validate:m,name:v,valueAsNumber:y,mount:w,disabled:g}=e._f,p=X(t,v);if(!w||g)return{};const _=i?i[0]:s,E=P=>{r&&_.reportValidity&&(_.setCustomValidity(Tr(P)?"":P||""),_.reportValidity())},x={},b=Wg(s),C=Wl(s),I=b||C,F=(y||zg(s))&&rt(s.value)&&rt(p)||Wu(s)&&s.value===""||p===""||Array.isArray(p)&&!p.length,V=px.bind(null,v,n,x),oe=(P,G,N,U=gr.maxLength,te=gr.minLength)=>{const Y=P?G:N;x[v]={type:P?U:te,message:Y,ref:s,...V(P?U:te,Y)}};if(o?!Array.isArray(p)||!p.length:a&&(!I&&(F||Ht(p))||Tr(p)&&!p||C&&!mx(i).isValid||b&&!gx(i).isValid)){const{value:P,message:G}=uu(a)?{value:!!a,message:a}:Rs(a);if(P&&(x[v]={type:gr.required,message:G,ref:_,...V(gr.required,G)},!n))return E(G),x}if(!F&&(!Ht(u)||!Ht(d))){let P,G;const N=Rs(d),U=Rs(u);if(!Ht(p)&&!isNaN(p)){const te=s.valueAsNumber||p&&+p;Ht(N.value)||(P=te>N.value),Ht(U.value)||(G=te<U.value)}else{const te=s.valueAsDate||new Date(p),Y=H=>new Date(new Date().toDateString()+" "+H),D=s.type=="time",k=s.type=="week";rr(N.value)&&p&&(P=D?Y(p)>Y(N.value):k?p>N.value:te>new Date(N.value)),rr(U.value)&&p&&(G=D?Y(p)<Y(U.value):k?p<U.value:te<new Date(U.value))}if((P||G)&&(oe(!!P,N.message,U.message,gr.max,gr.min),!n))return E(x[v].message),x}if((l||c)&&!F&&(rr(p)||o&&Array.isArray(p))){const P=Rs(l),G=Rs(c),N=!Ht(P.value)&&p.length>+P.value,U=!Ht(G.value)&&p.length<+G.value;if((N||U)&&(oe(N,P.message,G.message),!n))return E(x[v].message),x}if(h&&!F&&rr(p)){const{value:P,message:G}=Rs(h);if(Hu(P)&&!p.match(P)&&(x[v]={type:gr.pattern,message:G,ref:s,...V(gr.pattern,G)},!n))return E(G),x}if(m){if(to(m)){const P=await m(p,t),G=W0(P,_);if(G&&(x[v]={...G,...V(gr.validate,G.message)},!n))return E(G.message),x}else if(pt(m)){let P={};for(const G in m){if(!cn(P)&&!n)break;const N=W0(await m[G](p,t),_,G);N&&(P={...N,...V(G,N.message)},E(N.message),n&&(x[v]=P))}if(!cn(P)&&(x[v]={ref:_,...P},!n))return x}}return E(!0),x};function wk(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=rt(e)?r++:e[t[r++]];return e}function Ek(e){for(const t in e)if(e.hasOwnProperty(t)&&!rt(e[t]))return!1;return!0}function ut(e,t){const n=Array.isArray(t)?t:Bg(t)?[t]:hx(t),r=n.length===1?e:wk(e,n),o=n.length-1,s=n[o];return r&&delete r[s],o!==0&&(pt(r)&&cn(r)||Array.isArray(r)&&Ek(r))&&ut(e,n.slice(0,-1)),e}var yh=()=>{let e=[];return{get observers(){return e},next:o=>{for(const s of e)s.next&&s.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(s=>s!==o)}}),unsubscribe:()=>{e=[]}}},qu=e=>Ht(e)||!fx(e);function qo(e,t){if(qu(e)||qu(t))return e===t;if(Zs(e)&&Zs(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const o of n){const s=e[o];if(!r.includes(o))return!1;if(o!=="ref"){const i=t[o];if(Zs(s)&&Zs(i)||pt(s)&&pt(i)||Array.isArray(s)&&Array.isArray(i)?!qo(s,i):s!==i)return!1}}return!0}var yx=e=>e.type==="select-multiple",xk=e=>Wg(e)||Wl(e),vh=e=>Wu(e)&&e.isConnected,vx=e=>{for(const t in e)if(to(e[t]))return!0;return!1};function Ku(e,t={}){const n=Array.isArray(e);if(pt(e)||n)for(const r in e)Array.isArray(e[r])||pt(e[r])&&!vx(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Ku(e[r],t[r])):Ht(e[r])||(t[r]=!0);return t}function _x(e,t,n){const r=Array.isArray(e);if(pt(e)||r)for(const o in e)Array.isArray(e[o])||pt(e[o])&&!vx(e[o])?rt(t)||qu(n[o])?n[o]=Array.isArray(e[o])?Ku(e[o],[]):{...Ku(e[o])}:_x(e[o],Ht(t)?{}:t[o],n[o]):n[o]=!qo(e[o],t[o]);return n}var kc=(e,t)=>_x(e,t,Ku(t)),wx=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>rt(e)?e:t?e===""?NaN:e&&+e:n&&rr(e)?new Date(e):r?r(e):e;function _h(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return zg(t)?t.files:Wg(t)?gx(e.refs).value:yx(t)?[...t.selectedOptions].map(({value:n})=>n):Wl(t)?mx(e.refs).value:wx(rt(t.value)?e.ref.value:t.value,e)}var Tk=(e,t,n,r)=>{const o={};for(const s of e){const i=X(t,s);i&&Me(o,s,i._f)}return{criteriaMode:n,names:[...e],fields:o,shouldUseNativeValidation:r}},ia=e=>rt(e)?e:Hu(e)?e.source:pt(e)?Hu(e.value)?e.value.source:e.value:e,Sk=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function q0(e,t,n){const r=X(e,n);if(r||Bg(n))return{error:r,name:n};const o=n.split(".");for(;o.length;){const s=o.join("."),i=X(t,s),a=X(e,s);if(i&&!Array.isArray(i)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};o.pop()}return{name:n}}var bk=(e,t,n,r,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(t||e):(n?r.isOnBlur:o.isOnBlur)?!e:(n?r.isOnChange:o.isOnChange)?e:!0,Ck=(e,t)=>!Hl(X(e,t)).length&&ut(e,t);const Ik={mode:Ln.onSubmit,reValidateMode:Ln.onChange,shouldFocusError:!0};function Ak(e={}){let t={...Ik,...e},n={submitCount:0,isDirty:!1,isLoading:to(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},o=pt(t.defaultValues)||pt(t.values)?bn(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:bn(o),i={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:yh(),array:yh(),state:yh()},h=F0(t.mode),m=F0(t.reValidateMode),v=t.criteriaMode===Ln.all,y=T=>A=>{clearTimeout(c),c=setTimeout(T,A)},w=async T=>{if(u.isValid||T){const A=t.resolver?cn((await I()).errors):await V(r,!0);A!==n.isValid&&d.state.next({isValid:A})}},g=(T,A)=>{(u.isValidating||u.validatingFields)&&((T||Array.from(a.mount)).forEach(R=>{R&&(A?Me(n.validatingFields,R,A):ut(n.validatingFields,R))}),d.state.next({validatingFields:n.validatingFields,isValidating:!cn(n.validatingFields)}))},p=(T,A=[],R,q,B=!0,j=!0)=>{if(q&&R){if(i.action=!0,j&&Array.isArray(X(r,T))){const ae=R(X(r,T),q.argA,q.argB);B&&Me(r,T,ae)}if(j&&Array.isArray(X(n.errors,T))){const ae=R(X(n.errors,T),q.argA,q.argB);B&&Me(n.errors,T,ae),Ck(n.errors,T)}if(u.touchedFields&&j&&Array.isArray(X(n.touchedFields,T))){const ae=R(X(n.touchedFields,T),q.argA,q.argB);B&&Me(n.touchedFields,T,ae)}u.dirtyFields&&(n.dirtyFields=kc(o,s)),d.state.next({name:T,isDirty:P(T,A),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Me(s,T,A)},_=(T,A)=>{Me(n.errors,T,A),d.state.next({errors:n.errors})},E=T=>{n.errors=T,d.state.next({errors:n.errors,isValid:!1})},x=(T,A,R,q)=>{const B=X(r,T);if(B){const j=X(s,T,rt(R)?X(o,T):R);rt(j)||q&&q.defaultChecked||A?Me(s,T,A?j:_h(B._f)):U(T,j),i.mount&&w()}},b=(T,A,R,q,B)=>{let j=!1,ae=!1;const Ne={name:T},gt=!!(X(r,T)&&X(r,T)._f.disabled);if(!R||q){u.isDirty&&(ae=n.isDirty,n.isDirty=Ne.isDirty=P(),j=ae!==Ne.isDirty);const ln=gt||qo(X(o,T),A);ae=!!(!gt&&X(n.dirtyFields,T)),ln||gt?ut(n.dirtyFields,T):Me(n.dirtyFields,T,!0),Ne.dirtyFields=n.dirtyFields,j=j||u.dirtyFields&&ae!==!ln}if(R){const ln=X(n.touchedFields,T);ln||(Me(n.touchedFields,T,R),Ne.touchedFields=n.touchedFields,j=j||u.touchedFields&&ln!==R)}return j&&B&&d.state.next(Ne),j?Ne:{}},C=(T,A,R,q)=>{const B=X(n.errors,T),j=u.isValid&&Tr(A)&&n.isValid!==A;if(e.delayError&&R?(l=y(()=>_(T,R)),l(e.delayError)):(clearTimeout(c),l=null,R?Me(n.errors,T,R):ut(n.errors,T)),(R?!qo(B,R):B)||!cn(q)||j){const ae={...q,...j&&Tr(A)?{isValid:A}:{},errors:n.errors,name:T};n={...n,...ae},d.state.next(ae)}},I=async T=>{g(T,!0);const A=await t.resolver(s,t.context,Tk(T||a.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return g(T),A},F=async T=>{const{errors:A}=await I(T);if(T)for(const R of T){const q=X(A,R);q?Me(n.errors,R,q):ut(n.errors,R)}else n.errors=A;return A},V=async(T,A,R={valid:!0})=>{for(const q in T){const B=T[q];if(B){const{_f:j,...ae}=B;if(j){const Ne=a.array.has(j.name);g([q],!0);const gt=await H0(B,s,v,t.shouldUseNativeValidation&&!A,Ne);if(g([q]),gt[j.name]&&(R.valid=!1,A))break;!A&&(X(gt,j.name)?Ne?_k(n.errors,gt,j.name):Me(n.errors,j.name,gt[j.name]):ut(n.errors,j.name))}ae&&await V(ae,A,R)}}return R.valid},oe=()=>{for(const T of a.unMount){const A=X(r,T);A&&(A._f.refs?A._f.refs.every(R=>!vh(R)):!vh(A._f.ref))&&$e(T)}a.unMount=new Set},P=(T,A)=>(T&&A&&Me(s,T,A),!qo(ie(),o)),G=(T,A,R)=>vk(T,a,{...i.mount?s:rt(A)?o:rr(T)?{[T]:A}:A},R,A),N=T=>Hl(X(i.mount?s:o,T,e.shouldUnregister?X(o,T,[]):[])),U=(T,A,R={})=>{const q=X(r,T);let B=A;if(q){const j=q._f;j&&(!j.disabled&&Me(s,T,wx(A,j)),B=Wu(j.ref)&&Ht(A)?"":A,yx(j.ref)?[...j.ref.options].forEach(ae=>ae.selected=B.includes(ae.value)):j.refs?Wl(j.ref)?j.refs.length>1?j.refs.forEach(ae=>(!ae.defaultChecked||!ae.disabled)&&(ae.checked=Array.isArray(B)?!!B.find(Ne=>Ne===ae.value):B===ae.value)):j.refs[0]&&(j.refs[0].checked=!!B):j.refs.forEach(ae=>ae.checked=ae.value===B):zg(j.ref)?j.ref.value="":(j.ref.value=B,j.ref.type||d.values.next({name:T,values:{...s}})))}(R.shouldDirty||R.shouldTouch)&&b(T,B,R.shouldTouch,R.shouldDirty,!0),R.shouldValidate&&H(T)},te=(T,A,R)=>{for(const q in A){const B=A[q],j=`${T}.${q}`,ae=X(r,j);(a.array.has(T)||!qu(B)||ae&&!ae._f)&&!Zs(B)?te(j,B,R):U(j,B,R)}},Y=(T,A,R={})=>{const q=X(r,T),B=a.array.has(T),j=bn(A);Me(s,T,j),B?(d.array.next({name:T,values:{...s}}),(u.isDirty||u.dirtyFields)&&R.shouldDirty&&d.state.next({name:T,dirtyFields:kc(o,s),isDirty:P(T,j)})):q&&!q._f&&!Ht(j)?te(T,j,R):U(T,j,R),j0(T,a)&&d.state.next({...n}),d.values.next({name:i.mount?T:void 0,values:{...s}})},D=async T=>{i.mount=!0;const A=T.target;let R=A.name,q=!0;const B=X(r,R),j=()=>A.type?_h(B._f):dk(T),ae=Ne=>{q=Number.isNaN(Ne)||Ne===X(s,R,Ne)};if(B){let Ne,gt;const ln=j(),Is=T.type===L0.BLUR||T.type===L0.FOCUS_OUT,NI=!Sk(B._f)&&!t.resolver&&!X(n.errors,R)&&!B._f.deps||bk(Is,X(n.touchedFields,R),n.isSubmitted,m,h),Uf=j0(R,a,Is);Me(s,R,ln),Is?(B._f.onBlur&&B._f.onBlur(T),l&&l(0)):B._f.onChange&&B._f.onChange(T);const Bf=b(R,ln,Is,!1),DI=!cn(Bf)||Uf;if(!Is&&d.values.next({name:R,type:T.type,values:{...s}}),NI)return u.isValid&&w(),DI&&d.state.next({name:R,...Uf?{}:Bf});if(!Is&&Uf&&d.state.next({...n}),t.resolver){const{errors:Iv}=await I([R]);if(ae(ln),q){const OI=q0(n.errors,r,R),Av=q0(Iv,r,OI.name||R);Ne=Av.error,R=Av.name,gt=cn(Iv)}}else g([R],!0),Ne=(await H0(B,s,v,t.shouldUseNativeValidation))[R],g([R]),ae(ln),q&&(Ne?gt=!1:u.isValid&&(gt=await V(r,!0)));q&&(B._f.deps&&H(B._f.deps),C(R,gt,Ne,Bf))}},k=(T,A)=>{if(X(n.errors,A)&&T.focus)return T.focus(),1},H=async(T,A={})=>{let R,q;const B=gh(T);if(t.resolver){const j=await F(rt(T)?T:B);R=cn(j),q=T?!B.some(ae=>X(j,ae)):R}else T?(q=(await Promise.all(B.map(async j=>{const ae=X(r,j);return await V(ae&&ae._f?{[j]:ae}:ae)}))).every(Boolean),!(!q&&!n.isValid)&&w()):q=R=await V(r);return d.state.next({...!rr(T)||u.isValid&&R!==n.isValid?{}:{name:T},...t.resolver||!T?{isValid:R}:{},errors:n.errors}),A.shouldFocus&&!q&&$a(r,k,T?B:a.mount),q},ie=T=>{const A={...i.mount?s:o};return rt(T)?A:rr(T)?X(A,T):T.map(R=>X(A,R))},he=(T,A)=>({invalid:!!X((A||n).errors,T),isDirty:!!X((A||n).dirtyFields,T),isTouched:!!X((A||n).touchedFields,T),isValidating:!!X((A||n).validatingFields,T),error:X((A||n).errors,T)}),Ke=T=>{T&&gh(T).forEach(A=>ut(n.errors,A)),d.state.next({errors:T?n.errors:{}})},Ve=(T,A,R)=>{const q=(X(r,T,{_f:{}})._f||{}).ref;Me(n.errors,T,{...A,ref:q}),d.state.next({name:T,errors:n.errors,isValid:!1}),R&&R.shouldFocus&&q&&q.focus&&q.focus()},mt=(T,A)=>to(T)?d.values.subscribe({next:R=>T(G(void 0,A),R)}):G(T,A,!0),$e=(T,A={})=>{for(const R of T?gh(T):a.mount)a.mount.delete(R),a.array.delete(R),A.keepValue||(ut(r,R),ut(s,R)),!A.keepError&&ut(n.errors,R),!A.keepDirty&&ut(n.dirtyFields,R),!A.keepTouched&&ut(n.touchedFields,R),!A.keepIsValidating&&ut(n.validatingFields,R),!t.shouldUnregister&&!A.keepDefaultValue&&ut(o,R);d.values.next({values:{...s}}),d.state.next({...n,...A.keepDirty?{isDirty:P()}:{}}),!A.keepIsValid&&w()},re=({disabled:T,name:A,field:R,fields:q,value:B})=>{if(Tr(T)){const j=T?void 0:rt(B)?_h(R?R._f:X(q,A)._f):B;Me(s,A,j),b(A,j,!1,!1,!0)}},be=(T,A={})=>{let R=X(r,T);const q=Tr(A.disabled);return Me(r,T,{...R||{},_f:{...R&&R._f?R._f:{ref:{name:T}},name:T,mount:!0,...A}}),a.mount.add(T),R?re({field:R,disabled:A.disabled,name:T,value:A.value}):x(T,!0,A.value),{...q?{disabled:A.disabled}:{},...t.progressive?{required:!!A.required,min:ia(A.min),max:ia(A.max),minLength:ia(A.minLength),maxLength:ia(A.maxLength),pattern:ia(A.pattern)}:{},name:T,onChange:D,onBlur:D,ref:B=>{if(B){be(T,A),R=X(r,T);const j=rt(B.value)&&B.querySelectorAll&&B.querySelectorAll("input,select,textarea")[0]||B,ae=xk(j),Ne=R._f.refs||[];if(ae?Ne.find(gt=>gt===j):j===R._f.ref)return;Me(r,T,{_f:{...R._f,...ae?{refs:[...Ne.filter(vh),j,...Array.isArray(X(o,T))?[{}]:[]],ref:{type:j.type,name:T}}:{ref:j}}}),x(T,!1,void 0,j)}else R=X(r,T,{}),R._f&&(R._f.mount=!1),(t.shouldUnregister||A.shouldUnregister)&&!(hk(a.array,T)&&i.action)&&a.unMount.add(T)}}},Ie=()=>t.shouldFocusError&&$a(r,k,a.mount),ke=T=>{Tr(T)&&(d.state.next({disabled:T}),$a(r,(A,R)=>{let q=T;const B=X(r,R);B&&Tr(B._f.disabled)&&(q||(q=B._f.disabled)),A.disabled=q},0,!1))},Ae=(T,A)=>async R=>{let q;R&&(R.preventDefault&&R.preventDefault(),R.persist&&R.persist());let B=bn(s);if(d.state.next({isSubmitting:!0}),t.resolver){const{errors:j,values:ae}=await I();n.errors=j,B=ae}else await V(r);if(ut(n.errors,"root"),cn(n.errors)){d.state.next({errors:{}});try{await T(B,R)}catch(j){q=j}}else A&&await A({...n.errors},R),Ie(),setTimeout(Ie);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:cn(n.errors)&&!q,submitCount:n.submitCount+1,errors:n.errors}),q)throw q},Pe=(T,A={})=>{X(r,T)&&(rt(A.defaultValue)?Y(T,bn(X(o,T))):(Y(T,A.defaultValue),Me(o,T,bn(A.defaultValue))),A.keepTouched||ut(n.touchedFields,T),A.keepDirty||(ut(n.dirtyFields,T),n.isDirty=A.defaultValue?P(T,bn(X(o,T))):P()),A.keepError||(ut(n.errors,T),u.isValid&&w()),d.state.next({...n}))},Pt=(T,A={})=>{const R=T?bn(T):o,q=bn(R),B=cn(T),j=B?o:q;if(A.keepDefaultValues||(o=R),!A.keepValues){if(A.keepDirtyValues)for(const ae of a.mount)X(n.dirtyFields,ae)?Me(j,ae,X(s,ae)):Y(ae,X(j,ae));else{if(Ug&&rt(T))for(const ae of a.mount){const Ne=X(r,ae);if(Ne&&Ne._f){const gt=Array.isArray(Ne._f.refs)?Ne._f.refs[0]:Ne._f.ref;if(Wu(gt)){const ln=gt.closest("form");if(ln){ln.reset();break}}}}r={}}s=e.shouldUnregister?A.keepDefaultValues?bn(o):{}:bn(j),d.array.next({values:{...j}}),d.values.next({values:{...j}})}a={mount:A.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!u.isValid||!!A.keepIsValid||!!A.keepDirtyValues,i.watch=!!e.shouldUnregister,d.state.next({submitCount:A.keepSubmitCount?n.submitCount:0,isDirty:B?!1:A.keepDirty?n.isDirty:!!(A.keepDefaultValues&&!qo(T,o)),isSubmitted:A.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:B?[]:A.keepDirtyValues?A.keepDefaultValues&&s?kc(o,s):n.dirtyFields:A.keepDefaultValues&&T?kc(o,T):{},touchedFields:A.keepTouched?n.touchedFields:{},errors:A.keepErrors?n.errors:{},isSubmitSuccessful:A.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},$t=(T,A)=>Pt(to(T)?T(s):T,A);return{control:{register:be,unregister:$e,getFieldState:he,handleSubmit:Ae,setError:Ve,_executeSchema:I,_getWatch:G,_getDirty:P,_updateValid:w,_removeUnmounted:oe,_updateFieldArray:p,_updateDisabledField:re,_getFieldArray:N,_reset:Pt,_resetDefaultValues:()=>to(t.defaultValues)&&t.defaultValues().then(T=>{$t(T,t.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:T=>{n={...n,...T}},_disableForm:ke,_subjects:d,_proxyFormState:u,_setErrors:E,get _fields(){return r},get _formValues(){return s},get _state(){return i},set _state(T){i=T},get _defaultValues(){return o},get _names(){return a},set _names(T){a=T},get _formState(){return n},set _formState(T){n=T},get _options(){return t},set _options(T){t={...t,...T}}},trigger:H,register:be,handleSubmit:Ae,watch:mt,setValue:Y,getValues:ie,reset:$t,resetField:Pe,clearErrors:Ke,unregister:$e,setError:Ve,setFocus:(T,A={})=>{const R=X(r,T),q=R&&R._f;if(q){const B=q.refs?q.refs[0]:q.ref;B.focus&&(B.focus(),A.shouldSelect&&B.select())}},getFieldState:he}}function Ex(e={}){const t=Ge.useRef(),n=Ge.useRef(),[r,o]=Ge.useState({isDirty:!1,isValidating:!1,isLoading:to(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:to(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Ak(e),formState:r});const s=t.current.control;return s._options=e,yk({subject:s._subjects.state,next:i=>{gk(i,s._proxyFormState,s._updateFormState)&&o({...s._formState})}}),Ge.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),Ge.useEffect(()=>{if(s._proxyFormState.isDirty){const i=s._getDirty();i!==r.isDirty&&s._subjects.state.next({isDirty:i})}},[s,r.isDirty]),Ge.useEffect(()=>{e.values&&!qo(e.values,n.current)?(s._reset(e.values,s._options.resetOptions),n.current=e.values,o(i=>({...i}))):s._resetDefaultValues()},[e.values,s]),Ge.useEffect(()=>{e.errors&&s._setErrors(e.errors)},[e.errors,s]),Ge.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Ge.useEffect(()=>{e.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[e.shouldUnregister,s]),t.current.formState=mk(r,s),t.current}var xx={exports:{}},Tx={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ql=f;function Rk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kk=typeof Object.is=="function"?Object.is:Rk,Pk=ql.useSyncExternalStore,$k=ql.useRef,Nk=ql.useEffect,Dk=ql.useMemo,Ok=ql.useDebugValue;Tx.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var s=$k(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=Dk(function(){function l(m){if(!c){if(c=!0,u=m,m=r(m),o!==void 0&&i.hasValue){var v=i.value;if(o(v,m))return d=v}return d=m}if(v=d,kk(u,m))return v;var y=r(m);return o!==void 0&&o(v,y)?v:(u=m,d=y)}var c=!1,u,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,o]);var a=Pk(e,s[0],s[1]);return Nk(function(){i.hasValue=!0,i.value=a},[a]),Ok(a),a};xx.exports=Tx;var Mk=xx.exports,hn="default"in Jh?Ge:Jh,K0=Symbol.for("react-redux-context"),G0=typeof globalThis<"u"?globalThis:{};function Vk(){if(!hn.createContext)return{};const e=G0[K0]??(G0[K0]=new Map);let t=e.get(hn.createContext);return t||(t=hn.createContext(null),e.set(hn.createContext,t)),t}var _o=Vk(),Lk=()=>{throw new Error("uSES not initialized!")};function Hg(e=_o){return function(){return hn.useContext(e)}}var Sx=Hg(),bx=Lk,Fk=e=>{bx=e},jk=(e,t)=>e===t;function Uk(e=_o){const t=e===_o?Sx:Hg(e),n=(r,o={})=>{const{equalityFn:s=jk,devModeChecks:i={}}=typeof o=="function"?{equalityFn:o}:o,{store:a,subscription:l,getServerState:c,stabilityCheck:u,identityFunctionCheck:d}=t();hn.useRef(!0);const h=hn.useCallback({[r.name](v){return r(v)}}[r.name],[r,u,i.stabilityCheck]),m=bx(l.addNestedSub,a.getState,c||a.getState,h,s);return hn.useDebugValue(m),m};return Object.assign(n,{withTypes:()=>n}),n}var Bk=Uk();function zk(e){e()}function Wk(){let e=null,t=null;return{clear(){e=null,t=null},notify(){zk(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!r||e===null||(r=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var Q0={notify(){},get:()=>[]};function Hk(e,t){let n,r=Q0,o=0,s=!1;function i(y){u();const w=r.subscribe(y);let g=!1;return()=>{g||(g=!0,w(),d())}}function a(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function c(){return s}function u(){o++,n||(n=e.subscribe(l),r=Wk())}function d(){o--,n&&o===0&&(n(),n=void 0,r.clear(),r=Q0)}function h(){s||(s=!0,u())}function m(){s&&(s=!1,d())}const v={addNestedSub:i,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return v}var qk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Kk=typeof navigator<"u"&&navigator.product==="ReactNative",Gk=qk||Kk?hn.useLayoutEffect:hn.useEffect;function Qk({store:e,context:t,children:n,serverState:r,stabilityCheck:o="once",identityFunctionCheck:s="once"}){const i=hn.useMemo(()=>{const c=Hk(e);return{store:e,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:o,identityFunctionCheck:s}},[e,r,o,s]),a=hn.useMemo(()=>e.getState(),[e]);Gk(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==e.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,a]);const l=t||_o;return hn.createElement(l.Provider,{value:i},n)}var Zk=Qk;function Cx(e=_o){const t=e===_o?Sx:Hg(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var Yk=Cx();function Xk(e=_o){const t=e===_o?Yk:Cx(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Jk=Xk();Fk(Mk.useSyncExternalStoreWithSelector);const Wd=Jk.withTypes(),eP=Bk.withTypes();function xt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var tP=typeof Symbol=="function"&&Symbol.observable||"@@observable",Z0=tP,wh=()=>Math.random().toString(36).substring(7).split("").join("."),nP={INIT:`@@redux/INIT${wh()}`,REPLACE:`@@redux/REPLACE${wh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${wh()}`},Gu=nP;function qg(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Ix(e,t,n){if(typeof e!="function")throw new Error(xt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(xt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(xt(1));return n(Ix)(e,t)}let r=e,o=t,s=new Map,i=s,a=0,l=!1;function c(){i===s&&(i=new Map,s.forEach((w,g)=>{i.set(g,w)}))}function u(){if(l)throw new Error(xt(3));return o}function d(w){if(typeof w!="function")throw new Error(xt(4));if(l)throw new Error(xt(5));let g=!0;c();const p=a++;return i.set(p,w),function(){if(g){if(l)throw new Error(xt(6));g=!1,c(),i.delete(p),s=null}}}function h(w){if(!qg(w))throw new Error(xt(7));if(typeof w.type>"u")throw new Error(xt(8));if(typeof w.type!="string")throw new Error(xt(17));if(l)throw new Error(xt(9));try{l=!0,o=r(o,w)}finally{l=!1}return(s=i).forEach(p=>{p()}),w}function m(w){if(typeof w!="function")throw new Error(xt(10));r=w,h({type:Gu.REPLACE})}function v(){const w=d;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(xt(11));function p(){const E=g;E.next&&E.next(u())}return p(),{unsubscribe:w(p)}},[Z0](){return this}}}return h({type:Gu.INIT}),{dispatch:h,subscribe:d,getState:u,replaceReducer:m,[Z0]:v}}function rP(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Gu.INIT})>"u")throw new Error(xt(12));if(typeof n(void 0,{type:Gu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xt(13))})}function oP(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const i=t[s];typeof e[i]=="function"&&(n[i]=e[i])}const r=Object.keys(n);let o;try{rP(n)}catch(s){o=s}return function(i={},a){if(o)throw o;let l=!1;const c={};for(let u=0;u<r.length;u++){const d=r[u],h=n[d],m=i[d],v=h(m,a);if(typeof v>"u")throw a&&a.type,new Error(xt(14));c[d]=v,l=l||v!==m}return l=l||r.length!==Object.keys(i).length,l?c:i}}function Qu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function sP(...e){return t=>(n,r)=>{const o=t(n,r);let s=()=>{throw new Error(xt(15))};const i={getState:o.getState,dispatch:(l,...c)=>s(l,...c)},a=e.map(l=>l(i));return s=Qu(...a)(o.dispatch),{...o,dispatch:s}}}function iP(e){return qg(e)&&"type"in e&&typeof e.type=="string"}var Ax=Symbol.for("immer-nothing"),Y0=Symbol.for("immer-draftable"),wn=Symbol.for("immer-state");function Fn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var wi=Object.getPrototypeOf;function wo(e){return!!e&&!!e[wn]}function Nr(e){var t;return e?Rx(e)||Array.isArray(e)||!!e[Y0]||!!((t=e.constructor)!=null&&t[Y0])||qd(e)||Kd(e):!1}var aP=Object.prototype.constructor.toString();function Rx(e){if(!e||typeof e!="object")return!1;const t=wi(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===aP}function Zu(e,t){Hd(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Hd(e){const t=e[wn];return t?t.type_:Array.isArray(e)?1:qd(e)?2:Kd(e)?3:0}function Kp(e,t){return Hd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function kx(e,t,n){const r=Hd(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function lP(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function qd(e){return e instanceof Map}function Kd(e){return e instanceof Set}function Uo(e){return e.copy_||e.base_}function Gp(e,t){if(qd(e))return new Map(e);if(Kd(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Rx(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[wn];let o=Reflect.ownKeys(r);for(let s=0;s<o.length;s++){const i=o[s],a=r[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(wi(e),r)}else{const r=wi(e);if(r!==null&&n)return{...e};const o=Object.create(r);return Object.assign(o,e)}}function Kg(e,t=!1){return Gd(e)||wo(e)||!Nr(e)||(Hd(e)>1&&(e.set=e.add=e.clear=e.delete=cP),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Kg(r,!0))),e}function cP(){Fn(2)}function Gd(e){return Object.isFrozen(e)}var uP={};function is(e){const t=uP[e];return t||Fn(0,e),t}var nl;function Px(){return nl}function dP(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function X0(e,t){t&&(is("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Qp(e){Zp(e),e.drafts_.forEach(fP),e.drafts_=null}function Zp(e){e===nl&&(nl=e.parent_)}function J0(e){return nl=dP(nl,e)}function fP(e){const t=e[wn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function e_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[wn].modified_&&(Qp(t),Fn(4)),Nr(e)&&(e=Yu(t,e),t.parent_||Xu(t,e)),t.patches_&&is("Patches").generateReplacementPatches_(n[wn].base_,e,t.patches_,t.inversePatches_)):e=Yu(t,n,[]),Qp(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Ax?e:void 0}function Yu(e,t,n){if(Gd(t))return t;const r=t[wn];if(!r)return Zu(t,(o,s)=>t_(e,r,t,o,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Xu(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let s=o,i=!1;r.type_===3&&(s=new Set(o),o.clear(),i=!0),Zu(s,(a,l)=>t_(e,r,o,a,l,n,i)),Xu(e,o,!1),n&&e.patches_&&is("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function t_(e,t,n,r,o,s,i){if(wo(o)){const a=s&&t&&t.type_!==3&&!Kp(t.assigned_,r)?s.concat(r):void 0,l=Yu(e,o,a);if(kx(n,r,l),wo(l))e.canAutoFreeze_=!1;else return}else i&&n.add(o);if(Nr(o)&&!Gd(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Yu(e,o),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Xu(e,o)}}function Xu(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Kg(t,n)}function hP(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Px(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,s=Gg;n&&(o=[r],s=rl);const{revoke:i,proxy:a}=Proxy.revocable(o,s);return r.draft_=a,r.revoke_=i,a}var Gg={get(e,t){if(t===wn)return e;const n=Uo(e);if(!Kp(n,t))return pP(e,n,t);const r=n[t];return e.finalized_||!Nr(r)?r:r===Eh(e.base_,t)?(xh(e),e.copy_[t]=Xp(r,e)):r},has(e,t){return t in Uo(e)},ownKeys(e){return Reflect.ownKeys(Uo(e))},set(e,t,n){const r=$x(Uo(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=Eh(Uo(e),t),s=o==null?void 0:o[wn];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(lP(n,o)&&(n!==void 0||Kp(e.base_,t)))return!0;xh(e),Yp(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Eh(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,xh(e),Yp(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Uo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Fn(11)},getPrototypeOf(e){return wi(e.base_)},setPrototypeOf(){Fn(12)}},rl={};Zu(Gg,(e,t)=>{rl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});rl.deleteProperty=function(e,t){return rl.set.call(this,e,t,void 0)};rl.set=function(e,t,n){return Gg.set.call(this,e[0],t,n,e[0])};function Eh(e,t){const n=e[wn];return(n?Uo(n):e)[t]}function pP(e,t,n){var o;const r=$x(t,n);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(e.draft_):void 0}function $x(e,t){if(!(t in e))return;let n=wi(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=wi(n)}}function Yp(e){e.modified_||(e.modified_=!0,e.parent_&&Yp(e.parent_))}function xh(e){e.copy_||(e.copy_=Gp(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var mP=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const i=this;return function(l=s,...c){return i.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&Fn(6),r!==void 0&&typeof r!="function"&&Fn(7);let o;if(Nr(t)){const s=J0(this),i=Xp(t,void 0);let a=!0;try{o=n(i),a=!1}finally{a?Qp(s):Zp(s)}return X0(s,r),e_(o,s)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===Ax&&(o=void 0),this.autoFreeze_&&Kg(o,!0),r){const s=[],i=[];is("Patches").generateReplacementPatches_(t,o,s,i),r(s,i)}return o}else Fn(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(i,...a)=>this.produceWithPatches(i,l=>t(l,...a));let r,o;return[this.produce(t,n,(i,a)=>{r=i,o=a}),r,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Nr(e)||Fn(8),wo(e)&&(e=Nx(e));const t=J0(this),n=Xp(e,void 0);return n[wn].isManual_=!0,Zp(t),n}finishDraft(e,t){const n=e&&e[wn];(!n||!n.isManual_)&&Fn(9);const{scope_:r}=n;return X0(r,t),e_(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=is("Patches").applyPatches_;return wo(e)?r(e,t):this.produce(e,o=>r(o,t))}};function Xp(e,t){const n=qd(e)?is("MapSet").proxyMap_(e,t):Kd(e)?is("MapSet").proxySet_(e,t):hP(e,t);return(t?t.scope_:Px()).drafts_.push(n),n}function Nx(e){return wo(e)||Fn(10,e),Dx(e)}function Dx(e){if(!Nr(e)||Gd(e))return e;const t=e[wn];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Gp(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Gp(e,!0);return Zu(n,(r,o)=>{kx(n,r,Dx(o))}),t&&(t.finalized_=!1),n}var En=new mP,Ox=En.produce;En.produceWithPatches.bind(En);En.setAutoFreeze.bind(En);En.setUseStrictShallowCopy.bind(En);En.applyPatches.bind(En);En.createDraft.bind(En);En.finishDraft.bind(En);function gP(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function yP(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function vP(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var n_=e=>Array.isArray(e)?e:[e];function _P(e){const t=Array.isArray(e[0])?e[0]:e;return vP(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function wP(e,t){const n=[],{length:r}=e;for(let o=0;o<r;o++)n.push(e[o].apply(null,t));return n}var EP=class{constructor(e){this.value=e}deref(){return this.value}},xP=typeof WeakRef<"u"?WeakRef:EP,TP=0,r_=1;function Pc(){return{s:TP,v:void 0,o:null,p:null}}function Qg(e,t={}){let n=Pc();const{resultEqualityCheck:r}=t;let o,s=0;function i(){var d;let a=n;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const v=arguments[h];if(typeof v=="function"||typeof v=="object"&&v!==null){let y=a.o;y===null&&(a.o=y=new WeakMap);const w=y.get(v);w===void 0?(a=Pc(),y.set(v,a)):a=w}else{let y=a.p;y===null&&(a.p=y=new Map);const w=y.get(v);w===void 0?(a=Pc(),y.set(v,a)):a=w}}const c=a;let u;if(a.s===r_?u=a.v:(u=e.apply(null,arguments),s++),c.s=r_,r){const h=((d=o==null?void 0:o.deref)==null?void 0:d.call(o))??o;h!=null&&r(h,u)&&(u=h,s!==0&&s--),o=typeof u=="object"&&u!==null||typeof u=="function"?new xP(u):u}return c.v=u,u}return i.clearCache=()=>{n=Pc(),i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function Mx(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...o)=>{let s=0,i=0,a,l={},c=o.pop();typeof c=="object"&&(l=c,c=o.pop()),gP(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:m=Qg,argsMemoizeOptions:v=[],devModeChecks:y={}}=u,w=n_(h),g=n_(v),p=_P(o),_=d(function(){return s++,c.apply(null,arguments)},...w),E=m(function(){i++;const b=wP(p,arguments);return a=_.apply(null,b),a},...g);return Object.assign(E,{resultFunc:c,memoizedResultFunc:_,dependencies:p,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var SP=Mx(Qg),bP=Object.assign((e,t=SP)=>{yP(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((i,a,l)=>(i[n[l]]=a,i),{}))},{withTypes:()=>bP});function Vx(e){return({dispatch:n,getState:r})=>o=>s=>typeof s=="function"?s(n,r,e):o(s)}var CP=Vx(),IP=Vx,AP=(...e)=>{const t=Mx(...e),n=Object.assign((...r)=>{const o=t(...r),s=(i,...a)=>o(wo(i)?Nx(i):i,...a);return Object.assign(s,o),s},{withTypes:()=>n});return n};AP(Qg);var RP=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Qu:Qu.apply(null,arguments)},kP=e=>e&&typeof e.match=="function";function Ar(e,t){function n(...r){if(t){let o=t(...r);if(!o)throw new Error(an(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>iP(r)&&r.type===e,n}var Lx=class ga extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ga.prototype)}static get[Symbol.species](){return ga}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ga(...t[0].concat(this)):new ga(...t.concat(this))}};function o_(e){return Nr(e)?Ox(e,()=>{}):e}function s_(e,t,n){if(e.has(t)){let o=e.get(t);return n.update&&(o=n.update(o,t,e),e.set(t,o)),o}if(!n.insert)throw new Error(an(10));const r=n.insert(t,e);return e.set(t,r),r}function PP(e){return typeof e=="boolean"}var $P=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:o=!0,actionCreatorCheck:s=!0}=t??{};let i=new Lx;return n&&(PP(n)?i.push(CP):i.push(IP(n.extraArgument))),i},NP="RTK_autoBatch",Fx=e=>t=>{setTimeout(t,e)},DP=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Fx(10),OP=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let o=!0,s=!1,i=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?DP:e.type==="callback"?e.queueNotification:Fx(e.timeout),c=()=>{i=!1,s&&(s=!1,a.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const d=()=>o&&u(),h=r.subscribe(d);return a.add(u),()=>{h(),a.delete(u)}},dispatch(u){var d;try{return o=!((d=u==null?void 0:u.meta)!=null&&d[NP]),s=!o,s&&(i||(i=!0,l(c))),r.dispatch(u)}finally{o=!0}}})},MP=e=>function(n){const{autoBatch:r=!0}=n??{};let o=new Lx(e);return r&&o.push(OP(typeof r=="object"?r:void 0)),o},VP=!0;function LP(e){const t=$P(),{reducer:n=void 0,middleware:r,devTools:o=!0,preloadedState:s=void 0,enhancers:i=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(qg(n))a=oP(n);else throw new Error(an(1));let l;typeof r=="function"?l=r(t):l=t();let c=Qu;o&&(c=RP({trace:!VP,...typeof o=="object"&&o}));const u=sP(...l),d=MP(u);let h=typeof i=="function"?i(d):d();const m=c(...h);return Ix(a,s,m)}function jx(e){const t={},n=[];let r;const o={addCase(s,i){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(an(28));if(a in t)throw new Error(an(29));return t[a]=i,o},addMatcher(s,i){return n.push({matcher:s,reducer:i}),o},addDefaultCase(s){return r=s,o}};return e(o),[t,n,r]}function FP(e){return typeof e=="function"}function jP(e,t){let[n,r,o]=jx(t),s;if(FP(e))s=()=>o_(e());else{const a=o_(e);s=()=>a}function i(a=s(),l){let c=[n[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[o]),c.reduce((u,d)=>{if(d)if(wo(u)){const m=d(u,l);return m===void 0?u:m}else{if(Nr(u))return Ox(u,h=>d(h,l));{const h=d(u,l);if(h===void 0){if(u===null)return u;throw new Error(an(9))}return h}}return u},a)}return i.getInitialState=s,i}var UP="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Ux=(e=21)=>{let t="",n=e;for(;n--;)t+=UP[Math.random()*64|0];return t},BP=(e,t)=>kP(e)?e.match(t):e(t);function zP(...e){return t=>e.some(n=>BP(n,t))}var WP=["name","message","stack","code"],Th=class{constructor(e,t){zf(this,"_type");this.payload=e,this.meta=t}},i_=class{constructor(e,t){zf(this,"_type");this.payload=e,this.meta=t}},HP=e=>{if(typeof e=="object"&&e!==null){const t={};for(const n of WP)typeof e[n]=="string"&&(t[n]=e[n]);return t}return{message:String(e)}},Qd=(()=>{function e(t,n,r){const o=Ar(t+"/fulfilled",(l,c,u,d)=>({payload:l,meta:{...d||{},arg:u,requestId:c,requestStatus:"fulfilled"}})),s=Ar(t+"/pending",(l,c,u)=>({payload:void 0,meta:{...u||{},arg:c,requestId:l,requestStatus:"pending"}})),i=Ar(t+"/rejected",(l,c,u,d,h)=>({payload:d,error:(r&&r.serializeError||HP)(l||"Rejected"),meta:{...h||{},arg:u,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function a(l){return(c,u,d)=>{const h=r!=null&&r.idGenerator?r.idGenerator(l):Ux(),m=new AbortController;let v,y;function w(p){y=p,m.abort()}const g=async function(){var E,x;let p;try{let b=(E=r==null?void 0:r.condition)==null?void 0:E.call(r,l,{getState:u,extra:d});if(KP(b)&&(b=await b),b===!1||m.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const C=new Promise((I,F)=>{v=()=>{F({name:"AbortError",message:y||"Aborted"})},m.signal.addEventListener("abort",v)});c(s(h,l,(x=r==null?void 0:r.getPendingMeta)==null?void 0:x.call(r,{requestId:h,arg:l},{getState:u,extra:d}))),p=await Promise.race([C,Promise.resolve(n(l,{dispatch:c,getState:u,extra:d,requestId:h,signal:m.signal,abort:w,rejectWithValue:(I,F)=>new Th(I,F),fulfillWithValue:(I,F)=>new i_(I,F)})).then(I=>{if(I instanceof Th)throw I;return I instanceof i_?o(I.payload,h,l,I.meta):o(I,h,l)})])}catch(b){p=b instanceof Th?i(null,h,l,b.payload,b.meta):i(b,h,l)}finally{v&&m.signal.removeEventListener("abort",v)}return r&&!r.dispatchConditionRejection&&i.match(p)&&p.meta.condition||c(p),p}();return Object.assign(g,{abort:w,requestId:h,arg:l,unwrap(){return g.then(qP)}})}}return Object.assign(a,{pending:s,rejected:i,fulfilled:o,settled:zP(i,o),typePrefix:t})}return e.withTypes=()=>e,e})();function qP(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function KP(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var GP=Symbol.for("rtk-slice-createasyncthunk");function QP(e,t){return`${e}/${t}`}function ZP({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[GP];return function(o){const{name:s,reducerPath:i=s}=o;if(!s)throw new Error(an(11));typeof process<"u";const a=(typeof o.reducers=="function"?o.reducers(JP()):o.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(_,E){const x=typeof _=="string"?_:_.type;if(!x)throw new Error(an(12));if(x in c.sliceCaseReducersByType)throw new Error(an(13));return c.sliceCaseReducersByType[x]=E,u},addMatcher(_,E){return c.sliceMatchers.push({matcher:_,reducer:E}),u},exposeAction(_,E){return c.actionCreators[_]=E,u},exposeCaseReducer(_,E){return c.sliceCaseReducersByName[_]=E,u}};l.forEach(_=>{const E=a[_],x={reducerName:_,type:QP(s,_),createNotation:typeof o.reducers=="function"};t2(E)?r2(x,E,u,t):e2(x,E,u)});function d(){const[_={},E=[],x=void 0]=typeof o.extraReducers=="function"?jx(o.extraReducers):[o.extraReducers],b={..._,...c.sliceCaseReducersByType};return jP(o.initialState,C=>{for(let I in b)C.addCase(I,b[I]);for(let I of c.sliceMatchers)C.addMatcher(I.matcher,I.reducer);for(let I of E)C.addMatcher(I.matcher,I.reducer);x&&C.addDefaultCase(x)})}const h=_=>_,m=new Map;let v;function y(_,E){return v||(v=d()),v(_,E)}function w(){return v||(v=d()),v.getInitialState()}function g(_,E=!1){function x(C){let I=C[_];return typeof I>"u"&&E&&(I=w()),I}function b(C=h){const I=s_(m,E,{insert:()=>new WeakMap});return s_(I,C,{insert:()=>{const F={};for(const[V,oe]of Object.entries(o.selectors??{}))F[V]=YP(oe,C,w,E);return F}})}return{reducerPath:_,getSelectors:b,get selectors(){return b(x)},selectSlice:x}}const p={name:s,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:w,...g(i),injectInto(_,{reducerPath:E,...x}={}){const b=E??i;return _.inject({reducerPath:b,reducer:y},x),{...p,...g(b,!0)}}};return p}}function YP(e,t,n,r){function o(s,...i){let a=t(s);return typeof a>"u"&&r&&(a=n()),e(a,...i)}return o.unwrapped=e,o}var XP=ZP();function JP(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function e2({type:e,reducerName:t,createNotation:n},r,o){let s,i;if("reducer"in r){if(n&&!n2(r))throw new Error(an(17));s=r.reducer,i=r.prepare}else s=r;o.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,i?Ar(e,i):Ar(e))}function t2(e){return e._reducerDefinitionType==="asyncThunk"}function n2(e){return e._reducerDefinitionType==="reducerWithPrepare"}function r2({type:e,reducerName:t},n,r,o){if(!o)throw new Error(an(18));const{payloadCreator:s,fulfilled:i,pending:a,rejected:l,settled:c,options:u}=n,d=o(e,s,u);r.exposeAction(t,d),i&&r.addCase(d.fulfilled,i),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(t,{fulfilled:i||$c,pending:a||$c,rejected:l||$c,settled:c||$c})}function $c(){}var o2=(e,t)=>{if(typeof e!="function")throw new Error(an(32))},Zg="listenerMiddleware",s2=e=>{let{type:t,actionCreator:n,matcher:r,predicate:o,effect:s}=e;if(t)o=Ar(t).match;else if(n)t=n.type,o=n.match;else if(r)o=r;else if(!o)throw new Error(an(21));return o2(s),{predicate:o,type:t,effect:s}},i2=Object.assign(e=>{const{type:t,predicate:n,effect:r}=s2(e);return{id:Ux(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(an(22))}}},{withTypes:()=>i2}),a2=Object.assign(Ar(`${Zg}/add`),{withTypes:()=>a2});Ar(`${Zg}/removeAll`);var l2=Object.assign(Ar(`${Zg}/remove`),{withTypes:()=>l2});function an(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var a_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},c2=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const s=e[n++];t[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){const s=e[n++],i=e[n++],a=e[n++],l=((o&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],i=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|i&63)}}return t.join("")},zx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const s=e[o],i=o+1<e.length,a=i?e[o+1]:0,l=o+2<e.length,c=l?e[o+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,m=c&63;l||(m=64,i||(h=64)),r.push(n[u],n[d],n[h],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Bx(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):c2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const s=n[e.charAt(o++)],a=o<e.length?n[e.charAt(o)]:0;++o;const c=o<e.length?n[e.charAt(o)]:64;++o;const d=o<e.length?n[e.charAt(o)]:64;if(++o,s==null||a==null||c==null||d==null)throw new u2;const h=s<<2|a>>4;if(r.push(h),c!==64){const m=a<<4&240|c>>2;if(r.push(m),d!==64){const v=c<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class u2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d2=function(e){const t=Bx(e);return zx.encodeByteArray(t,!0)},Ju=function(e){return d2(e).replace(/\./g,"")},f2=function(e){try{return zx.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=()=>h2().__FIREBASE_DEFAULTS__,m2=()=>{if(typeof process>"u"||typeof a_>"u")return;const e=a_.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},g2=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&f2(e[1]);return t&&JSON.parse(t)},Yg=()=>{try{return p2()||m2()||g2()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},y2=e=>{var t,n;return(n=(t=Yg())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},v2=e=>{const t=y2(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Wx=()=>{var e;return(e=Yg())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ju(JSON.stringify(n)),Ju(JSON.stringify(i)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x2(){var e;const t=(e=Yg())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T2(){return!x2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S2(){try{return typeof indexedDB=="object"}catch{return!1}}function b2(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var s;t(((s=o.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="FirebaseError";class Fi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=C2,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hx.prototype.create)}}class Hx{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,s=this.errors[t],i=s?I2(s,r):"Error",a=`${this.serviceName}: ${i} (${o}).`;return new Fi(o,a,r)}}function I2(e,t){return e.replace(A2,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const A2=/\{\$([^}]+)}/g;function Jp(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const s=e[o],i=t[o];if(l_(s)&&l_(i)){if(!Jp(s,i))return!1}else if(s!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function l_(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(e){return e&&e._delegate?e._delegate:e}class ol{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new _2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(P2(t))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:o});r.resolve(s)}catch{}}}}clearInstance(t=Bo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Bo){return this.instances.has(t)}getOptions(t=Bo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&i.resolve(o)}return o}onInit(t,n){var r;const o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(o,s);const i=this.instances.get(o);return i&&t(i,o),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:k2(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Bo){return this.component?this.component.multipleInstances?t:Bo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k2(e){return e===Bo?void 0:e}function P2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new R2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Te||(Te={}));const N2={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},D2=Te.INFO,O2={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},M2=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),o=O2[t];if(o)console[o](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qx{constructor(t){this.name=t,this._logLevel=D2,this._logHandler=M2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Te))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?N2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...t),this._logHandler(this,Te.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...t),this._logHandler(this,Te.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...t),this._logHandler(this,Te.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...t),this._logHandler(this,Te.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...t),this._logHandler(this,Te.ERROR,...t)}}const V2=(e,t)=>t.some(n=>e instanceof n);let c_,u_;function L2(){return c_||(c_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F2(){return u_||(u_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kx=new WeakMap,em=new WeakMap,Gx=new WeakMap,Sh=new WeakMap,Xg=new WeakMap;function j2(e){const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{n(fo(e.result)),o()},i=()=>{r(e.error),o()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(n=>{n instanceof IDBCursor&&Kx.set(n,e)}).catch(()=>{}),Xg.set(t,e),t}function U2(e){if(em.has(e))return;const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{n(),o()},i=()=>{r(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});em.set(e,t)}let tm={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return em.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Gx.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fo(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function B2(e){tm=e(tm)}function z2(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(bh(this),t,...n);return Gx.set(r,t.sort?t.sort():[t]),fo(r)}:F2().includes(e)?function(...t){return e.apply(bh(this),t),fo(Kx.get(this))}:function(...t){return fo(e.apply(bh(this),t))}}function W2(e){return typeof e=="function"?z2(e):(e instanceof IDBTransaction&&U2(e),V2(e,L2())?new Proxy(e,tm):e)}function fo(e){if(e instanceof IDBRequest)return j2(e);if(Sh.has(e))return Sh.get(e);const t=W2(e);return t!==e&&(Sh.set(e,t),Xg.set(t,e)),t}const bh=e=>Xg.get(e);function H2(e,t,{blocked:n,upgrade:r,blocking:o,terminated:s}={}){const i=indexedDB.open(e,t),a=fo(i);return r&&i.addEventListener("upgradeneeded",l=>{r(fo(i.result),l.oldVersion,l.newVersion,fo(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),o&&l.addEventListener("versionchange",c=>o(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const q2=["get","getKey","getAll","getAllKeys","count"],K2=["put","add","delete","clear"],Ch=new Map;function d_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ch.get(t))return Ch.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=K2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||q2.includes(n)))return;const s=async function(i,...a){const l=this.transaction(i,o?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),o&&l.done]))[0]};return Ch.set(t,s),s}B2(e=>({...e,get:(t,n,r)=>d_(t,n)||e.get(t,n,r),has:(t,n)=>!!d_(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Q2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Q2(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const nm="@firebase/app",f_="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new qx("@firebase/app"),Z2="@firebase/app-compat",Y2="@firebase/analytics-compat",X2="@firebase/analytics",J2="@firebase/app-check-compat",e$="@firebase/app-check",t$="@firebase/auth",n$="@firebase/auth-compat",r$="@firebase/database",o$="@firebase/database-compat",s$="@firebase/functions",i$="@firebase/functions-compat",a$="@firebase/installations",l$="@firebase/installations-compat",c$="@firebase/messaging",u$="@firebase/messaging-compat",d$="@firebase/performance",f$="@firebase/performance-compat",h$="@firebase/remote-config",p$="@firebase/remote-config-compat",m$="@firebase/storage",g$="@firebase/storage-compat",y$="@firebase/firestore",v$="@firebase/firestore-compat",_$="firebase",w$="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="[DEFAULT]",E$={[nm]:"fire-core",[Z2]:"fire-core-compat",[X2]:"fire-analytics",[Y2]:"fire-analytics-compat",[e$]:"fire-app-check",[J2]:"fire-app-check-compat",[t$]:"fire-auth",[n$]:"fire-auth-compat",[r$]:"fire-rtdb",[o$]:"fire-rtdb-compat",[s$]:"fire-fn",[i$]:"fire-fn-compat",[a$]:"fire-iid",[l$]:"fire-iid-compat",[c$]:"fire-fcm",[u$]:"fire-fcm-compat",[d$]:"fire-perf",[f$]:"fire-perf-compat",[h$]:"fire-rc",[p$]:"fire-rc-compat",[m$]:"fire-gcs",[g$]:"fire-gcs-compat",[y$]:"fire-fst",[v$]:"fire-fst-compat","fire-js":"fire-js",[_$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Map,x$=new Map,om=new Map;function h_(e,t){try{e.container.addComponent(t)}catch(n){as.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function td(e){const t=e.name;if(om.has(t))return as.debug(`There were multiple attempts to register component ${t}.`),!1;om.set(t,e);for(const n of ed.values())h_(n,e);for(const n of x$.values())h_(n,e);return!0}function T$(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ho=new Hx("app","Firebase",S$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ol("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ho.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$=w$;function Qx(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:rm,automaticDataCollectionEnabled:!1},t),o=r.name;if(typeof o!="string"||!o)throw ho.create("bad-app-name",{appName:String(o)});if(n||(n=Wx()),!n)throw ho.create("no-options");const s=ed.get(o);if(s){if(Jp(n,s.options)&&Jp(r,s.config))return s;throw ho.create("duplicate-app",{appName:o})}const i=new $2(o);for(const l of om.values())i.addComponent(l);const a=new b$(n,r,i);return ed.set(o,a),a}function I$(e=rm){const t=ed.get(e);if(!t&&e===rm&&Wx())return Qx();if(!t)throw ho.create("no-app",{appName:e});return t}function si(e,t,n){var r;let o=(r=E$[e])!==null&&r!==void 0?r:e;n&&(o+=`-${n}`);const s=o.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const a=[`Unable to register library "${o}" with version "${t}":`];s&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),as.warn(a.join(" "));return}td(new ol(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$="firebase-heartbeat-database",R$=1,sl="firebase-heartbeat-store";let Ih=null;function Zx(){return Ih||(Ih=H2(A$,R$,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(sl)}catch(n){console.warn(n)}}}}).catch(e=>{throw ho.create("idb-open",{originalErrorMessage:e.message})})),Ih}async function k$(e){try{const n=(await Zx()).transaction(sl),r=await n.objectStore(sl).get(Yx(e));return await n.done,r}catch(t){if(t instanceof Fi)as.warn(t.message);else{const n=ho.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});as.warn(n.message)}}}async function p_(e,t){try{const r=(await Zx()).transaction(sl,"readwrite");await r.objectStore(sl).put(t,Yx(e)),await r.done}catch(n){if(n instanceof Fi)as.warn(n.message);else{const r=ho.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});as.warn(r.message)}}}function Yx(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$=1024,$$=30*24*60*60*1e3;class N${constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new O$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=m_();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const a=new Date(i.date).valueOf();return Date.now()-a<=$$}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=m_(),{heartbeatsToSend:r,unsentEntries:o}=D$(this._heartbeatsCache.heartbeats),s=Ju(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function m_(){return new Date().toISOString().substring(0,10)}function D$(e,t=P$){const n=[];let r=e.slice();for(const o of e){const s=n.find(i=>i.agent===o.agent);if(s){if(s.dates.push(o.date),g_(n)>t){s.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),g_(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class O${constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return S2()?b2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await k$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return p_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return p_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function g_(e){return Ju(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(e){td(new ol("platform-logger",t=>new G2(t),"PRIVATE")),td(new ol("heartbeat",t=>new N$(t),"PRIVATE")),si(nm,f_,e),si(nm,f_,"esm2017"),si("fire-js","")}M$("");var V$="firebase",L$="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si(V$,L$,"app");var F$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W,Jg=Jg||{},fe=F$||self;function Zd(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Yd(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function j$(e){return Object.prototype.hasOwnProperty.call(e,Ah)&&e[Ah]||(e[Ah]=++U$)}var Ah="closure_uid_"+(1e9*Math.random()>>>0),U$=0;function B$(e,t,n){return e.call.apply(e.bind,arguments)}function z$(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function Ft(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ft=B$:Ft=z$,Ft.apply(null,arguments)}function Nc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Et(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,o,s){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[o].apply(r,i)}}function Oo(){this.s=this.s,this.o=this.o}var W$=0;Oo.prototype.s=!1;Oo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),W$!=0)&&j$(this)};Oo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xx=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ey(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function y_(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Zd(r)){const o=e.length||0,s=r.length||0;e.length=o+s;for(let i=0;i<s;i++)e[o+i]=r[i]}else e.push(r)}}function jt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}jt.prototype.h=function(){this.defaultPrevented=!0};var H$=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};fe.addEventListener("test",n,t),fe.removeEventListener("test",n,t)}catch{}return e}();function il(e){return/^[\s\xa0]*$/.test(e)}function Xd(){var e=fe.navigator;return e&&(e=e.userAgent)?e:""}function tr(e){return Xd().indexOf(e)!=-1}function ty(e){return ty[" "](e),e}ty[" "]=function(){};function q$(e,t){var n=FN;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var K$=tr("Opera"),Ei=tr("Trident")||tr("MSIE"),Jx=tr("Edge"),sm=Jx||Ei,eT=tr("Gecko")&&!(Xd().toLowerCase().indexOf("webkit")!=-1&&!tr("Edge"))&&!(tr("Trident")||tr("MSIE"))&&!tr("Edge"),G$=Xd().toLowerCase().indexOf("webkit")!=-1&&!tr("Edge");function tT(){var e=fe.document;return e?e.documentMode:void 0}var im;e:{var Rh="",kh=function(){var e=Xd();if(eT)return/rv:([^\);]+)(\)|;)/.exec(e);if(Jx)return/Edge\/([\d\.]+)/.exec(e);if(Ei)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(G$)return/WebKit\/(\S+)/.exec(e);if(K$)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(kh&&(Rh=kh?kh[1]:""),Ei){var Ph=tT();if(Ph!=null&&Ph>parseFloat(Rh)){im=String(Ph);break e}}im=Rh}var am;if(fe.document&&Ei){var v_=tT();am=v_||parseInt(im,10)||void 0}else am=void 0;var Q$=am;function al(e,t){if(jt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(eT){e:{try{ty(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Z$[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&al.$.h.call(this)}}Et(al,jt);var Z$={2:"touch",3:"pen",4:"mouse"};al.prototype.h=function(){al.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Jd="closure_listenable_"+(1e6*Math.random()|0),Y$=0;function X$(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=o,this.key=++Y$,this.fa=this.ia=!1}function ef(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ny(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function J$(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function nT(e){const t={};for(const n in e)t[n]=e[n];return t}const __="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rT(e,t){let n,r;for(let o=1;o<arguments.length;o++){r=arguments[o];for(n in r)e[n]=r[n];for(let s=0;s<__.length;s++)n=__[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function tf(e){this.src=e,this.g={},this.h=0}tf.prototype.add=function(e,t,n,r,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var i=cm(e,t,r,o);return-1<i?(t=e[i],n||(t.ia=!1)):(t=new X$(t,this.src,s,!!r,o),t.ia=n,e.push(t)),t};function lm(e,t){var n=t.type;if(n in e.g){var r=e.g[n],o=Xx(r,t),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(ef(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function cm(e,t,n,r){for(var o=0;o<e.length;++o){var s=e[o];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return o}return-1}var ry="closure_lm_"+(1e6*Math.random()|0),$h={};function oT(e,t,n,r,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)oT(e,t[s],n,r,o);return null}return n=aT(n),e&&e[Jd]?e.O(t,n,Yd(r)?!!r.capture:!!r,o):eN(e,t,n,!1,r,o)}function eN(e,t,n,r,o,s){if(!t)throw Error("Invalid event type");var i=Yd(o)?!!o.capture:!!o,a=sy(e);if(a||(e[ry]=a=new tf(e)),n=a.add(t,n,r,i,s),n.proxy)return n;if(r=tN(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)H$||(o=i),o===void 0&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(iT(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function tN(){function e(n){return t.call(e.src,e.listener,n)}const t=nN;return e}function sT(e,t,n,r,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)sT(e,t[s],n,r,o);else r=Yd(r)?!!r.capture:!!r,n=aT(n),e&&e[Jd]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=cm(s,n,r,o),-1<n&&(ef(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=sy(e))&&(t=e.g[t.toString()],e=-1,t&&(e=cm(t,n,r,o)),(n=-1<e?t[e]:null)&&oy(n))}function oy(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Jd])lm(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(iT(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=sy(t))?(lm(n,e),n.h==0&&(n.src=null,t[ry]=null)):ef(e)}}}function iT(e){return e in $h?$h[e]:$h[e]="on"+e}function nN(e,t){if(e.fa)e=!0;else{t=new al(t,this);var n=e.listener,r=e.la||e.src;e.ia&&oy(e),e=n.call(r,t)}return e}function sy(e){return e=e[ry],e instanceof tf?e:null}var Nh="__closure_events_fn_"+(1e9*Math.random()>>>0);function aT(e){return typeof e=="function"?e:(e[Nh]||(e[Nh]=function(t){return e.handleEvent(t)}),e[Nh])}function wt(){Oo.call(this),this.i=new tf(this),this.S=this,this.J=null}Et(wt,Oo);wt.prototype[Jd]=!0;wt.prototype.removeEventListener=function(e,t,n,r){sT(this,e,t,n,r)};function At(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new jt(t,e);else if(t instanceof jt)t.target=t.target||e;else{var o=t;t=new jt(r,e),rT(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var i=t.g=n[s];o=Dc(i,r,!0,t)&&o}if(i=t.g=e,o=Dc(i,r,!0,t)&&o,o=Dc(i,r,!1,t)&&o,n)for(s=0;s<n.length;s++)i=t.g=n[s],o=Dc(i,r,!1,t)&&o}wt.prototype.N=function(){if(wt.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ef(n[r]);delete e.g[t],e.h--}}this.J=null};wt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};wt.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Dc(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var i=t[s];if(i&&!i.fa&&i.capture==n){var a=i.listener,l=i.la||i.src;i.ia&&lm(e.i,i),o=a.call(l,r)!==!1&&o}}return o&&!r.defaultPrevented}var iy=fe.JSON.stringify;class rN{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function oN(){var e=ay;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class sN{constructor(){this.h=this.g=null}add(t,n){const r=lT.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var lT=new rN(()=>new iN,e=>e.reset());class iN{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function aN(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function lN(e){fe.setTimeout(()=>{throw e},0)}let ll,cl=!1,ay=new sN,cT=()=>{const e=fe.Promise.resolve(void 0);ll=()=>{e.then(cN)}};var cN=()=>{for(var e;e=oN();){try{e.h.call(e.g)}catch(n){lN(n)}var t=lT;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}cl=!1};function nf(e,t){wt.call(this),this.h=e||1,this.g=t||fe,this.j=Ft(this.qb,this),this.l=Date.now()}Et(nf,wt);W=nf.prototype;W.ga=!1;W.T=null;W.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),At(this,"tick"),this.ga&&(ly(this),this.start()))}};W.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ly(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}W.N=function(){nf.$.N.call(this),ly(this),delete this.g};function cy(e,t,n){if(typeof e=="function")n&&(e=Ft(e,n));else if(e&&typeof e.handleEvent=="function")e=Ft(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:fe.setTimeout(e,t||0)}function uT(e){e.g=cy(()=>{e.g=null,e.i&&(e.i=!1,uT(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class uN extends Oo{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:uT(this)}N(){super.N(),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ul(e){Oo.call(this),this.h=e,this.g={}}Et(ul,Oo);var w_=[];function dT(e,t,n,r){Array.isArray(n)||(n&&(w_[0]=n.toString()),n=w_);for(var o=0;o<n.length;o++){var s=oT(t,n[o],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function fT(e){ny(e.g,function(t,n){this.g.hasOwnProperty(n)&&oy(t)},e),e.g={}}ul.prototype.N=function(){ul.$.N.call(this),fT(this)};ul.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function rf(){this.g=!0}rf.prototype.Ea=function(){this.g=!1};function dN(e,t,n,r,o,s){e.info(function(){if(e.g)if(s)for(var i="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");i=2<=d.length&&d[1]=="type"?i+(u+"="+c+"&"):i+(u+"=redacted&")}}else i=null;else i=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+`
`+n+`
`+i})}function fN(e,t,n,r,o,s,i){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+i})}function Ys(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+pN(e,n)+(r?" "+r:"")})}function hN(e,t){e.info(function(){return"TIMEOUT: "+t})}rf.prototype.info=function(){};function pN(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var i=1;i<o.length;i++)o[i]=""}}}}return iy(n)}catch{return t}}var vs={},E_=null;function of(){return E_=E_||new wt}vs.Ta="serverreachability";function hT(e){jt.call(this,vs.Ta,e)}Et(hT,jt);function dl(e){const t=of();At(t,new hT(t))}vs.STAT_EVENT="statevent";function pT(e,t){jt.call(this,vs.STAT_EVENT,e),this.stat=t}Et(pT,jt);function qt(e){const t=of();At(t,new pT(t,e))}vs.Ua="timingevent";function mT(e,t){jt.call(this,vs.Ua,e),this.size=t}Et(mT,jt);function Kl(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){e()},t)}var sf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function uy(){}uy.prototype.h=null;function x_(e){return e.h||(e.h=e.i())}function yT(){}var Gl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function dy(){jt.call(this,"d")}Et(dy,jt);function fy(){jt.call(this,"c")}Et(fy,jt);var um;function af(){}Et(af,uy);af.prototype.g=function(){return new XMLHttpRequest};af.prototype.i=function(){return{}};um=new af;function Ql(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ul(this),this.P=mN,e=sm?125:void 0,this.V=new nf(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new vT}function vT(){this.i=null,this.g="",this.h=!1}var mN=45e3,_T={},dm={};W=Ql.prototype;W.setTimeout=function(e){this.P=e};function fm(e,t,n){e.L=1,e.A=cf(Or(t)),e.u=n,e.S=!0,wT(e,null)}function wT(e,t){e.G=Date.now(),Zl(e),e.B=Or(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),AT(n.i,"t",r),e.o=0,n=e.l.J,e.h=new vT,e.g=QT(e.l,n?t:null,!e.u),0<e.O&&(e.M=new uN(Ft(e.Pa,e,e.g),e.O)),dT(e.U,e.g,"readystatechange",e.nb),t=e.I?nT(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),dl(),dN(e.j,e.v,e.B,e.m,e.W,e.u)}W.nb=function(e){e=e.target;const t=this.M;t&&or(e)==3?t.l():this.Pa(e)};W.Pa=function(e){try{if(e==this.g)e:{const u=or(this.g);var t=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||sm||this.g&&(this.h.h||this.g.ja()||C_(this.g)))){this.J||u!=4||t==7||(t==8||0>=d?dl(3):dl(2)),lf(this);var n=this.g.da();this.ca=n;t:if(ET(this)){var r=C_(this.g);e="";var o=r.length,s=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ko(this),Na(this);var i="";break t}this.h.i=new fe.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==o-1});r.length=0,this.h.g+=e,this.o=0,i=this.h.g}else i=this.g.ja();if(this.i=n==200,fN(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!il(a)){var c=a;break t}}c=null}if(n=c)Ys(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hm(this,n);else{this.i=!1,this.s=3,qt(12),Ko(this),Na(this);break e}}this.S?(xT(this,u,i),sm&&this.i&&u==3&&(dT(this.U,this.V,"tick",this.mb),this.V.start())):(Ys(this.j,this.m,i,null),hm(this,i)),u==4&&Ko(this),this.i&&!this.J&&(u==4?HT(this.l,this):(this.i=!1,Zl(this)))}else MN(this.g),n==400&&0<i.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),Ko(this),Na(this)}}}catch{}finally{}};function ET(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function xT(e,t,n){let r=!0,o;for(;!e.J&&e.o<n.length;)if(o=gN(e,n),o==dm){t==4&&(e.s=4,qt(14),r=!1),Ys(e.j,e.m,null,"[Incomplete Response]");break}else if(o==_T){e.s=4,qt(15),Ys(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Ys(e.j,e.m,o,null),hm(e,o);ET(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,qt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),vy(t),t.M=!0,qt(11))):(Ys(e.j,e.m,n,"[Invalid Chunked Response]"),Ko(e),Na(e))}W.mb=function(){if(this.g){var e=or(this.g),t=this.g.ja();this.o<t.length&&(lf(this),xT(this,e,t),this.i&&e!=4&&Zl(this))}};function gN(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?dm:(n=Number(t.substring(n,r)),isNaN(n)?_T:(r+=1,r+n>t.length?dm:(t=t.slice(r,r+n),e.o=r+n,t)))}W.cancel=function(){this.J=!0,Ko(this)};function Zl(e){e.Y=Date.now()+e.P,TT(e,e.P)}function TT(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=Kl(Ft(e.lb,e),t)}function lf(e){e.C&&(fe.clearTimeout(e.C),e.C=null)}W.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(hN(this.j,this.B),this.L!=2&&(dl(),qt(17)),Ko(this),this.s=2,Na(this)):TT(this,this.Y-e)};function Na(e){e.l.H==0||e.J||HT(e.l,e)}function Ko(e){lf(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,ly(e.V),fT(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function hm(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||pm(n.i,e))){if(!e.K&&pm(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)od(n),ff(n);else break e;yy(n),qt(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&n.A==0&&!n.v&&(n.v=Kl(Ft(n.ib,n),6e3));if(1>=PT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Go(n,11)}else if((e.K||n.g==e)&&od(n),!il(t))for(o=n.Ja.g.parse(t),t=0;t<o.length;t++){let c=o[t];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=e.g;if(m){const v=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(hy(s,s.h),s.h=null))}if(r.F){const y=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,ze(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var i=e;if(r.wa=GT(r,r.J?r.pa:null,r.Y),i.K){$T(r.i,i);var a=i,l=r.L;l&&a.setTimeout(l),a.C&&(lf(a),Zl(a)),r.g=i}else zT(r);0<n.j.length&&hf(n)}else c[0]!="stop"&&c[0]!="close"||Go(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Go(n,7):gy(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}dl(4)}catch{}}function yN(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Zd(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function vN(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Zd(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function ST(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Zd(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=vN(e),r=yN(e),o=r.length,s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}var bT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _N(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var s=e[n].substring(0,r);o=e[n].substring(r+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Jo(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Jo){this.h=e.h,nd(this,e.j),this.s=e.s,this.g=e.g,rd(this,e.m),this.l=e.l;var t=e.i,n=new fl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),T_(this,n),this.o=e.o}else e&&(t=String(e).match(bT))?(this.h=!1,nd(this,t[1]||"",!0),this.s=ya(t[2]||""),this.g=ya(t[3]||"",!0),rd(this,t[4]),this.l=ya(t[5]||"",!0),T_(this,t[6]||"",!0),this.o=ya(t[7]||"")):(this.h=!1,this.i=new fl(null,this.h))}Jo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(va(t,S_,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(va(t,S_,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(va(n,n.charAt(0)=="/"?xN:EN,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",va(n,SN)),e.join("")};function Or(e){return new Jo(e)}function nd(e,t,n){e.j=n?ya(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function rd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function T_(e,t,n){t instanceof fl?(e.i=t,bN(e.i,e.h)):(n||(t=va(t,TN)),e.i=new fl(t,e.h))}function ze(e,t,n){e.i.set(t,n)}function cf(e){return ze(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ya(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function va(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,wN),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function wN(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var S_=/[#\/\?@]/g,EN=/[#\?:]/g,xN=/[#\?]/g,TN=/[#\?@]/g,SN=/#/g;function fl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Mo(e){e.g||(e.g=new Map,e.h=0,e.i&&_N(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}W=fl.prototype;W.add=function(e,t){Mo(this),this.i=null,e=ji(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function CT(e,t){Mo(e),t=ji(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function IT(e,t){return Mo(e),t=ji(e,t),e.g.has(t)}W.forEach=function(e,t){Mo(this),this.g.forEach(function(n,r){n.forEach(function(o){e.call(t,o,r,this)},this)},this)};W.ta=function(){Mo(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const o=e[r];for(let s=0;s<o.length;s++)n.push(t[r])}return n};W.Z=function(e){Mo(this);let t=[];if(typeof e=="string")IT(this,e)&&(t=t.concat(this.g.get(ji(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};W.set=function(e,t){return Mo(this),this.i=null,e=ji(this,e),IT(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};W.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function AT(e,t,n){CT(e,t),0<n.length&&(e.i=null,e.g.set(ji(e,t),ey(n)),e.h+=n.length)}W.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),i=this.Z(r);for(r=0;r<i.length;r++){var o=s;i[r]!==""&&(o+="="+encodeURIComponent(String(i[r]))),e.push(o)}}return this.i=e.join("&")};function ji(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function bN(e,t){t&&!e.j&&(Mo(e),e.i=null,e.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(CT(this,r),AT(this,o,n))},e)),e.j=t}var CN=class{constructor(e,t){this.g=e,this.map=t}};function RT(e){this.l=e||IN,fe.PerformanceNavigationTiming?(e=fe.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(fe.g&&fe.g.Ka&&fe.g.Ka()&&fe.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var IN=10;function kT(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function PT(e){return e.h?1:e.g?e.g.size:0}function pm(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function hy(e,t){e.g?e.g.add(t):e.h=t}function $T(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}RT.prototype.cancel=function(){if(this.i=NT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function NT(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return ey(e.i)}var AN=class{stringify(e){return fe.JSON.stringify(e,void 0)}parse(e){return fe.JSON.parse(e,void 0)}};function RN(){this.g=new AN}function kN(e,t,n){const r=n||"";try{ST(e,function(o,s){let i=o;Yd(o)&&(i=iy(o)),t.push(r+s+"="+encodeURIComponent(i))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function PN(e,t){const n=new rf;if(fe.Image){const r=new Image;r.onload=Nc(Oc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Nc(Oc,n,r,"TestLoadImage: error",!1,t),r.onabort=Nc(Oc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Nc(Oc,n,r,"TestLoadImage: timeout",!1,t),fe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Oc(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch{}}function Yl(e){this.l=e.ec||null,this.j=e.ob||!1}Et(Yl,uy);Yl.prototype.g=function(){return new uf(this.l,this.j)};Yl.prototype.i=function(e){return function(){return e}}({});function uf(e,t){wt.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=py,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Et(uf,wt);var py=0;W=uf.prototype;W.open=function(e,t){if(this.readyState!=py)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,hl(this)};W.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||fe).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xl(this)),this.readyState=py};W.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,hl(this)),this.g&&(this.readyState=3,hl(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof fe.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;DT(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function DT(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}W.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Xl(this):hl(this),this.readyState==3&&DT(this)}};W.Za=function(e){this.g&&(this.response=this.responseText=e,Xl(this))};W.Ya=function(e){this.g&&(this.response=e,Xl(this))};W.ka=function(){this.g&&Xl(this)};function Xl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,hl(e)}W.setRequestHeader=function(e,t){this.v.append(e,t)};W.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};W.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function hl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(uf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var $N=fe.JSON.parse;function nt(e){wt.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=OT,this.L=this.M=!1}Et(nt,wt);var OT="",NN=/^https?$/i,DN=["POST","PUT"];W=nt.prototype;W.Oa=function(e){this.M=e};W.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():um.g(),this.C=this.u?x_(this.u):x_(um),this.g.onreadystatechange=Ft(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){b_(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),o=fe.FormData&&e instanceof fe.FormData,!(0<=Xx(DN,t))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,i]of n)this.g.setRequestHeader(s,i);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{LT(this),0<this.B&&((this.L=ON(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ft(this.ua,this)):this.A=cy(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){b_(this,s)}};function ON(e){return Ei&&typeof e.timeout=="number"&&e.ontimeout!==void 0}W.ua=function(){typeof Jg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,At(this,"timeout"),this.abort(8))};function b_(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,MT(e),df(e)}function MT(e){e.F||(e.F=!0,At(e,"complete"),At(e,"error"))}W.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,At(this,"complete"),At(this,"abort"),df(this))};W.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),df(this,!0)),nt.$.N.call(this)};W.La=function(){this.s||(this.G||this.v||this.l?VT(this):this.kb())};W.kb=function(){VT(this)};function VT(e){if(e.h&&typeof Jg<"u"&&(!e.C[1]||or(e)!=4||e.da()!=2)){if(e.v&&or(e)==4)cy(e.La,0,e);else if(At(e,"readystatechange"),or(e)==4){e.h=!1;try{const i=e.da();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=i===0){var o=String(e.I).match(bT)[1]||null;!o&&fe.self&&fe.self.location&&(o=fe.self.location.protocol.slice(0,-1)),r=!NN.test(o?o.toLowerCase():"")}n=r}if(n)At(e,"complete"),At(e,"success");else{e.m=6;try{var s=2<or(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",MT(e)}}finally{df(e)}}}}function df(e,t){if(e.g){LT(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||At(e,"ready");try{n.onreadystatechange=r}catch{}}}function LT(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(fe.clearTimeout(e.A),e.A=null)}W.isActive=function(){return!!this.g};function or(e){return e.g?e.g.readyState:0}W.da=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}};W.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};W.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),$N(t)}};function C_(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case OT:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function MN(e){const t={};e=(e.g&&2<=or(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(il(e[r]))continue;var n=aN(e[r]);const o=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[o]||[];t[o]=s,s.push(n)}J$(t,function(r){return r.join(", ")})}W.Ia=function(){return this.m};W.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function FT(e){let t="";return ny(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function my(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=FT(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ze(e,t,n))}function aa(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function jT(e){this.Ga=0,this.j=[],this.l=new rf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=aa("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=aa("baseRetryDelayMs",5e3,e),this.hb=aa("retryDelaySeedMs",1e4,e),this.eb=aa("forwardChannelMaxRetries",2,e),this.xa=aa("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new RT(e&&e.concurrentRequestLimit),this.Ja=new RN,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}W=jT.prototype;W.ra=8;W.H=1;function gy(e){if(UT(e),e.H==3){var t=e.W++,n=Or(e.I);if(ze(n,"SID",e.K),ze(n,"RID",t),ze(n,"TYPE","terminate"),Jl(e,n),t=new Ql(e,e.l,t),t.L=2,t.A=cf(Or(n)),n=!1,fe.navigator&&fe.navigator.sendBeacon)try{n=fe.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&fe.Image&&(new Image().src=t.A,n=!0),n||(t.g=QT(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Zl(t)}KT(e)}function ff(e){e.g&&(vy(e),e.g.cancel(),e.g=null)}function UT(e){ff(e),e.u&&(fe.clearTimeout(e.u),e.u=null),od(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&fe.clearTimeout(e.m),e.m=null)}function hf(e){if(!kT(e.i)&&!e.m){e.m=!0;var t=e.Na;ll||cT(),cl||(ll(),cl=!0),ay.add(t,e),e.C=0}}function VN(e,t){return PT(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Kl(Ft(e.Na,e,t),qT(e,e.C)),e.C++,!0)}W.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const o=new Ql(this,this.l,e);let s=this.s;if(this.U&&(s?(s=nT(s),rT(s,this.U)):s=this.U),this.o!==null||this.O||(o.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=BT(this,o,t),n=Or(this.I),ze(n,"RID",e),ze(n,"CVER",22),this.F&&ze(n,"X-HTTP-Session-Id",this.F),Jl(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(FT(s)))+"&"+t:this.o&&my(n,this.o,s)),hy(this.i,o),this.bb&&ze(n,"TYPE","init"),this.P?(ze(n,"$req",t),ze(n,"SID","null"),o.aa=!0,fm(o,n,null)):fm(o,n,t),this.H=2}}else this.H==3&&(e?I_(this,e):this.j.length==0||kT(this.i)||I_(this))};function I_(e,t){var n;t?n=t.m:n=e.W++;const r=Or(e.I);ze(r,"SID",e.K),ze(r,"RID",n),ze(r,"AID",e.V),Jl(e,r),e.o&&e.s&&my(r,e.o,e.s),n=new Ql(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=BT(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),hy(e.i,n),fm(n,r,t)}function Jl(e,t){e.na&&ny(e.na,function(n,r){ze(t,r,n)}),e.h&&ST({},function(n,r){ze(t,r,n)})}function BT(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ft(e.h.Va,e.h,e):null;e:{var o=e.j;let s=-1;for(;;){const i=["count="+n];s==-1?0<n?(s=o[0].g,i.push("ofs="+s)):s=0:i.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=o[l].g;const u=o[l].map;if(c-=s,0>c)s=Math.max(0,o[l].g-100),a=!1;else try{kN(u,i,"req"+c+"_")}catch{r&&r(u)}}if(a){r=i.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function zT(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ll||cT(),cl||(ll(),cl=!0),ay.add(t,e),e.A=0}}function yy(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Kl(Ft(e.Ma,e),qT(e,e.A)),e.A++,!0)}W.Ma=function(){if(this.u=null,WT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Kl(Ft(this.jb,this),e)}};W.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,qt(10),ff(this),WT(this))};function vy(e){e.B!=null&&(fe.clearTimeout(e.B),e.B=null)}function WT(e){e.g=new Ql(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Or(e.wa);ze(t,"RID","rpc"),ze(t,"SID",e.K),ze(t,"AID",e.V),ze(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ze(t,"TO",e.qa),ze(t,"TYPE","xmlhttp"),Jl(e,t),e.o&&e.s&&my(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=cf(Or(t)),n.u=null,n.S=!0,wT(n,e)}W.ib=function(){this.v!=null&&(this.v=null,ff(this),yy(this),qt(19))};function od(e){e.v!=null&&(fe.clearTimeout(e.v),e.v=null)}function HT(e,t){var n=null;if(e.g==t){od(e),vy(e),e.g=null;var r=2}else if(pm(e.i,t))n=t.F,$T(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var o=e.C;r=of(),At(r,new mT(r,n)),hf(e)}else zT(e);else if(o=t.s,o==3||o==0&&0<t.ca||!(r==1&&VN(e,t)||r==2&&yy(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:Go(e,5);break;case 4:Go(e,10);break;case 3:Go(e,6);break;default:Go(e,2)}}}function qT(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Go(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Ft(e.pb,e);n||(n=new Jo("//www.google.com/images/cleardot.gif"),fe.location&&fe.location.protocol=="http"||nd(n,"https"),cf(n)),PN(n.toString(),r)}else qt(2);e.H=0,e.h&&e.h.za(t),KT(e),UT(e)}W.pb=function(e){e?(this.l.info("Successfully pinged google.com"),qt(2)):(this.l.info("Failed to ping google.com"),qt(1))};function KT(e){if(e.H=0,e.ma=[],e.h){const t=NT(e.i);(t.length!=0||e.j.length!=0)&&(y_(e.ma,t),y_(e.ma,e.j),e.i.i.length=0,ey(e.j),e.j.length=0),e.h.ya()}}function GT(e,t,n){var r=n instanceof Jo?Or(n):new Jo(n);if(r.g!="")t&&(r.g=t+"."+r.g),rd(r,r.m);else{var o=fe.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new Jo(null);r&&nd(s,r),t&&(s.g=t),o&&rd(s,o),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&ze(r,n,t),ze(r,"VER",e.ra),Jl(e,r),r}function QT(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new nt(new Yl({ob:n})):new nt(e.va),t.Oa(e.J),t}W.isActive=function(){return!!this.h&&this.h.isActive(this)};function ZT(){}W=ZT.prototype;W.Ba=function(){};W.Aa=function(){};W.za=function(){};W.ya=function(){};W.isActive=function(){return!0};W.Va=function(){};function sd(){if(Ei&&!(10<=Number(Q$)))throw Error("Environmental error: no available transport.")}sd.prototype.g=function(e,t){return new xn(e,t)};function xn(e,t){wt.call(this),this.g=new jT(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!il(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!il(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Ui(this)}Et(xn,wt);xn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;qt(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=GT(e,null,e.Y),hf(e)};xn.prototype.close=function(){gy(this.g)};xn.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=iy(e),e=n);t.j.push(new CN(t.fb++,e)),t.H==3&&hf(t)};xn.prototype.N=function(){this.g.h=null,delete this.j,gy(this.g),delete this.g,xn.$.N.call(this)};function YT(e){dy.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Et(YT,dy);function XT(){fy.call(this),this.status=1}Et(XT,fy);function Ui(e){this.g=e}Et(Ui,ZT);Ui.prototype.Ba=function(){At(this.g,"a")};Ui.prototype.Aa=function(e){At(this.g,new YT(e))};Ui.prototype.za=function(e){At(this.g,new XT)};Ui.prototype.ya=function(){At(this.g,"b")};function LN(){this.blockSize=-1}function Kn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Et(Kn,LN);Kn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Dh(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var o=0;16>o;++o)r[o]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],o=e.g[2];var s=e.g[3],i=t+(s^n&(o^s))+r[0]+3614090360&4294967295;t=n+(i<<7&4294967295|i>>>25),i=s+(o^t&(n^o))+r[1]+3905402710&4294967295,s=t+(i<<12&4294967295|i>>>20),i=o+(n^s&(t^n))+r[2]+606105819&4294967295,o=s+(i<<17&4294967295|i>>>15),i=n+(t^o&(s^t))+r[3]+3250441966&4294967295,n=o+(i<<22&4294967295|i>>>10),i=t+(s^n&(o^s))+r[4]+4118548399&4294967295,t=n+(i<<7&4294967295|i>>>25),i=s+(o^t&(n^o))+r[5]+1200080426&4294967295,s=t+(i<<12&4294967295|i>>>20),i=o+(n^s&(t^n))+r[6]+2821735955&4294967295,o=s+(i<<17&4294967295|i>>>15),i=n+(t^o&(s^t))+r[7]+4249261313&4294967295,n=o+(i<<22&4294967295|i>>>10),i=t+(s^n&(o^s))+r[8]+1770035416&4294967295,t=n+(i<<7&4294967295|i>>>25),i=s+(o^t&(n^o))+r[9]+2336552879&4294967295,s=t+(i<<12&4294967295|i>>>20),i=o+(n^s&(t^n))+r[10]+4294925233&4294967295,o=s+(i<<17&4294967295|i>>>15),i=n+(t^o&(s^t))+r[11]+2304563134&4294967295,n=o+(i<<22&4294967295|i>>>10),i=t+(s^n&(o^s))+r[12]+1804603682&4294967295,t=n+(i<<7&4294967295|i>>>25),i=s+(o^t&(n^o))+r[13]+4254626195&4294967295,s=t+(i<<12&4294967295|i>>>20),i=o+(n^s&(t^n))+r[14]+2792965006&4294967295,o=s+(i<<17&4294967295|i>>>15),i=n+(t^o&(s^t))+r[15]+1236535329&4294967295,n=o+(i<<22&4294967295|i>>>10),i=t+(o^s&(n^o))+r[1]+4129170786&4294967295,t=n+(i<<5&4294967295|i>>>27),i=s+(n^o&(t^n))+r[6]+3225465664&4294967295,s=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(s^t))+r[11]+643717713&4294967295,o=s+(i<<14&4294967295|i>>>18),i=n+(s^t&(o^s))+r[0]+3921069994&4294967295,n=o+(i<<20&4294967295|i>>>12),i=t+(o^s&(n^o))+r[5]+3593408605&4294967295,t=n+(i<<5&4294967295|i>>>27),i=s+(n^o&(t^n))+r[10]+38016083&4294967295,s=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(s^t))+r[15]+3634488961&4294967295,o=s+(i<<14&4294967295|i>>>18),i=n+(s^t&(o^s))+r[4]+3889429448&4294967295,n=o+(i<<20&4294967295|i>>>12),i=t+(o^s&(n^o))+r[9]+568446438&4294967295,t=n+(i<<5&4294967295|i>>>27),i=s+(n^o&(t^n))+r[14]+3275163606&4294967295,s=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(s^t))+r[3]+4107603335&4294967295,o=s+(i<<14&4294967295|i>>>18),i=n+(s^t&(o^s))+r[8]+1163531501&4294967295,n=o+(i<<20&4294967295|i>>>12),i=t+(o^s&(n^o))+r[13]+2850285829&4294967295,t=n+(i<<5&4294967295|i>>>27),i=s+(n^o&(t^n))+r[2]+4243563512&4294967295,s=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(s^t))+r[7]+1735328473&4294967295,o=s+(i<<14&4294967295|i>>>18),i=n+(s^t&(o^s))+r[12]+2368359562&4294967295,n=o+(i<<20&4294967295|i>>>12),i=t+(n^o^s)+r[5]+4294588738&4294967295,t=n+(i<<4&4294967295|i>>>28),i=s+(t^n^o)+r[8]+2272392833&4294967295,s=t+(i<<11&4294967295|i>>>21),i=o+(s^t^n)+r[11]+1839030562&4294967295,o=s+(i<<16&4294967295|i>>>16),i=n+(o^s^t)+r[14]+4259657740&4294967295,n=o+(i<<23&4294967295|i>>>9),i=t+(n^o^s)+r[1]+2763975236&4294967295,t=n+(i<<4&4294967295|i>>>28),i=s+(t^n^o)+r[4]+1272893353&4294967295,s=t+(i<<11&4294967295|i>>>21),i=o+(s^t^n)+r[7]+4139469664&4294967295,o=s+(i<<16&4294967295|i>>>16),i=n+(o^s^t)+r[10]+3200236656&4294967295,n=o+(i<<23&4294967295|i>>>9),i=t+(n^o^s)+r[13]+681279174&4294967295,t=n+(i<<4&4294967295|i>>>28),i=s+(t^n^o)+r[0]+3936430074&4294967295,s=t+(i<<11&4294967295|i>>>21),i=o+(s^t^n)+r[3]+3572445317&4294967295,o=s+(i<<16&4294967295|i>>>16),i=n+(o^s^t)+r[6]+76029189&4294967295,n=o+(i<<23&4294967295|i>>>9),i=t+(n^o^s)+r[9]+3654602809&4294967295,t=n+(i<<4&4294967295|i>>>28),i=s+(t^n^o)+r[12]+3873151461&4294967295,s=t+(i<<11&4294967295|i>>>21),i=o+(s^t^n)+r[15]+530742520&4294967295,o=s+(i<<16&4294967295|i>>>16),i=n+(o^s^t)+r[2]+3299628645&4294967295,n=o+(i<<23&4294967295|i>>>9),i=t+(o^(n|~s))+r[0]+4096336452&4294967295,t=n+(i<<6&4294967295|i>>>26),i=s+(n^(t|~o))+r[7]+1126891415&4294967295,s=t+(i<<10&4294967295|i>>>22),i=o+(t^(s|~n))+r[14]+2878612391&4294967295,o=s+(i<<15&4294967295|i>>>17),i=n+(s^(o|~t))+r[5]+4237533241&4294967295,n=o+(i<<21&4294967295|i>>>11),i=t+(o^(n|~s))+r[12]+1700485571&4294967295,t=n+(i<<6&4294967295|i>>>26),i=s+(n^(t|~o))+r[3]+2399980690&4294967295,s=t+(i<<10&4294967295|i>>>22),i=o+(t^(s|~n))+r[10]+4293915773&4294967295,o=s+(i<<15&4294967295|i>>>17),i=n+(s^(o|~t))+r[1]+2240044497&4294967295,n=o+(i<<21&4294967295|i>>>11),i=t+(o^(n|~s))+r[8]+1873313359&4294967295,t=n+(i<<6&4294967295|i>>>26),i=s+(n^(t|~o))+r[15]+4264355552&4294967295,s=t+(i<<10&4294967295|i>>>22),i=o+(t^(s|~n))+r[6]+2734768916&4294967295,o=s+(i<<15&4294967295|i>>>17),i=n+(s^(o|~t))+r[13]+1309151649&4294967295,n=o+(i<<21&4294967295|i>>>11),i=t+(o^(n|~s))+r[4]+4149444226&4294967295,t=n+(i<<6&4294967295|i>>>26),i=s+(n^(t|~o))+r[11]+3174756917&4294967295,s=t+(i<<10&4294967295|i>>>22),i=o+(t^(s|~n))+r[2]+718787259&4294967295,o=s+(i<<15&4294967295|i>>>17),i=n+(s^(o|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(i<<21&4294967295|i>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+s&4294967295}Kn.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,o=this.h,s=0;s<t;){if(o==0)for(;s<=n;)Dh(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[o++]=e.charCodeAt(s++),o==this.blockSize){Dh(this,r),o=0;break}}else for(;s<t;)if(r[o++]=e[s++],o==this.blockSize){Dh(this,r),o=0;break}}this.h=o,this.i+=t};Kn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Oe(e,t){this.h=t;for(var n=[],r=!0,o=e.length-1;0<=o;o--){var s=e[o]|0;r&&s==t||(n[o]=s,r=!1)}this.g=n}var FN={};function _y(e){return-128<=e&&128>e?q$(e,function(t){return new Oe([t|0],0>t?-1:0)}):new Oe([e|0],0>e?-1:0)}function sr(e){if(isNaN(e)||!isFinite(e))return ii;if(0>e)return bt(sr(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=mm;return new Oe(t,0)}function JT(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return bt(JT(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=sr(Math.pow(t,8)),r=ii,o=0;o<e.length;o+=8){var s=Math.min(8,e.length-o),i=parseInt(e.substring(o,o+s),t);8>s?(s=sr(Math.pow(t,s)),r=r.R(s).add(sr(i))):(r=r.R(n),r=r.add(sr(i)))}return r}var mm=4294967296,ii=_y(0),gm=_y(1),A_=_y(16777216);W=Oe.prototype;W.ea=function(){if(An(this))return-bt(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:mm+r)*t,t*=mm}return e};W.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Cr(this))return"0";if(An(this))return"-"+bt(this).toString(e);for(var t=sr(Math.pow(e,6)),n=this,r="";;){var o=ad(n,t).g;n=id(n,o.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=o,Cr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};W.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Cr(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function An(e){return e.h==-1}W.X=function(e){return e=id(this,e),An(e)?-1:Cr(e)?0:1};function bt(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Oe(n,~e.h).add(gm)}W.abs=function(){return An(this)?bt(this):this};W.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,o=0;o<=t;o++){var s=r+(this.D(o)&65535)+(e.D(o)&65535),i=(s>>>16)+(this.D(o)>>>16)+(e.D(o)>>>16);r=i>>>16,s&=65535,i&=65535,n[o]=i<<16|s}return new Oe(n,n[n.length-1]&-2147483648?-1:0)};function id(e,t){return e.add(bt(t))}W.R=function(e){if(Cr(this)||Cr(e))return ii;if(An(this))return An(e)?bt(this).R(bt(e)):bt(bt(this).R(e));if(An(e))return bt(this.R(bt(e)));if(0>this.X(A_)&&0>e.X(A_))return sr(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<e.g.length;o++){var s=this.D(r)>>>16,i=this.D(r)&65535,a=e.D(o)>>>16,l=e.D(o)&65535;n[2*r+2*o]+=i*l,Mc(n,2*r+2*o),n[2*r+2*o+1]+=s*l,Mc(n,2*r+2*o+1),n[2*r+2*o+1]+=i*a,Mc(n,2*r+2*o+1),n[2*r+2*o+2]+=s*a,Mc(n,2*r+2*o+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Oe(n,0)};function Mc(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function la(e,t){this.g=e,this.h=t}function ad(e,t){if(Cr(t))throw Error("division by zero");if(Cr(e))return new la(ii,ii);if(An(e))return t=ad(bt(e),t),new la(bt(t.g),bt(t.h));if(An(t))return t=ad(e,bt(t)),new la(bt(t.g),t.h);if(30<e.g.length){if(An(e)||An(t))throw Error("slowDivide_ only works with positive integers.");for(var n=gm,r=t;0>=r.X(e);)n=R_(n),r=R_(r);var o=ks(n,1),s=ks(r,1);for(r=ks(r,2),n=ks(n,2);!Cr(r);){var i=s.add(r);0>=i.X(e)&&(o=o.add(n),s=i),r=ks(r,1),n=ks(n,1)}return t=id(e,o.R(t)),new la(o,t)}for(o=ii;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=sr(n),i=s.R(t);An(i)||0<i.X(e);)n-=r,s=sr(n),i=s.R(t);Cr(s)&&(s=gm),o=o.add(s),e=id(e,i)}return new la(o,e)}W.gb=function(e){return ad(this,e).h};W.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Oe(n,this.h&e.h)};W.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Oe(n,this.h|e.h)};W.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Oe(n,this.h^e.h)};function R_(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Oe(n,e.h)}function ks(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,o=[],s=0;s<r;s++)o[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Oe(o,e.h)}sd.prototype.createWebChannel=sd.prototype.g;xn.prototype.send=xn.prototype.u;xn.prototype.open=xn.prototype.m;xn.prototype.close=xn.prototype.close;sf.NO_ERROR=0;sf.TIMEOUT=8;sf.HTTP_ERROR=6;gT.COMPLETE="complete";yT.EventType=Gl;Gl.OPEN="a";Gl.CLOSE="b";Gl.ERROR="c";Gl.MESSAGE="d";wt.prototype.listen=wt.prototype.O;nt.prototype.listenOnce=nt.prototype.P;nt.prototype.getLastError=nt.prototype.Sa;nt.prototype.getLastErrorCode=nt.prototype.Ia;nt.prototype.getStatus=nt.prototype.da;nt.prototype.getResponseJson=nt.prototype.Wa;nt.prototype.getResponseText=nt.prototype.ja;nt.prototype.send=nt.prototype.ha;nt.prototype.setWithCredentials=nt.prototype.Oa;Kn.prototype.digest=Kn.prototype.l;Kn.prototype.reset=Kn.prototype.reset;Kn.prototype.update=Kn.prototype.j;Oe.prototype.add=Oe.prototype.add;Oe.prototype.multiply=Oe.prototype.R;Oe.prototype.modulo=Oe.prototype.gb;Oe.prototype.compare=Oe.prototype.X;Oe.prototype.toNumber=Oe.prototype.ea;Oe.prototype.toString=Oe.prototype.toString;Oe.prototype.getBits=Oe.prototype.D;Oe.fromNumber=sr;Oe.fromString=JT;var jN=function(){return new sd},UN=function(){return of()},Oh=sf,BN=gT,zN=vs,k_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},WN=Yl,Vc=yT,HN=nt,qN=Kn,ai=Oe;const P_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bi="10.11.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new qx("@firebase/firestore");function ca(){return ls.logLevel}function ee(e,...t){if(ls.logLevel<=Te.DEBUG){const n=t.map(wy);ls.debug(`Firestore (${Bi}): ${e}`,...n)}}function Mr(e,...t){if(ls.logLevel<=Te.ERROR){const n=t.map(wy);ls.error(`Firestore (${Bi}): ${e}`,...n)}}function xi(e,...t){if(ls.logLevel<=Te.WARN){const n=t.map(wy);ls.warn(`Firestore (${Bi}): ${e}`,...n)}}function wy(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(e="Unexpected state"){const t=`FIRESTORE (${Bi}) INTERNAL ASSERTION FAILED: `+e;throw Mr(t),new Error(t)}function Fe(e,t){e||de()}function me(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Fi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class KN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class GN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class QN{constructor(t){this.t=t,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const o=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new po;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new po,t.enqueueRetryable(()=>o(this.currentUser))};const i=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await o(this.currentUser)})},a=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),i()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new po)}},0),i()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new eS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Fe(t===null||typeof t=="string"),new Mt(t)}}class ZN{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class YN{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new ZN(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XN{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JN{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const i=s.token!==this.R;return this.R=s.token,ee("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const o=s=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>o(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?o(s):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new XN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const o=eD(40);for(let s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=t.charAt(o[s]%t.length))}return r}}function Re(e,t){return e<t?-1:e>t?1:0}function Ti(e,t,n){return e.length===t.length&&e.every((r,o)=>n(r,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new J($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new J($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new J($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ht.fromMillis(Date.now())}static fromDate(t){return ht.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new ht(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Re(this.nanoseconds,t.nanoseconds):Re(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t){this.timestamp=t}static fromTimestamp(t){return new pe(t)}static min(){return new pe(new ht(0,0))}static max(){return new pe(new ht(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(t,n,r){n===void 0?n=0:n>t.length&&de(),r===void 0?r=t.length-n:r>t.length-n&&de(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return pl.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof pl?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const s=t.get(o),i=n.get(o);if(s<i)return-1;if(s>i)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class We extends pl{construct(t,n,r){return new We(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new J($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new We(n)}static emptyPath(){return new We([])}}const tD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends pl{construct(t,n,r){return new Ct(t,n,r)}static isValidIdentifier(t){return tD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(t){const n=[];let r="",o=0;const s=()=>{if(r.length===0)throw new J($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;o<t.length;){const a=t[o];if(a==="\\"){if(o+1===t.length)throw new J($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[o+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,o+=2}else a==="`"?(i=!i,o++):a!=="."||i?(r+=a,o++):(s(),o++)}if(s(),i)throw new J($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t){this.path=t}static fromPath(t){return new le(We.fromString(t))}static fromName(t){return new le(We.fromString(t).popFirst(5))}static empty(){return new le(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&We.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return We.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new le(new We(t.slice()))}}function nD(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=pe.fromTimestamp(r===1e9?new ht(n+1,0):new ht(n,r));return new Eo(o,le.empty(),t)}function rD(e){return new Eo(e.readTime,e.key,-1)}class Eo{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Eo(pe.min(),le.empty(),-1)}static max(){return new Eo(pe.max(),le.empty(),-1)}}function oD(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=le.comparator(e.documentKey,t.documentKey),n!==0?n:Re(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(e){if(e.code!==$.FAILED_PRECONDITION||e.message!==sD)throw e;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new O((r,o)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,o)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):O.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):O.reject(n)}static resolve(t){return new O((n,r)=>{n(t)})}static reject(t){return new O((n,r)=>{r(t)})}static waitFor(t){return new O((n,r)=>{let o=0,s=0,i=!1;t.forEach(a=>{++o,a.next(()=>{++s,i&&s===o&&n()},l=>r(l))}),i=!0,s===o&&n()})}static or(t){let n=O.resolve(!1);for(const r of t)n=n.next(o=>o?O.resolve(o):r());return n}static forEach(t,n){const r=[];return t.forEach((o,s)=>{r.push(n.call(this,o,s))}),this.waitFor(r)}static mapArray(t,n){return new O((r,o)=>{const s=t.length,i=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(t[c]).next(u=>{i[c]=u,++a,a===s&&r(i)},u=>o(u))}})}static doWhile(t,n){return new O((r,o)=>{const s=()=>{t()===!0?n().next(()=>{s()},o):r()};s()})}}function aD(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tc(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Ey.oe=-1;function pf(e){return e==null}function ld(e){return e===0&&1/e==-1/0}function lD(e){return typeof e=="number"&&Number.isInteger(e)&&!ld(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _s(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function nS(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t,n){this.comparator=t,this.root=n||St.EMPTY}insert(t,n){return new et(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(t){return new et(this.comparator,this.root.remove(t,this.comparator).copy(null,null,St.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Lc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Lc(this.root,t,this.comparator,!0)}}class Lc{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class St{constructor(t,n,r,o,s){this.key=t,this.value=n,this.color=r??St.RED,this.left=o??St.EMPTY,this.right=s??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,s){return new St(t??this.key,n??this.value,r??this.color,o??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const s=r(t,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(t,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return St.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const t=this.left.check();if(t!==this.right.check())throw de();return t+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(t,n,r,o,s){return this}insert(t,n,r){return new St(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t){this.comparator=t,this.data=new et(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new N_(this.data.getIterator())}getIteratorFrom(t){return new N_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Rt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Rt(this.comparator);return n.data=t,n}}class N_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.fields=t,t.sort(Ct.comparator)}static empty(){return new pn([])}unionWith(t){let n=new Rt(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new pn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ti(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new rS("Invalid base64 string: "+s):s}}(t);return new Bt(n)}static fromUint8Array(t){const n=function(o){let s="";for(let i=0;i<o.length;++i)s+=String.fromCharCode(o[i]);return s}(t);return new Bt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Re(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const cD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xo(e){if(Fe(!!e),typeof e=="string"){let t=0;const n=cD.exec(e);if(Fe(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:at(e.seconds),nanos:at(e.nanos)}}function at(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function cs(e){return typeof e=="string"?Bt.fromBase64String(e):Bt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ty(e){const t=e.mapValue.fields.__previous_value__;return xy(t)?Ty(t):t}function ml(e){const t=xo(e.mapValue.fields.__local_write_time__.timestampValue);return new ht(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t,n,r,o,s,i,a,l,c){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class gl{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new gl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof gl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function us(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xy(e)?4:dD(e)?9007199254740991:10:de()}function dr(e,t){if(e===t)return!0;const n=us(e);if(n!==us(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ml(e).isEqual(ml(t));case 3:return function(o,s){if(typeof o.timestampValue=="string"&&typeof s.timestampValue=="string"&&o.timestampValue.length===s.timestampValue.length)return o.timestampValue===s.timestampValue;const i=xo(o.timestampValue),a=xo(s.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,s){return cs(o.bytesValue).isEqual(cs(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,s){return at(o.geoPointValue.latitude)===at(s.geoPointValue.latitude)&&at(o.geoPointValue.longitude)===at(s.geoPointValue.longitude)}(e,t);case 2:return function(o,s){if("integerValue"in o&&"integerValue"in s)return at(o.integerValue)===at(s.integerValue);if("doubleValue"in o&&"doubleValue"in s){const i=at(o.doubleValue),a=at(s.doubleValue);return i===a?ld(i)===ld(a):isNaN(i)&&isNaN(a)}return!1}(e,t);case 9:return Ti(e.arrayValue.values||[],t.arrayValue.values||[],dr);case 10:return function(o,s){const i=o.mapValue.fields||{},a=s.mapValue.fields||{};if($_(i)!==$_(a))return!1;for(const l in i)if(i.hasOwnProperty(l)&&(a[l]===void 0||!dr(i[l],a[l])))return!1;return!0}(e,t);default:return de()}}function yl(e,t){return(e.values||[]).find(n=>dr(n,t))!==void 0}function Si(e,t){if(e===t)return 0;const n=us(e),r=us(t);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(e.booleanValue,t.booleanValue);case 2:return function(s,i){const a=at(s.integerValue||s.doubleValue),l=at(i.integerValue||i.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return D_(e.timestampValue,t.timestampValue);case 4:return D_(ml(e),ml(t));case 5:return Re(e.stringValue,t.stringValue);case 6:return function(s,i){const a=cs(s),l=cs(i);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,i){const a=s.split("/"),l=i.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Re(a[c],l[c]);if(u!==0)return u}return Re(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,i){const a=Re(at(s.latitude),at(i.latitude));return a!==0?a:Re(at(s.longitude),at(i.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,i){const a=s.values||[],l=i.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Si(a[c],l[c]);if(u)return u}return Re(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,i){if(s===Fc.mapValue&&i===Fc.mapValue)return 0;if(s===Fc.mapValue)return 1;if(i===Fc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=i.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Re(l[d],u[d]);if(h!==0)return h;const m=Si(a[l[d]],c[u[d]]);if(m!==0)return m}return Re(l.length,u.length)}(e.mapValue,t.mapValue);default:throw de()}}function D_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Re(e,t);const n=xo(e),r=xo(t),o=Re(n.seconds,r.seconds);return o!==0?o:Re(n.nanos,r.nanos)}function bi(e){return ym(e)}function ym(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=xo(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return cs(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return le.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",o=!0;for(const s of n.values||[])o?o=!1:r+=",",r+=ym(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",s=!0;for(const i of r)s?s=!1:o+=",",o+=`${i}:${ym(n.fields[i])}`;return o+"}"}(e.mapValue):de()}function O_(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function vm(e){return!!e&&"integerValue"in e}function Sy(e){return!!e&&"arrayValue"in e}function M_(e){return!!e&&"nullValue"in e}function V_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function du(e){return!!e&&"mapValue"in e}function Da(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return _s(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Da(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Da(e.arrayValue.values[n]);return t}return Object.assign({},e)}function dD(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.value=t}static empty(){return new tn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!du(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Da(n)}setAll(t){let n=Ct.emptyPath(),r={},o=[];t.forEach((i,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,o),r={},o=[],n=a.popLast()}i?r[a.lastSegment()]=Da(i):o.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,o)}delete(t){const n=this.field(t.popLast());du(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return dr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];du(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){_s(n,(o,s)=>t[o]=s);for(const o of r)delete t[o]}clone(){return new tn(Da(this.value))}}function oS(e){const t=[];return _s(e.fields,(n,r)=>{const o=new Ct([n]);if(du(r)){const s=oS(r.mapValue).fields;if(s.length===0)t.push(o);else for(const i of s)t.push(o.child(i))}else t.push(o)}),new pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t,n,r,o,s,i,a){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(t){return new Lt(t,0,pe.min(),pe.min(),pe.min(),tn.empty(),0)}static newFoundDocument(t,n,r,o){return new Lt(t,1,n,pe.min(),r,o,0)}static newNoDocument(t,n){return new Lt(t,2,n,pe.min(),pe.min(),tn.empty(),0)}static newUnknownDocument(t,n){return new Lt(t,3,n,pe.min(),pe.min(),tn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Lt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(t,n){this.position=t,this.inclusive=n}}function L_(e,t,n){let r=0;for(let o=0;o<e.position.length;o++){const s=t[o],i=e.position[o];if(s.field.isKeyField()?r=le.comparator(le.fromName(i.referenceValue),n.key):r=Si(i,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function F_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!dr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(t,n="asc"){this.field=t,this.dir=n}}function fD(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{}class ct extends sS{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new pD(t,n,r):n==="array-contains"?new yD(t,r):n==="in"?new vD(t,r):n==="not-in"?new _D(t,r):n==="array-contains-any"?new wD(t,r):new ct(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new mD(t,r):new gD(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Si(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(Si(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends sS{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new Gn(t,n)}matches(t){return iS(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function iS(e){return e.op==="and"}function aS(e){return hD(e)&&iS(e)}function hD(e){for(const t of e.filters)if(t instanceof Gn)return!1;return!0}function _m(e){if(e instanceof ct)return e.field.canonicalString()+e.op.toString()+bi(e.value);if(aS(e))return e.filters.map(t=>_m(t)).join(",");{const t=e.filters.map(n=>_m(n)).join(",");return`${e.op}(${t})`}}function lS(e,t){return e instanceof ct?function(r,o){return o instanceof ct&&r.op===o.op&&r.field.isEqual(o.field)&&dr(r.value,o.value)}(e,t):e instanceof Gn?function(r,o){return o instanceof Gn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((s,i,a)=>s&&lS(i,o.filters[a]),!0):!1}(e,t):void de()}function cS(e){return e instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${bi(n.value)}`}(e):e instanceof Gn?function(n){return n.op.toString()+" {"+n.getFilters().map(cS).join(" ,")+"}"}(e):"Filter"}class pD extends ct{constructor(t,n,r){super(t,n,r),this.key=le.fromName(r.referenceValue)}matches(t){const n=le.comparator(t.key,this.key);return this.matchesComparison(n)}}class mD extends ct{constructor(t,n){super(t,"in",n),this.keys=uS("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class gD extends ct{constructor(t,n){super(t,"not-in",n),this.keys=uS("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function uS(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class yD extends ct{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Sy(n)&&yl(n.arrayValue,this.value)}}class vD extends ct{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&yl(this.value.arrayValue,n)}}class _D extends ct{constructor(t,n){super(t,"not-in",n)}matches(t){if(yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!yl(this.value.arrayValue,n)}}class wD extends ct{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Sy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(t,n=null,r=[],o=[],s=null,i=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=s,this.startAt=i,this.endAt=a,this.ue=null}}function j_(e,t=null,n=[],r=[],o=null,s=null,i=null){return new ED(e,t,n,r,o,s,i)}function by(e){const t=me(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>_m(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),pf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>bi(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>bi(r)).join(",")),t.ue=n}return t.ue}function Cy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!fD(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!lS(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!F_(e.startAt,t.startAt)&&F_(e.endAt,t.endAt)}function wm(e){return le.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(t,n=null,r=[],o=[],s=null,i="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function xD(e,t,n,r,o,s,i,a){return new nc(e,t,n,r,o,s,i,a)}function dS(e){return new nc(e)}function U_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function fS(e){return e.collectionGroup!==null}function Oa(e){const t=me(e);if(t.ce===null){t.ce=[];const n=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(i){let a=new Rt(Ct.comparator);return i.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.ce.push(new ud(s,r))}),n.has(Ct.keyField().canonicalString())||t.ce.push(new ud(Ct.keyField(),r))}return t.ce}function lr(e){const t=me(e);return t.le||(t.le=TD(t,Oa(e))),t.le}function TD(e,t){if(e.limitType==="F")return j_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(o=>{const s=o.dir==="desc"?"asc":"desc";return new ud(o.field,s)});const n=e.endAt?new cd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new cd(e.startAt.position,e.startAt.inclusive):null;return j_(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Em(e,t){const n=e.filters.concat([t]);return new nc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function xm(e,t,n){return new nc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function mf(e,t){return Cy(lr(e),lr(t))&&e.limitType===t.limitType}function hS(e){return`${by(lr(e))}|lt:${e.limitType}`}function Ds(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>cS(o)).join(", ")}]`),pf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>bi(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>bi(o)).join(",")),`Target(${r})`}(lr(e))}; limitType=${e.limitType})`}function gf(e,t){return t.isFoundDocument()&&function(r,o){const s=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):le.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,o){for(const s of Oa(r))if(!s.field.isKeyField()&&o.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,o){for(const s of r.filters)if(!s.matches(o))return!1;return!0}(e,t)&&function(r,o){return!(r.startAt&&!function(i,a,l){const c=L_(i,a,l);return i.inclusive?c<=0:c<0}(r.startAt,Oa(r),o)||r.endAt&&!function(i,a,l){const c=L_(i,a,l);return i.inclusive?c>=0:c>0}(r.endAt,Oa(r),o))}(e,t)}function SD(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function pS(e){return(t,n)=>{let r=!1;for(const o of Oa(e)){const s=bD(o,t,n);if(s!==0)return s;r=r||o.field.isKeyField()}return 0}}function bD(e,t,n){const r=e.field.isKeyField()?le.comparator(t.key,n.key):function(s,i,a){const l=i.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Si(l,c):de()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,s]of r)if(this.equalsFn(o,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){_s(this.inner,(n,r)=>{for(const[o,s]of r)t(o,s)})}isEmpty(){return nS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=new et(le.comparator);function Vr(){return CD}const mS=new et(le.comparator);function _a(...e){let t=mS;for(const n of e)t=t.insert(n.key,n);return t}function gS(e){let t=mS;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Qo(){return Ma()}function yS(){return Ma()}function Ma(){return new zi(e=>e.toString(),(e,t)=>e.isEqual(t))}const ID=new et(le.comparator),AD=new Rt(le.comparator);function we(...e){let t=AD;for(const n of e)t=t.add(n);return t}const RD=new Rt(Re);function kD(){return RD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ld(t)?"-0":t}}function _S(e){return{integerValue:""+e}}function PD(e,t){return lD(t)?_S(t):vS(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(){this._=void 0}}function $D(e,t,n){return e instanceof dd?function(o,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return s&&xy(s)&&(s=Ty(s)),s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,t):e instanceof vl?ES(e,t):e instanceof _l?xS(e,t):function(o,s){const i=wS(o,s),a=B_(i)+B_(o.Pe);return vm(i)&&vm(o.Pe)?_S(a):vS(o.serializer,a)}(e,t)}function ND(e,t,n){return e instanceof vl?ES(e,t):e instanceof _l?xS(e,t):n}function wS(e,t){return e instanceof fd?function(r){return vm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class dd extends yf{}class vl extends yf{constructor(t){super(),this.elements=t}}function ES(e,t){const n=TS(t);for(const r of e.elements)n.some(o=>dr(o,r))||n.push(r);return{arrayValue:{values:n}}}class _l extends yf{constructor(t){super(),this.elements=t}}function xS(e,t){let n=TS(t);for(const r of e.elements)n=n.filter(o=>!dr(o,r));return{arrayValue:{values:n}}}class fd extends yf{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function B_(e){return at(e.integerValue||e.doubleValue)}function TS(e){return Sy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function DD(e,t){return e.field.isEqual(t.field)&&function(r,o){return r instanceof vl&&o instanceof vl||r instanceof _l&&o instanceof _l?Ti(r.elements,o.elements,dr):r instanceof fd&&o instanceof fd?dr(r.Pe,o.Pe):r instanceof dd&&o instanceof dd}(e.transform,t.transform)}class OD{constructor(t,n){this.version=t,this.transformResults=n}}class zn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new zn}static exists(t){return new zn(void 0,t)}static updateTime(t){return new zn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function fu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class vf{}function SS(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Iy(e.key,zn.none()):new rc(e.key,e.data,zn.none());{const n=e.data,r=tn.empty();let o=new Rt(Ct.comparator);for(let s of t.fields)if(!o.has(s)){let i=n.field(s);i===null&&s.length>1&&(s=s.popLast(),i=n.field(s)),i===null?r.delete(s):r.set(s,i),o=o.add(s)}return new Vo(e.key,r,new pn(o.toArray()),zn.none())}}function MD(e,t,n){e instanceof rc?function(o,s,i){const a=o.value.clone(),l=W_(o.fieldTransforms,s,i.transformResults);a.setAll(l),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Vo?function(o,s,i){if(!fu(o.precondition,s))return void s.convertToUnknownDocument(i.version);const a=W_(o.fieldTransforms,s,i.transformResults),l=s.data;l.setAll(bS(o)),l.setAll(a),s.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(e,t,n):function(o,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,t,n)}function Va(e,t,n,r){return e instanceof rc?function(s,i,a,l){if(!fu(s.precondition,i))return a;const c=s.value.clone(),u=H_(s.fieldTransforms,l,i);return c.setAll(u),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof Vo?function(s,i,a,l){if(!fu(s.precondition,i))return a;const c=H_(s.fieldTransforms,l,i),u=i.data;return u.setAll(bS(s)),u.setAll(c),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(e,t,n,r):function(s,i,a){return fu(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a}(e,t,n)}function VD(e,t){let n=null;for(const r of e.fieldTransforms){const o=t.data.field(r.field),s=wS(r.transform,o||null);s!=null&&(n===null&&(n=tn.empty()),n.set(r.field,s))}return n||null}function z_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ti(r,o,(s,i)=>DD(s,i))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class rc extends vf{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vo extends vf{constructor(t,n,r,o,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function bS(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function W_(e,t,n){const r=new Map;Fe(e.length===n.length);for(let o=0;o<n.length;o++){const s=e[o],i=s.transform,a=t.data.field(s.field);r.set(s.field,ND(i,a,n[o]))}return r}function H_(e,t,n){const r=new Map;for(const o of e){const s=o.transform,i=n.data.field(o.field);r.set(o.field,$D(s,i,t))}return r}class Iy extends vf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LD extends vf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const s=this.mutations[o];s.key.isEqual(t.key)&&MD(s,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Va(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Va(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=yS();return this.mutations.forEach(o=>{const s=t.get(o.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=n.has(o.key)?null:a;const l=SS(i,a);l!==null&&r.set(o.key,l),i.isValidDocument()||i.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),we())}isEqual(t){return this.batchId===t.batchId&&Ti(this.mutations,t.mutations,(n,r)=>z_(n,r))&&Ti(this.baseMutations,t.baseMutations,(n,r)=>z_(n,r))}}class Ay{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){Fe(t.mutations.length===r.length);let o=function(){return ID}();const s=t.mutations;for(let i=0;i<s.length;i++)o=o.insert(s[i].key,r[i].version);return new Ay(t,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,Ee;function BD(e){switch(e){default:return de();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function CS(e){if(e===void 0)return Mr("GRPC error has no .code"),$.UNKNOWN;switch(e){case st.OK:return $.OK;case st.CANCELLED:return $.CANCELLED;case st.UNKNOWN:return $.UNKNOWN;case st.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case st.INTERNAL:return $.INTERNAL;case st.UNAVAILABLE:return $.UNAVAILABLE;case st.UNAUTHENTICATED:return $.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case st.NOT_FOUND:return $.NOT_FOUND;case st.ALREADY_EXISTS:return $.ALREADY_EXISTS;case st.PERMISSION_DENIED:return $.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case st.ABORTED:return $.ABORTED;case st.OUT_OF_RANGE:return $.OUT_OF_RANGE;case st.UNIMPLEMENTED:return $.UNIMPLEMENTED;case st.DATA_LOSS:return $.DATA_LOSS;default:return de()}}(Ee=st||(st={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new ai([4294967295,4294967295],0);function q_(e){const t=zD().encode(e),n=new qN;return n.update(t),new Uint8Array(n.digest())}function K_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ai([n,r],0),new ai([o,s],0)]}class Ry{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wa(`Invalid padding: ${n}`);if(r<0)throw new wa(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new wa(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new wa(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=ai.fromNumber(this.Ie)}Ee(t,n,r){let o=t.add(n.multiply(ai.fromNumber(r)));return o.compare(WD)===1&&(o=new ai([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=q_(t),[r,o]=K_(n);for(let s=0;s<this.hashCount;s++){const i=this.Ee(r,o,s);if(!this.de(i))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),i=new Ry(s,o,n);return r.forEach(a=>i.insert(a)),i}insert(t){if(this.Ie===0)return;const n=q_(t),[r,o]=K_(n);for(let s=0;s<this.hashCount;s++){const i=this.Ee(r,o,s);this.Ae(i)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class wa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,n,r,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,oc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new _f(pe.min(),o,new et(Re),Vr(),we())}}class oc{constructor(t,n,r,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new oc(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(t,n,r,o){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=o}}class IS{constructor(t,n){this.targetId=t,this.me=n}}class AS{constructor(t,n,r=Bt.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class G_{constructor(){this.fe=0,this.ge=Z_(),this.pe=Bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=we(),n=we(),r=we();return this.ge.forEach((o,s)=>{switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:de()}}),new oc(this.pe,this.ye,t,n,r)}ve(){this.we=!1,this.ge=Z_()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class HD{constructor(t){this.Le=t,this.Be=new Map,this.ke=Vr(),this.qe=Q_(),this.Qe=new et(Re)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const r=this.Ge(n);switch(t.state){case 0:this.ze(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(t.resumeToken));break;default:de()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((r,o)=>{this.ze(o)&&n(o)})}He(t){const n=t.targetId,r=t.me.count,o=this.Je(n);if(o){const s=o.target;if(wm(s))if(r===0){const i=new le(s.path);this.Ue(n,i,Lt.newNoDocument(i,pe.min()))}else Fe(r===1);else{const i=this.Ye(n);if(i!==r){const a=this.Ze(t),l=a?this.Xe(a,t,i):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:s=0}=n;let i,a;try{i=cs(r).toUint8Array()}catch(l){if(l instanceof rS)return xi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ry(i,o,s)}catch(l){return xi(l instanceof wa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(t,n,r){return n.me.count===r-this.nt(t,n.targetId)?0:2}nt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let o=0;return r.forEach(s=>{const i=this.Le.tt(),a=`projects/${i.projectId}/databases/${i.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.Ue(n,s,null),o++)}),o}rt(t){const n=new Map;this.Be.forEach((s,i)=>{const a=this.Je(i);if(a){if(s.current&&wm(a.target)){const l=new le(a.target.path);this.ke.get(l)!==null||this.it(i,l)||this.Ue(i,l,Lt.newNoDocument(l,t))}s.be&&(n.set(i,s.Ce()),s.ve())}});let r=we();this.qe.forEach((s,i)=>{let a=!0;i.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,i)=>i.setReadTime(t));const o=new _f(t,n,this.Qe,this.ke,r);return this.ke=Vr(),this.qe=Q_(),this.Qe=new et(Re),o}$e(t,n){if(!this.ze(t))return;const r=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,r){if(!this.ze(t))return;const o=this.Ge(t);this.it(t,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new G_,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new Rt(Re),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new G_),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function Q_(){return new et(le.comparator)}function Z_(){return new et(le.comparator)}const qD={asc:"ASCENDING",desc:"DESCENDING"},KD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GD={and:"AND",or:"OR"};class QD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Tm(e,t){return e.useProto3Json||pf(t)?t:{value:t}}function hd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RS(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ZD(e,t){return hd(e,t.toTimestamp())}function cr(e){return Fe(!!e),pe.fromTimestamp(function(n){const r=xo(n);return new ht(r.seconds,r.nanos)}(e))}function ky(e,t){return Sm(e,t).canonicalString()}function Sm(e,t){const n=function(o){return new We(["projects",o.projectId,"databases",o.database])}(e).child("documents");return t===void 0?n:n.child(t)}function kS(e){const t=We.fromString(e);return Fe(OS(t)),t}function bm(e,t){return ky(e.databaseId,t.path)}function Mh(e,t){const n=kS(t);if(n.get(1)!==e.databaseId.projectId)throw new J($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new J($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new le($S(n))}function PS(e,t){return ky(e.databaseId,t)}function YD(e){const t=kS(e);return t.length===4?We.emptyPath():$S(t)}function Cm(e){return new We(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $S(e){return Fe(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Y_(e,t,n){return{name:bm(e,t),fields:n.value.mapValue.fields}}function XD(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:de()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(Fe(u===void 0||typeof u=="string"),Bt.fromBase64String(u||"")):(Fe(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Bt.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),i=t.targetChange.cause,a=i&&function(c){const u=c.code===void 0?$.UNKNOWN:CS(c.code);return new J(u,c.message||"")}(i);n=new AS(r,o,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Mh(e,r.document.name),s=cr(r.document.updateTime),i=r.document.createTime?cr(r.document.createTime):pe.min(),a=new tn({mapValue:{fields:r.document.fields}}),l=Lt.newFoundDocument(o,s,i,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new hu(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Mh(e,r.document),s=r.readTime?cr(r.readTime):pe.min(),i=Lt.newNoDocument(o,s),a=r.removedTargetIds||[];n=new hu([],a,i.key,i)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Mh(e,r.document),s=r.removedTargetIds||[];n=new hu([],s,o,null)}else{if(!("filter"in t))return de();{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:s}=r,i=new UD(o,s),a=r.targetId;n=new IS(a,i)}}return n}function JD(e,t){let n;if(t instanceof rc)n={update:Y_(e,t.key,t.value)};else if(t instanceof Iy)n={delete:bm(e,t.key)};else if(t instanceof Vo)n={update:Y_(e,t.key,t.data),updateMask:lO(t.fieldMask)};else{if(!(t instanceof LD))return de();n={verify:bm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,i){const a=i.transform;if(a instanceof dd)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof vl)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _l)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fd)return{fieldPath:i.field.canonicalString(),increment:a.Pe};throw de()}(0,r))),t.precondition.isNone||(n.currentDocument=function(o,s){return s.updateTime!==void 0?{updateTime:ZD(o,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:de()}(e,t.precondition)),n}function eO(e,t){return e&&e.length>0?(Fe(t!==void 0),e.map(n=>function(o,s){let i=o.updateTime?cr(o.updateTime):cr(s);return i.isEqual(pe.min())&&(i=cr(s)),new OD(i,o.transformResults||[])}(n,t))):[]}function tO(e,t){return{documents:[PS(e,t.path)]}}function nO(e,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=PS(e,o);const s=function(c){if(c.length!==0)return DS(Gn.create(c,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const i=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Os(h.field),direction:sO(h.dir)}}(u))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const a=Tm(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{_t:n,parent:o}}function rO(e){let t=YD(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Fe(r===1);const u=n.from[0];u.allDescendants?o=u.collectionId:t=t.child(u.collectionId)}let s=[];n.where&&(s=function(d){const h=NS(d);return h instanceof Gn&&aS(h)?h.getFilters():[h]}(n.where));let i=[];n.orderBy&&(i=function(d){return d.map(h=>function(v){return new ud(Ms(v.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,pf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,m=d.values||[];return new cd(m,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,m=d.values||[];return new cd(m,h)}(n.endAt)),xD(t,o,i,s,a,"F",l,c)}function oO(e,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function NS(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ms(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ms(n.unaryFilter.field);return ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ms(n.unaryFilter.field);return ct.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ms(n.unaryFilter.field);return ct.create(i,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(e):e.fieldFilter!==void 0?function(n){return ct.create(Ms(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Gn.create(n.compositeFilter.filters.map(r=>NS(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return de()}}(n.compositeFilter.op))}(e):de()}function sO(e){return qD[e]}function iO(e){return KD[e]}function aO(e){return GD[e]}function Os(e){return{fieldPath:e.canonicalString()}}function Ms(e){return Ct.fromServerFormat(e.fieldPath)}function DS(e){return e instanceof ct?function(n){if(n.op==="=="){if(V_(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NAN"}};if(M_(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(V_(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NAN"}};if(M_(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Os(n.field),op:iO(n.op),value:n.value}}}(e):e instanceof Gn?function(n){const r=n.getFilters().map(o=>DS(o));return r.length===1?r[0]:{compositeFilter:{op:aO(n.op),filters:r}}}(e):de()}function lO(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function OS(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(t,n,r,o,s=pe.min(),i=pe.min(),a=Bt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new no(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(t){this.ut=t}}function uO(e){const t=rO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?xm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.on=new fO}addToCollectionParentIndex(t,n){return this.on.add(n),O.resolve()}getCollectionParents(t,n){return O.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return O.resolve()}deleteFieldIndex(t,n){return O.resolve()}deleteAllFieldIndexes(t){return O.resolve()}createTargetIndexes(t,n){return O.resolve()}getDocumentsMatchingTarget(t,n){return O.resolve(null)}getIndexType(t,n){return O.resolve(0)}getFieldIndexes(t,n){return O.resolve([])}getNextCollectionGroupToUpdate(t){return O.resolve(null)}getMinOffset(t,n){return O.resolve(Eo.min())}getMinOffsetFromCollectionGroup(t,n){return O.resolve(Eo.min())}updateCollectionGroup(t,n,r){return O.resolve()}updateIndexEntries(t,n){return O.resolve()}}class fO{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Rt(We.comparator),s=!o.has(r);return this.index[n]=o.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Rt(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Ci(0)}static Nn(){return new Ci(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.changes=new zi(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Lt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(r!==null&&Va(r.mutation,o,pn.empty(),ht.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,we()).next(()=>r))}getLocalViewOfDocuments(t,n,r=we()){const o=Qo();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,r).next(s=>{let i=_a();return s.forEach((a,l)=>{i=i.insert(a,l.overlayedDocument)}),i}))}getOverlayedDocuments(t,n){const r=Qo();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,we()))}populateOverlays(t,n,r){const o=[];return r.forEach(s=>{n.has(s)||o.push(s)}),this.documentOverlayCache.getOverlays(t,o).next(s=>{s.forEach((i,a)=>{n.set(i,a)})})}computeViews(t,n,r,o){let s=Vr();const i=Ma(),a=function(){return Ma()}();return n.forEach((l,c)=>{const u=r.get(c.key);o.has(c.key)&&(u===void 0||u.mutation instanceof Vo)?s=s.insert(c.key,c):u!==void 0?(i.set(c.key,u.mutation.getFieldMask()),Va(u.mutation,c,u.mutation.getFieldMask(),ht.now())):i.set(c.key,pn.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((c,u)=>i.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new pO(u,(d=i.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Ma();let o=new et((i,a)=>i-a),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(i=>{for(const a of i)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||pn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(o.get(a.batchId)||we()).add(l);o=o.insert(a.batchId,d)})}).next(()=>{const i=[],a=o.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=yS();u.forEach(h=>{if(!s.has(h)){const m=SS(n.get(h),r.get(h));m!==null&&d.set(h,m),s=s.add(h)}}),i.push(this.documentOverlayCache.saveOverlays(t,c,d))}return O.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,o){return function(i){return le.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):fS(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next(s=>{const i=o-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-s.size):O.resolve(Qo());let a=-1,l=s;return i.next(c=>O.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?O.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,l,c,we())).next(u=>({batchId:a,changes:gS(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new le(n)).next(r=>{let o=_a();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const s=n.collectionGroup;let i=_a();return this.indexManager.getCollectionParents(t,s).next(a=>O.forEach(a,l=>{const c=function(d,h){return new nc(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,c,r,o).next(u=>{u.forEach((d,h)=>{i=i.insert(d,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(t,n,r,o){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,o))).next(i=>{s.forEach((l,c)=>{const u=c.getKey();i.get(u)===null&&(i=i.insert(u,Lt.newInvalidDocument(u)))});let a=_a();return i.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Va(u.mutation,c,pn.empty(),ht.now()),gf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return O.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(o){return{id:o.id,version:o.version,createTime:cr(o.createTime)}}(n)),O.resolve()}getNamedQuery(t,n){return O.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(o){return{name:o.name,query:uO(o.bundledQuery),readTime:cr(o.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.overlays=new et(le.comparator),this.lr=new Map}getOverlay(t,n){return O.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Qo();return O.forEach(n,o=>this.getOverlay(t,o).next(s=>{s!==null&&r.set(o,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((o,s)=>{this.lt(t,n,s)}),O.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.lr.get(r);return o!==void 0&&(o.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),O.resolve()}getOverlaysForCollection(t,n,r){const o=Qo(),s=n.length+1,i=new le(n.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&o.set(l.getKey(),l)}return O.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let s=new et((c,u)=>c-u);const i=this.overlays.getIterator();for(;i.hasNext();){const c=i.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Qo(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Qo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=o)););return O.resolve(a)}lt(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const i=this.lr.get(o.largestBatchId).delete(r.key);this.lr.set(o.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new jD(n,r));let s=this.lr.get(n);s===void 0&&(s=we(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.hr=new Rt(yt.Pr),this.Ir=new Rt(yt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new yt(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new yt(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new le(new We([])),r=new yt(n,t),o=new yt(n,t+1),s=[];return this.Ir.forEachInRange([r,o],i=>{this.dr(i),s.push(i.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new le(new We([])),r=new yt(n,t),o=new yt(n,t+1);let s=we();return this.Ir.forEachInRange([r,o],i=>{s=s.add(i.key)}),s}containsKey(t){const n=new yt(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class yt{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return le.comparator(t.key,n.key)||Re(t.gr,n.gr)}static Tr(t,n){return Re(t.gr,n.gr)||le.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Rt(yt.Pr)}checkEmpty(t){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new FD(s,n,r,o);this.mutationQueue.push(i);for(const a of o)this.yr=this.yr.add(new yt(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return O.resolve(i)}lookupMutationBatch(t,n){return O.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.Sr(r),s=o<0?0:o;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new yt(n,0),o=new yt(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,o],i=>{const a=this.wr(i.gr);s.push(a)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Rt(Re);return n.forEach(o=>{const s=new yt(o,0),i=new yt(o,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,i],a=>{r=r.add(a.gr)})}),O.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let s=r;le.isDocumentKey(s)||(s=s.child(""));const i=new yt(new le(s),0);let a=new Rt(Re);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===o&&(a=a.add(l.gr)),!0)},i),O.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const o=this.wr(r);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Fe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return O.forEach(n.mutations,o=>{const s=new yt(o.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new yt(n,0),o=this.yr.firstAfterOrEqual(r);return O.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,O.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(t){this.Cr=t,this.docs=function(){return new et(le.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),s=o?o.size:0,i=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():Lt.newInvalidDocument(n))}getEntries(t,n){let r=Vr();return n.forEach(o=>{const s=this.docs.get(o);r=r.insert(o,s?s.document.mutableCopy():Lt.newInvalidDocument(o))}),O.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let s=Vr();const i=n.path,a=new le(i.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!i.isPrefixOf(c.path))break;c.path.length>i.length+1||oD(rD(u),r)<=0||(o.has(u.key)||gf(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return O.resolve(s)}getAllFromCollectionGroup(t,n,r,o){de()}vr(t,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new wO(this)}getSize(t){return O.resolve(this.size)}}class wO extends hO{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this._r.addEntry(t,o)):this._r.removeEntry(r)}),O.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(t){this.persistence=t,this.Fr=new zi(n=>by(n),Cy),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Py,this.targetCount=0,this.Nr=Ci.On()}forEachTarget(t,n){return this.Fr.forEach((r,o)=>n(o)),O.resolve()}getLastRemoteSnapshotVersion(t){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return O.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),O.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new Ci(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,O.resolve()}updateTargetData(t,n){return this.kn(n),O.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(t,n,r){let o=0;const s=[];return this.Fr.forEach((i,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(i),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),o++)}),O.waitFor(s).next(()=>o)}getTargetCount(t){return O.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return O.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),O.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(i=>{s.push(o.markPotentiallyOrphaned(t,i))}),O.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),O.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return O.resolve(r)}containsKey(t,n){return O.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(t,n){this.Lr={},this.overlays={},this.Br=new Ey(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new EO(this),this.indexManager=new dO,this.remoteDocumentCache=function(o){return new _O(o)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new cO(n),this.Kr=new gO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new yO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Lr[t.toKey()];return r||(r=new vO(n,this.referenceDelegate),this.Lr[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){ee("MemoryPersistence","Starting transaction:",t);const o=new TO(this.Br.next());return this.referenceDelegate.$r(),r(o).next(s=>this.referenceDelegate.Ur(o).next(()=>s)).toPromise().then(s=>(o.raiseOnCommittedEvent(),s))}Wr(t,n){return O.or(Object.values(this.Lr).map(r=>()=>r.containsKey(t,n)))}}class TO extends iD{constructor(t){super(),this.currentSequenceNumber=t}}class $y{constructor(t){this.persistence=t,this.Gr=new Py,this.zr=null}static jr(t){return new $y(t)}get Hr(){if(this.zr)return this.zr;throw de()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),O.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),O.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(o=>this.Hr.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Hr,r=>{const o=le.fromPath(r);return this.Jr(t,o).next(s=>{s||n.removeEntry(o,pe.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return O.or([()=>O.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=o}static Qi(t,n){let r=we(),o=we();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}return new Ny(t,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return T2()?8:aD(E2())>0?6:4}()}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,o){const s={result:null};return this.zi(t,n).next(i=>{s.result=i}).next(()=>{if(!s.result)return this.ji(t,n,o,r).next(i=>{s.result=i})}).next(()=>{if(s.result)return;const i=new SO;return this.Hi(t,n,i).next(a=>{if(s.result=a,this.$i)return this.Ji(t,n,i,a.size)})}).next(()=>s.result)}Ji(t,n,r,o){return r.documentReadCount<this.Ui?(ca()<=Te.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Ds(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),O.resolve()):(ca()<=Te.DEBUG&&ee("QueryEngine","Query:",Ds(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Wi*o?(ca()<=Te.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Ds(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,lr(n))):O.resolve())}zi(t,n){if(U_(n))return O.resolve(null);let r=lr(n);return this.indexManager.getIndexType(t,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=xm(n,null,"F"),r=lr(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const i=we(...s);return this.Gi.getDocuments(t,i).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const c=this.Yi(n,a);return this.Zi(n,c,i,l.readTime)?this.zi(t,xm(n,null,"F")):this.Xi(t,c,n,l)}))})))}ji(t,n,r,o){return U_(n)||o.isEqual(pe.min())?O.resolve(null):this.Gi.getDocuments(t,r).next(s=>{const i=this.Yi(n,s);return this.Zi(n,i,r,o)?O.resolve(null):(ca()<=Te.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ds(n)),this.Xi(t,i,n,nD(o,-1)).next(a=>a))})}Yi(t,n){let r=new Rt(pS(t));return n.forEach((o,s)=>{gf(t,s)&&(r=r.add(s))}),r}Zi(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)}Hi(t,n,r){return ca()<=Te.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Ds(n)),this.Gi.getDocumentsMatchingQuery(t,n,Eo.min(),r)}Xi(t,n,r,o){return this.Gi.getDocumentsMatchingQuery(t,r,o).next(s=>(n.forEach(i=>{s=s.insert(i.key,i)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(t,n,r,o){this.persistence=t,this.es=n,this.serializer=o,this.ts=new et(Re),this.ns=new zi(s=>by(s),Cy),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mO(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function IO(e,t,n,r){return new CO(e,t,n,r)}async function MS(e,t){const n=me(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(s=>(o=s,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const i=[],a=[];let l=we();for(const c of o){i.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({_s:c,removedBatchIds:i,addedBatchIds:a}))})})}function AO(e,t){const n=me(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let m=O.resolve();return h.forEach(v=>{m=m.next(()=>u.getEntry(l,v)).next(y=>{const w=c.docVersions.get(v);Fe(w!==null),y.version.compareTo(w)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=we();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,o))})}function VS(e){const t=me(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function RO(e,t){const n=me(e),r=t.snapshotVersion;let o=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const i=n.ss.newChangeBuffer({trackRemovals:!0});o=n.ts;const a=[];t.targetChanges.forEach((u,d)=>{const h=o.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,d)));let m=h.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(d)!==null?m=m.withResumeToken(Bt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),o=o.insert(d,m),function(y,w,g){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(h,m,u)&&a.push(n.qr.updateTargetData(s,m))});let l=Vr(),c=we();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(kO(s,i,t.documentUpdates).next(u=>{l=u.us,c=u.cs})),!r.isEqual(pe.min())){const u=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return O.waitFor(a).next(()=>i.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ts=o,s))}function kO(e,t,n){let r=we(),o=we();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let i=Vr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(o=o.add(a)),l.isNoDocument()&&l.version.isEqual(pe.min())?(t.removeEntry(a,l.readTime),i=i.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),i=i.insert(a,l)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:i,cs:o}})}function PO(e,t){const n=me(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function $O(e,t){const n=me(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.qr.getTargetData(r,t).next(s=>s?(o=s,O.resolve(o)):n.qr.allocateTargetId(r).next(i=>(o=new no(t,i,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.ts.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function Im(e,t,n){const r=me(e),o=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,i=>r.persistence.referenceDelegate.removeTarget(i,o))}catch(i){if(!tc(i))throw i;ee("LocalStore",`Failed to update sequence numbers for target ${t}: ${i}`)}r.ts=r.ts.remove(t),r.ns.delete(o.target)}function X_(e,t,n){const r=me(e);let o=pe.min(),s=we();return r.persistence.runTransaction("Execute query","readwrite",i=>function(l,c,u){const d=me(l),h=d.ns.get(u);return h!==void 0?O.resolve(d.ts.get(h)):d.qr.getTargetData(c,u)}(r,i,lr(t)).next(a=>{if(a)return o=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(i,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(i,t,n?o:pe.min(),n?s:we())).next(a=>(NO(r,SD(t),a),{documents:a,ls:s})))}function NO(e,t,n){let r=e.rs.get(t)||pe.min();n.forEach((o,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.rs.set(t,r)}class J_{constructor(){this.activeTargetIds=kD()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class DO{constructor(){this.eo=new J_,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new J_,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc=null;function Vh(){return jc===null?jc=function(){return 268435456+Math.round(2147483648*Math.random())}():jc++,"0x"+jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}Eo(t){this.Ao=t}onMessage(t){this.Ro=t}close(){this.lo()}send(t){this.co(t)}Vo(){this.Po()}mo(){this.To()}fo(t){this.Ao(t)}po(t){this.Ro(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class LO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${o}/databases/${s}`,this.So=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${s}`}get bo(){return!1}Do(n,r,o,s,i){const a=Vh(),l=this.Co(n,r.toUriEncodedString());ee("RestConnection",`Sending RPC '${n}' ${a}:`,l,o);const c={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(c,s,i),this.Fo(n,l,c,o).then(u=>(ee("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw xi("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",o),u})}Mo(n,r,o,s,i,a){return this.Do(n,r,o,s,i)}vo(n,r,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bi}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,i)=>n[i]=s),o&&o.headers.forEach((s,i)=>n[i]=s)}Co(n,r){const o=MO[n];return`${this.yo}/v1/${r}:${o}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Fo(t,n,r,o){const s=Vh();return new Promise((i,a)=>{const l=new HN;l.setWithCredentials(!0),l.listenOnce(BN.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Oh.NO_ERROR:const u=l.getResponseJson();ee(Ot,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(u)),i(u);break;case Oh.TIMEOUT:ee(Ot,`RPC '${t}' ${s} timed out`),a(new J($.DEADLINE_EXCEEDED,"Request time out"));break;case Oh.HTTP_ERROR:const d=l.getStatus();if(ee(Ot,`RPC '${t}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const v=function(w){const g=w.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(g)>=0?g:$.UNKNOWN}(m.status);a(new J(v,m.message))}else a(new J($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J($.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{ee(Ot,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(o);ee(Ot,`RPC '${t}' ${s} sending request:`,o),l.send(n,"POST",c,r,15)})}xo(t,n,r){const o=Vh(),s=[this.yo,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=jN(),a=UN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new WN({})),this.vo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");ee(Ot,`Creating RPC '${t}' stream ${o}: ${u}`,l);const d=i.createWebChannel(u,l);let h=!1,m=!1;const v=new VO({co:w=>{m?ee(Ot,`Not sending because RPC '${t}' stream ${o} is closed:`,w):(h||(ee(Ot,`Opening RPC '${t}' stream ${o} transport.`),d.open(),h=!0),ee(Ot,`RPC '${t}' stream ${o} sending:`,w),d.send(w))},lo:()=>d.close()}),y=(w,g,p)=>{w.listen(g,_=>{try{p(_)}catch(E){setTimeout(()=>{throw E},0)}})};return y(d,Vc.EventType.OPEN,()=>{m||(ee(Ot,`RPC '${t}' stream ${o} transport opened.`),v.Vo())}),y(d,Vc.EventType.CLOSE,()=>{m||(m=!0,ee(Ot,`RPC '${t}' stream ${o} transport closed`),v.fo())}),y(d,Vc.EventType.ERROR,w=>{m||(m=!0,xi(Ot,`RPC '${t}' stream ${o} transport errored:`,w),v.fo(new J($.UNAVAILABLE,"The operation could not be completed")))}),y(d,Vc.EventType.MESSAGE,w=>{var g;if(!m){const p=w.data[0];Fe(!!p);const _=p,E=_.error||((g=_[0])===null||g===void 0?void 0:g.error);if(E){ee(Ot,`RPC '${t}' stream ${o} received error:`,E);const x=E.status;let b=function(F){const V=st[F];if(V!==void 0)return CS(V)}(x),C=E.message;b===void 0&&(b=$.INTERNAL,C="Unknown error status: "+x+" with message "+E.message),m=!0,v.fo(new J(b,C)),d.close()}else ee(Ot,`RPC '${t}' stream ${o} received:`,p),v.po(p)}}),y(a,zN.STAT_EVENT,w=>{w.stat===k_.PROXY?ee(Ot,`RPC '${t}' stream ${o} detected buffering proxy`):w.stat===k_.NOPROXY&&ee(Ot,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{v.mo()},0),v}}function Lh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(e){return new QD(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(t,n,r=1e3,o=1.5,s=6e4){this.si=t,this.timerId=n,this.Oo=r,this.No=o,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(t){this.cancel();const n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),o=Math.max(0,n-r);o>0&&ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,o,()=>(this.qo=Date.now(),t())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(t,n,r,o,s,i,a,l){this.si=t,this.Wo=r,this.Go=o,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new LS(t,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(t){this.i_(),this.stream.send(t)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(t,n){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,t!==4?this.Jo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Mr(n.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Eo(n)}o_(){}auth(){this.state=1;const t=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.zo===n&&this.a_(r,o)},r=>{t(()=>{const o=new J($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(o)})})}a_(t,n){const r=this.__(this.zo);this.stream=this.c_(t,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(o=>{r(()=>this.u_(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Xo(){this.state=5,this.Jo.Ko(async()=>{this.state=0,this.start()})}u_(t){return ee("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}__(t){return n=>{this.si.enqueueAndForget(()=>this.zo===t?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FO extends FS{constructor(t,n,r,o,s,i){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,i),this.serializer=s}c_(t,n){return this.connection.xo("Listen",t,n)}onMessage(t){this.Jo.reset();const n=XD(this.serializer,t),r=function(s){if(!("targetChange"in s))return pe.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?pe.min():i.readTime?cr(i.readTime):pe.min()}(t);return this.listener.l_(n,r)}h_(t){const n={};n.database=Cm(this.serializer),n.addTarget=function(s,i){let a;const l=i.target;if(a=wm(l)?{documents:tO(s,l)}:{query:nO(s,l)._t},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){a.resumeToken=RS(s,i.resumeToken);const c=Tm(s,i.expectedCount);c!==null&&(a.expectedCount=c)}else if(i.snapshotVersion.compareTo(pe.min())>0){a.readTime=hd(s,i.snapshotVersion.toTimestamp());const c=Tm(s,i.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const r=oO(this.serializer,t);r&&(n.labels=r),this.r_(n)}P_(t){const n={};n.database=Cm(this.serializer),n.removeTarget=t,this.r_(n)}}class jO extends FS{constructor(t,n,r,o,s,i){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,i),this.serializer=s,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(t,n){return this.connection.xo("Write",t,n)}onMessage(t){if(Fe(!!t.streamToken),this.lastStreamToken=t.streamToken,this.I_){this.Jo.reset();const n=eO(t.writeResults,t.commitTime),r=cr(t.commitTime);return this.listener.d_(r,n)}return Fe(!t.writeResults||t.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){const t={};t.database=Cm(this.serializer),this.r_(t)}E_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>JD(this.serializer,r))};this.r_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO extends class{}{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.V_=!1}m_(){if(this.V_)throw new J($.FAILED_PRECONDITION,"The client has already been terminated.")}Do(t,n,r,o){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Do(t,Sm(n,r),o,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J($.UNKNOWN,s.toString())})}Mo(t,n,r,o,s){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Mo(t,Sm(n,r),o,i,a,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J($.UNKNOWN,i.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class BO{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,t==="Online"&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Mr(n),this.y_=!1):ee("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(t,n,r,o,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.ro(i=>{r.enqueueAndForget(async()=>{ws(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=me(l);c.M_.add(4),await sc(c),c.N_.set("Unknown"),c.M_.delete(4),await Ef(c)}(this))})}),this.N_=new BO(r,o)}}async function Ef(e){if(ws(e))for(const t of e.x_)await t(!0)}async function sc(e){for(const t of e.x_)await t(!1)}function jS(e,t){const n=me(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),Vy(n)?My(n):Wi(n).Zo()&&Oy(n,t))}function Dy(e,t){const n=me(e),r=Wi(n);n.F_.delete(t),r.Zo()&&US(n,t),n.F_.size===0&&(r.Zo()?r.t_():ws(n)&&n.N_.set("Unknown"))}function Oy(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pe.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Wi(e).h_(t)}function US(e,t){e.L_.xe(t),Wi(e).P_(t)}function My(e){e.L_=new HD({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Wi(e).start(),e.N_.w_()}function Vy(e){return ws(e)&&!Wi(e).Yo()&&e.F_.size>0}function ws(e){return me(e).M_.size===0}function BS(e){e.L_=void 0}async function WO(e){e.N_.set("Online")}async function HO(e){e.F_.forEach((t,n)=>{Oy(e,t)})}async function qO(e,t){BS(e),Vy(e)?(e.N_.D_(t),My(e)):e.N_.set("Unknown")}async function KO(e,t,n){if(e.N_.set("Online"),t instanceof AS&&t.state===2&&t.cause)try{await async function(o,s){const i=s.cause;for(const a of s.targetIds)o.F_.has(a)&&(await o.remoteSyncer.rejectListen(a,i),o.F_.delete(a),o.L_.removeTarget(a))}(e,t)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await pd(e,r)}else if(t instanceof hu?e.L_.Ke(t):t instanceof IS?e.L_.He(t):e.L_.We(t),!n.isEqual(pe.min()))try{const r=await VS(e.localStore);n.compareTo(r)>=0&&await function(s,i){const a=s.L_.rt(i);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.F_.get(c);u&&s.F_.set(c,u.withResumeToken(l.resumeToken,i))}}),a.targetMismatches.forEach((l,c)=>{const u=s.F_.get(l);if(!u)return;s.F_.set(l,u.withResumeToken(Bt.EMPTY_BYTE_STRING,u.snapshotVersion)),US(s,l);const d=new no(u.target,l,c,u.sequenceNumber);Oy(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),await pd(e,r)}}async function pd(e,t,n){if(!tc(t))throw t;e.M_.add(1),await sc(e),e.N_.set("Offline"),n||(n=()=>VS(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await Ef(e)})}function zS(e,t){return t().catch(n=>pd(e,n,t))}async function xf(e){const t=me(e),n=To(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;GO(t);)try{const o=await PO(t.localStore,r);if(o===null){t.v_.length===0&&n.t_();break}r=o.batchId,QO(t,o)}catch(o){await pd(t,o)}WS(t)&&HS(t)}function GO(e){return ws(e)&&e.v_.length<10}function QO(e,t){e.v_.push(t);const n=To(e);n.Zo()&&n.T_&&n.E_(t.mutations)}function WS(e){return ws(e)&&!To(e).Yo()&&e.v_.length>0}function HS(e){To(e).start()}async function ZO(e){To(e).R_()}async function YO(e){const t=To(e);for(const n of e.v_)t.E_(n.mutations)}async function XO(e,t,n){const r=e.v_.shift(),o=Ay.from(r,t,n);await zS(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await xf(e)}async function JO(e,t){t&&To(e).T_&&await async function(r,o){if(function(i){return BD(i)&&i!==$.ABORTED}(o.code)){const s=r.v_.shift();To(r).e_(),await zS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),await xf(r)}}(e,t),WS(e)&&HS(e)}async function tw(e,t){const n=me(e);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const r=ws(n);n.M_.add(3),await sc(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await Ef(n)}async function eM(e,t){const n=me(e);t?(n.M_.delete(2),await Ef(n)):t||(n.M_.add(2),await sc(n),n.N_.set("Unknown"))}function Wi(e){return e.B_||(e.B_=function(n,r,o){const s=me(n);return s.m_(),new FO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(e.datastore,e.asyncQueue,{ho:WO.bind(null,e),Io:HO.bind(null,e),Eo:qO.bind(null,e),l_:KO.bind(null,e)}),e.x_.push(async t=>{t?(e.B_.e_(),Vy(e)?My(e):e.N_.set("Unknown")):(await e.B_.stop(),BS(e))})),e.B_}function To(e){return e.k_||(e.k_=function(n,r,o){const s=me(n);return s.m_(),new jO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(e.datastore,e.asyncQueue,{ho:()=>Promise.resolve(),Io:ZO.bind(null,e),Eo:JO.bind(null,e),A_:YO.bind(null,e),d_:XO.bind(null,e)}),e.x_.push(async t=>{t?(e.k_.e_(),await xf(e)):(await e.k_.stop(),e.v_.length>0&&(ee("RemoteStore",`Stopping write stream with ${e.v_.length} pending writes`),e.v_=[]))})),e.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(t,n,r,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new po,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,s){const i=Date.now()+r,a=new Ly(t,n,i,o,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fy(e,t){if(Mr("AsyncQueue",`${t}: ${e}`),tc(e))return new J($.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(t){this.comparator=t?(n,r)=>t(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=_a(),this.sortedSet=new et(this.comparator)}static emptySet(t){return new li(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof li)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new li;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this.q_=new et(le.comparator)}track(t){const n=t.doc.key,r=this.q_.get(n);r?t.type!==0&&r.type===3?this.q_=this.q_.insert(n,t):t.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.q_=this.q_.remove(n):t.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:t.doc}):de():this.q_=this.q_.insert(n,t)}Q_(){const t=[];return this.q_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Ii{constructor(t,n,r,o,s,i,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,o,s){const i=[];return n.forEach(a=>{i.push({type:0,doc:a})}),new Ii(t,n,li.emptySet(n),i,r,o,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}}class nM{constructor(){this.queries=new zi(t=>hS(t),mf),this.onlineState="Unknown",this.z_=new Set}}async function rM(e,t){const n=me(e);let r=3;const o=t.query;let s=n.queries.get(o);s?!s.W_()&&t.G_()&&(r=2):(s=new tM,r=t.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(o,!0);break;case 1:s.K_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(i){const a=Fy(i,`Initialization of query '${Ds(t.query)}' failed`);return void t.onError(a)}n.queries.set(o,s),s.U_.push(t),t.j_(n.onlineState),s.K_&&t.H_(s.K_)&&jy(n)}async function oM(e,t){const n=me(e),r=t.query;let o=3;const s=n.queries.get(r);if(s){const i=s.U_.indexOf(t);i>=0&&(s.U_.splice(i,1),s.U_.length===0?o=t.G_()?0:1:!s.W_()&&t.G_()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sM(e,t){const n=me(e);let r=!1;for(const o of t){const s=o.query,i=n.queries.get(s);if(i){for(const a of i.U_)a.H_(o)&&(r=!0);i.K_=o}}r&&jy(n)}function iM(e,t,n){const r=me(e),o=r.queries.get(t);if(o)for(const s of o.U_)s.onError(n);r.queries.delete(t)}function jy(e){e.z_.forEach(t=>{t.next()})}var Am,rw;(rw=Am||(Am={})).J_="default",rw.Cache="cache";class aM{constructor(t,n,r){this.query=t,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Ii(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),n=!0):this.ta(t,this.onlineState)&&(this.na(t),n=!0),this.X_=t,n}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),n=!0),n}ta(t,n){if(!t.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ea(t){if(t.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(t){t=Ii.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==Am.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(t){this.key=t}}class KS{constructor(t){this.key=t}}class lM{constructor(t,n){this.query=t,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=we(),this.mutatedKeys=we(),this.Ia=pS(t),this.Ta=new li(this.Ia)}get Ea(){return this.la}da(t,n){const r=n?n.Aa:new nw,o=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,i=o,a=!1;const l=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,c=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((u,d)=>{const h=o.get(u),m=gf(this.query,d)?d:null,v=!!h&&this.mutatedKeys.has(h.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;h&&m?h.data.isEqual(m.data)?v!==y&&(r.track({type:3,doc:m}),w=!0):this.Ra(h,m)||(r.track({type:2,doc:m}),w=!0,(l&&this.Ia(m,l)>0||c&&this.Ia(m,c)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),w=!0):h&&!m&&(r.track({type:1,doc:h}),w=!0,(l||c)&&(a=!0)),w&&(m?(i=i.add(m),s=y?s.add(u):s.delete(u)):(i=i.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const u=this.query.limitType==="F"?i.last():i.first();i=i.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ta:i,Aa:r,Zi:a,mutatedKeys:s}}Ra(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const s=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;const i=t.Aa.Q_();i.sort((u,d)=>function(m,v){const y=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return y(m)-y(v)}(u.type,d.type)||this.Ia(u.doc,d.doc)),this.Va(r),o=o!=null&&o;const a=n&&!o?this.ma():[],l=this.Pa.size===0&&this.current&&!o?1:0,c=l!==this.ha;return this.ha=l,i.length!==0||c?{snapshot:new Ii(this.query,t.Ta,s,i,t.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new nw,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(n=>this.la=this.la.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=t.current)}ma(){if(!this.current)return[];const t=this.Pa;this.Pa=we(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return t.forEach(r=>{this.Pa.has(r)||n.push(new KS(r))}),this.Pa.forEach(r=>{t.has(r)||n.push(new qS(r))}),n}pa(t){this.la=t.ls,this.Pa=we();const n=this.da(t.documents);return this.applyChanges(n,!0)}ya(){return Ii.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class cM{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class uM{constructor(t){this.key=t,this.wa=!1}}class dM{constructor(t,n,r,o,s,i){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.Sa={},this.ba=new zi(a=>hS(a),mf),this.Da=new Map,this.Ca=new Set,this.va=new et(le.comparator),this.Fa=new Map,this.Ma=new Py,this.xa={},this.Oa=new Map,this.Na=Ci.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function fM(e,t,n=!0){const r=JS(e);let o;const s=r.ba.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),o=s.view.ya()):o=await GS(r,t,n,!0),o}async function hM(e,t){const n=JS(e);await GS(n,t,!0,!1)}async function GS(e,t,n,r){const o=await $O(e.localStore,lr(t)),s=o.targetId,i=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await pM(e,t,s,i==="current",o.resumeToken)),e.isPrimaryClient&&n&&jS(e.remoteStore,o),a}async function pM(e,t,n,r,o){e.Ba=(d,h,m)=>async function(y,w,g,p){let _=w.view.da(g);_.Zi&&(_=await X_(y.localStore,w.query,!1).then(({documents:C})=>w.view.da(C,_)));const E=p&&p.targetChanges.get(w.targetId),x=p&&p.targetMismatches.get(w.targetId)!=null,b=w.view.applyChanges(_,y.isPrimaryClient,E,x);return sw(y,w.targetId,b.fa),b.snapshot}(e,d,h,m);const s=await X_(e.localStore,t,!0),i=new lM(t,s.ls),a=i.da(s.documents),l=oc.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",o),c=i.applyChanges(a,e.isPrimaryClient,l);sw(e,n,c.fa);const u=new cM(t,n,i);return e.ba.set(t,u),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),c.snapshot}async function mM(e,t,n){const r=me(e),o=r.ba.get(t),s=r.Da.get(o.targetId);if(s.length>1)return r.Da.set(o.targetId,s.filter(i=>!mf(i,t))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Im(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Dy(r.remoteStore,o.targetId),Rm(r,o.targetId)}).catch(ec)):(Rm(r,o.targetId),await Im(r.localStore,o.targetId,!0))}async function gM(e,t){const n=me(e),r=n.ba.get(t),o=n.Da.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Dy(n.remoteStore,r.targetId))}async function yM(e,t,n){const r=SM(e);try{const o=await function(i,a){const l=me(i),c=ht.now(),u=a.reduce((m,v)=>m.add(v.key),we());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=Vr(),y=we();return l.ss.getEntries(m,u).next(w=>{v=w,v.forEach((g,p)=>{p.isValidDocument()||(y=y.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(w=>{d=w;const g=[];for(const p of a){const _=VD(p,d.get(p.key).overlayedDocument);_!=null&&g.push(new Vo(p.key,_,oS(_.value.mapValue),zn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,g,a)}).next(w=>{h=w;const g=w.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(m,w.batchId,g)})}).then(()=>({batchId:h.batchId,changes:gS(d)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(i,a,l){let c=i.xa[i.currentUser.toKey()];c||(c=new et(Re)),c=c.insert(a,l),i.xa[i.currentUser.toKey()]=c}(r,o.batchId,n),await ic(r,o.changes),await xf(r.remoteStore)}catch(o){const s=Fy(o,"Failed to persist write");n.reject(s)}}async function QS(e,t){const n=me(e);try{const r=await RO(n.localStore,t);t.targetChanges.forEach((o,s)=>{const i=n.Fa.get(s);i&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?i.wa=!0:o.modifiedDocuments.size>0?Fe(i.wa):o.removedDocuments.size>0&&(Fe(i.wa),i.wa=!1))}),await ic(n,r,t)}catch(r){await ec(r)}}function ow(e,t,n){const r=me(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.ba.forEach((s,i)=>{const a=i.view.j_(t);a.snapshot&&o.push(a.snapshot)}),function(i,a){const l=me(i);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.U_)h.j_(a)&&(c=!0)}),c&&jy(l)}(r.eventManager,t),o.length&&r.Sa.l_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function vM(e,t,n){const r=me(e);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Fa.get(t),s=o&&o.key;if(s){let i=new et(le.comparator);i=i.insert(s,Lt.newNoDocument(s,pe.min()));const a=we().add(s),l=new _f(pe.min(),new Map,new et(Re),i,a);await QS(r,l),r.va=r.va.remove(s),r.Fa.delete(t),Uy(r)}else await Im(r.localStore,t,!1).then(()=>Rm(r,t,n)).catch(ec)}async function _M(e,t){const n=me(e),r=t.batch.batchId;try{const o=await AO(n.localStore,t);YS(n,r,null),ZS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ic(n,o)}catch(o){await ec(o)}}async function wM(e,t,n){const r=me(e);try{const o=await function(i,a){const l=me(i);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Fe(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,t);YS(r,t,n),ZS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ic(r,o)}catch(o){await ec(o)}}function ZS(e,t){(e.Oa.get(t)||[]).forEach(n=>{n.resolve()}),e.Oa.delete(t)}function YS(e,t,n){const r=me(e);let o=r.xa[r.currentUser.toKey()];if(o){const s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),r.xa[r.currentUser.toKey()]=o}}function Rm(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Rr(t).forEach(r=>{e.Ma.containsKey(r)||XS(e,r)})}function XS(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);n!==null&&(Dy(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),Uy(e))}function sw(e,t,n){for(const r of n)r instanceof qS?(e.Ma.addReference(r.key,t),EM(e,r)):r instanceof KS?(ee("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||XS(e,r.key)):de()}function EM(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(ee("SyncEngine","New document in limbo: "+n),e.Ca.add(r),Uy(e))}function Uy(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new le(We.fromString(t)),r=e.Na.next();e.Fa.set(r,new uM(n)),e.va=e.va.insert(n,r),jS(e.remoteStore,new no(lr(dS(n.path)),r,"TargetPurposeLimboResolution",Ey.oe))}}async function ic(e,t,n){const r=me(e),o=[],s=[],i=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{i.push(r.Ba(l,t,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){o.push(c);const u=Ny.Qi(l.targetId,c);s.push(u)}}))}),await Promise.all(i),r.Sa.l_(o),await async function(l,c){const u=me(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>O.forEach(c,h=>O.forEach(h.ki,m=>u.persistence.referenceDelegate.addReference(d,h.targetId,m)).next(()=>O.forEach(h.qi,m=>u.persistence.referenceDelegate.removeReference(d,h.targetId,m)))))}catch(d){if(!tc(d))throw d;ee("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const m=u.ts.get(h),v=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(v);u.ts=u.ts.insert(h,y)}}}(r.localStore,s))}async function xM(e,t){const n=me(e);if(!n.currentUser.isEqual(t)){ee("SyncEngine","User change. New user:",t.toKey());const r=await MS(n.localStore,t);n.currentUser=t,function(s,i){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new J($.CANCELLED,i))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ic(n,r._s)}}function TM(e,t){const n=me(e),r=n.Fa.get(t);if(r&&r.wa)return we().add(r.key);{let o=we();const s=n.Da.get(t);if(!s)return o;for(const i of s){const a=n.ba.get(i);o=o.unionWith(a.view.Ea)}return o}}function JS(e){const t=me(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=QS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vM.bind(null,t),t.Sa.l_=sM.bind(null,t.eventManager),t.Sa.ka=iM.bind(null,t.eventManager),t}function SM(e){const t=me(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_M.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wM.bind(null,t),t}class iw{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=wf(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return IO(this.persistence,new bO,t.initialUser,this.serializer)}createPersistence(t){return new xO($y.jr,this.serializer)}createSharedClientState(t){return new DO}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class bM{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ow(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xM.bind(null,this.syncEngine),await eM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new nM}()}createDatastore(t){const n=wf(t.databaseInfo.databaseId),r=function(s){return new LO(s)}(t.databaseInfo);return function(s,i,a,l){return new UO(s,i,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,o,s,i,a){return new zO(r,o,s,i,a)}(this.localStore,this.datastore,t.asyncQueue,n=>ow(this.syncEngine,n,0),function(){return ew.D()?new ew:new OO}())}createSyncEngine(t,n){return function(o,s,i,a,l,c,u){const d=new dM(o,s,i,a,l,c);return u&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(r){const o=me(r);ee("RemoteStore","RemoteStore shutting down."),o.M_.add(5),await sc(o),o.O_.shutdown(),o.N_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):Mr("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t,n,r,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Mt.UNAUTHENTICATED,this.clientId=tS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ee("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ee("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new po;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Fy(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Fh(e,t){e.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async o=>{r.isEqual(o)||(await MS(t.localStore,o),r=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function aw(e,t){e.asyncQueue.verifyOperationInProgress();const n=await RM(e);ee("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>tw(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,o)=>tw(t.remoteStore,o)),e._onlineComponents=t}function AM(e){return e.name==="FirebaseError"?e.code===$.FAILED_PRECONDITION||e.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function RM(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await Fh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!AM(n))throw n;xi("Error using user provided cache. Falling back to memory cache: "+n),await Fh(e,new iw)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await Fh(e,new iw);return e._offlineComponents}async function eb(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await aw(e,e._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await aw(e,new bM))),e._onlineComponents}function kM(e){return eb(e).then(t=>t.syncEngine)}async function PM(e){const t=await eb(e),n=t.eventManager;return n.onListen=fM.bind(null,t.syncEngine),n.onUnlisten=mM.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=hM.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=gM.bind(null,t.syncEngine),n}function $M(e,t,n={}){const r=new po;return e.asyncQueue.enqueueAndForget(async()=>function(s,i,a,l,c){const u=new CM({next:h=>{i.enqueueAndForget(()=>oM(s,d)),h.fromCache&&l.source==="server"?c.reject(new J($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new aM(a,u,{includeMetadataChanges:!0,ra:!0});return rM(s,d)}(await PM(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(e,t,n){if(!n)throw new J($.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function NM(e,t,n,r){if(t===!0&&r===!0)throw new J($.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function cw(e){if(!le.isDocumentKey(e))throw new J($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function uw(e){if(le.isDocumentKey(e))throw new J($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Tf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":de()}function ds(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new J($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tf(e);throw new J($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new J($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new J($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}NM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tb((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Sf{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new J($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dw(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new KN;switch(r.type){case"firstParty":return new YN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=lw.get(n);r&&(ee("ComponentProvider","Removing Datastore"),lw.delete(n),r.terminate())}(this),Promise.resolve()}}function DM(e,t,n,r={}){var o;const s=(e=ds(e,Sf))._getSettings(),i=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==i&&xi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:i,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Mt.MOCK_USER;else{a=w2(r.mockUserToken,(o=e._app)===null||o===void 0?void 0:o.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new J($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Mt(c)}e._authCredentials=new GN(new eS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Hi(this.firestore,t,this._query)}}class gn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new gn(this.firestore,t,this._key)}}class mo extends Hi{constructor(t,n,r){super(t,n,dS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new gn(this.firestore,null,new le(t))}withConverter(t){return new mo(this.firestore,t,this._path)}}function By(e,t,...n){if(e=Dr(e),nb("collection","path",t),e instanceof Sf){const r=We.fromString(t,...n);return uw(r),new mo(e,null,r)}{if(!(e instanceof gn||e instanceof mo))throw new J($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(We.fromString(t,...n));return uw(r),new mo(e.firestore,null,r)}}function zy(e,t,...n){if(e=Dr(e),arguments.length===1&&(t=tS.newId()),nb("doc","path",t),e instanceof Sf){const r=We.fromString(t,...n);return cw(r),new gn(e,null,new le(r))}{if(!(e instanceof gn||e instanceof mo))throw new J($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(We.fromString(t,...n));return cw(r),new gn(e.firestore,e instanceof mo?e.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new LS(this,"async_queue_retry"),this.hu=()=>{const n=Lh();n&&ee("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};const t=Lh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const n=Lh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new po;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(t){if(!tc(t))throw t;ee("AsyncQueue","Operation failed with retryable error: "+t)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}}Iu(t){const n=this.iu.then(()=>(this.uu=!0,t().catch(r=>{this.au=r,this.uu=!1;const o=function(i){let a=i.message||"";return i.stack&&(a=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),a}(r);throw Mr("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(t,n,r){this.Pu(),this.lu.indexOf(t)>-1&&(n=0);const o=Ly.createAndSchedule(this,t,n,r,s=>this.Eu(s));return this._u.push(o),o}Pu(){this.au&&de()}verifyOperationInProgress(){}async du(){let t;do t=this.iu,await t;while(t!==this.iu)}Au(t){for(const n of this._u)if(n.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){const n=this._u.indexOf(t);this._u.splice(n,1)}}class ac extends Sf{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=function(){return new OM}(),this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ob(this),this._firestoreClient.terminate()}}function MM(e,t){const n=typeof e=="object"?e:I$(),r=typeof e=="string"?e:"(default)",o=T$(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const s=v2("firestore");s&&DM(o,...s)}return o}function rb(e){return e._firestoreClient||ob(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ob(e){var t,n,r;const o=e._freezeSettings(),s=function(a,l,c,u){return new uD(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,tb(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,o);e._firestoreClient=new IM(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ai(Bt.fromBase64String(t))}catch(n){throw new J($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ai(Bt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new J($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new J($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new J($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Re(this._lat,t._lat)||Re(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=/^__.*__$/;class LM{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Vo(t,this.data,this.fieldMask,n,this.fieldTransforms):new rc(t,this.data,n,this.fieldTransforms)}}class sb{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Vo(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function ib(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class qy{constructor(t,n,r,o,s,i){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new qy(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.gu({path:r,yu:!1});return o.wu(t),o}Su(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.gu({path:r,yu:!1});return o.mu(),o}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return md(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(t.length===0)throw this.Du("Document fields must not be empty");if(ib(this.fu)&&VM.test(t))throw this.Du('Document fields cannot begin and end with "__"')}}class FM{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||wf(t)}Fu(t,n,r,o=!1){return new qy({fu:t,methodName:n,vu:r,path:Ct.emptyPath(),yu:!1,Cu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ky(e){const t=e._freezeSettings(),n=wf(e._databaseId);return new FM(e._databaseId,!!t.ignoreUndefinedProperties,n)}function jM(e,t,n,r,o,s={}){const i=e.Fu(s.merge||s.mergeFields?2:0,t,n,o);Gy("Data must be an object, but it was:",i,r);const a=ab(r,i);let l,c;if(s.merge)l=new pn(i.fieldMask),c=i.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=km(t,d,n);if(!i.contains(h))throw new J($.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);cb(u,h)||u.push(h)}l=new pn(u),c=i.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=i.fieldTransforms;return new LM(new tn(a),l,c)}class Cf extends Wy{_toFieldTransform(t){if(t.fu!==2)throw t.fu===1?t.Du(`${this._methodName}() can only appear at the top level of your update data`):t.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Cf}}function UM(e,t,n,r){const o=e.Fu(1,t,n);Gy("Data must be an object, but it was:",o,r);const s=[],i=tn.empty();_s(r,(l,c)=>{const u=Qy(t,l,n);c=Dr(c);const d=o.Su(u);if(c instanceof Cf)s.push(u);else{const h=lc(c,d);h!=null&&(s.push(u),i.set(u,h))}});const a=new pn(s);return new sb(i,a,o.fieldTransforms)}function BM(e,t,n,r,o,s){const i=e.Fu(1,t,n),a=[km(t,r,n)],l=[o];if(s.length%2!=0)throw new J($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(km(t,s[h])),l.push(s[h+1]);const c=[],u=tn.empty();for(let h=a.length-1;h>=0;--h)if(!cb(c,a[h])){const m=a[h];let v=l[h];v=Dr(v);const y=i.Su(m);if(v instanceof Cf)c.push(m);else{const w=lc(v,y);w!=null&&(c.push(m),u.set(m,w))}}const d=new pn(c);return new sb(u,d,i.fieldTransforms)}function zM(e,t,n,r=!1){return lc(n,e.Fu(r?4:3,t))}function lc(e,t){if(lb(e=Dr(e)))return Gy("Unsupported field value:",t,e),ab(e,t);if(e instanceof Wy)return function(r,o){if(!ib(o.fu))throw o.Du(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(o);s&&o.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&t.fu!==4)throw t.Du("Nested arrays are not supported");return function(r,o){const s=[];let i=0;for(const a of r){let l=lc(a,o.bu(i));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),i++}return{arrayValue:{values:s}}}(e,t)}return function(r,o){if((r=Dr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PD(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ht.fromDate(r);return{timestampValue:hd(o.serializer,s)}}if(r instanceof ht){const s=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hd(o.serializer,s)}}if(r instanceof Hy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ai)return{bytesValue:RS(o.serializer,r._byteString)};if(r instanceof gn){const s=o.databaseId,i=r.firestore._databaseId;if(!i.isEqual(s))throw o.Du(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ky(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o.Du(`Unsupported field value: ${Tf(r)}`)}(e,t)}function ab(e,t){const n={};return nS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_s(e,(r,o)=>{const s=lc(o,t.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function lb(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ht||e instanceof Hy||e instanceof Ai||e instanceof gn||e instanceof Wy)}function Gy(e,t,n){if(!lb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const r=Tf(n);throw r==="an object"?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function km(e,t,n){if((t=Dr(t))instanceof bf)return t._internalPath;if(typeof t=="string")return Qy(e,t);throw md("Field path arguments must be of type string or ",e,!1,void 0,n)}const WM=new RegExp("[~\\*/\\[\\]]");function Qy(e,t,n){if(t.search(WM)>=0)throw md(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new bf(...t.split("."))._internalPath}catch{throw md(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function md(e,t,n,r,o){const s=r&&!r.isEmpty(),i=o!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||i)&&(l+=" (found",s&&(l+=` in field ${r}`),i&&(l+=` in document ${o}`),l+=")"),new J($.INVALID_ARGUMENT,a+e+l)}function cb(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(t,n,r,o,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new HM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Zy("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HM extends ub{data(){return super.data()}}function Zy(e,t){return typeof t=="string"?Qy(e,t):t instanceof bf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new J($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yy{}class KM extends Yy{}function GM(e,t,...n){let r=[];t instanceof Yy&&r.push(t),r=r.concat(n),function(s){const i=s.filter(l=>l instanceof Xy).length,a=s.filter(l=>l instanceof If).length;if(i>1||i>0&&a>0)throw new J($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)e=o._apply(e);return e}class If extends KM{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new If(t,n,r)}_apply(t){const n=this._parse(t);return db(t._query,n),new Hi(t.firestore,t.converter,Em(t._query,n))}_parse(t){const n=Ky(t.firestore);return function(s,i,a,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new J($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){pw(d,u);const m=[];for(const v of d)m.push(hw(l,s,v));h={arrayValue:{values:m}}}else h=hw(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||pw(d,u),h=zM(a,i,d,u==="in"||u==="not-in");return ct.create(c,u,h)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function fw(e,t,n){const r=t,o=Zy("where",e);return If._create(o,r,n)}class Xy extends Yy{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Xy(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Gn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,s){let i=o;const a=s.getFlattenedFilters();for(const l of a)db(i,l),i=Em(i,l)}(t._query,n),new Hi(t.firestore,t.converter,Em(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function hw(e,t,n){if(typeof(n=Dr(n))=="string"){if(n==="")throw new J($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fS(t)&&n.indexOf("/")!==-1)throw new J($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(We.fromString(n));if(!le.isDocumentKey(r))throw new J($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return O_(e,new le(r))}if(n instanceof gn)return O_(e,n._key);throw new J($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tf(n)}.`)}function pw(e,t){if(!Array.isArray(e)||e.length===0)throw new J($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function db(e,t){const n=function(o,s){for(const i of o)for(const a of i.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new J($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new J($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class QM{convertValue(t,n="none"){switch(us(t)){case 0:return null;case 1:return t.booleanValue;case 2:return at(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(cs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw de()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return _s(t,(o,s)=>{r[o]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new Hy(at(t.latitude),at(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Ty(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ml(t));default:return null}}convertTimestamp(t){const n=xo(t);return new ht(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=We.fromString(t);Fe(OS(r));const o=new gl(r.get(1),r.get(3)),s=new le(r.popFirst(5));return o.isEqual(n)||Mr(`Document ${s} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(e,t,n){let r;return r=e?e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class YM extends ub{constructor(t,n,r,o,s,i){super(t,n,r,o,i),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new pu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Zy("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pu extends YM{data(t={}){return super.data(t)}}class XM{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Uc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new pu(this._firestore,this._userDataWriter,r.key,r,new Uc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,s){if(o._snapshot.oldDocs.isEmpty()){let i=0;return o._snapshot.docChanges.map(a=>{const l=new pu(o._firestore,o._userDataWriter,a.doc.key,a.doc,new Uc(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:i++}})}{let i=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new pu(o._firestore,o._userDataWriter,a.doc.key,a.doc,new Uc(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);let c=-1,u=-1;return a.type!==0&&(c=i.indexOf(a.doc.key),i=i.delete(a.doc.key)),a.type!==1&&(i=i.add(a.doc),u=i.indexOf(a.doc.key)),{type:JM(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function JM(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}class eV extends QM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ai(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function fb(e){e=ds(e,Hi);const t=ds(e.firestore,ac),n=rb(t),r=new eV(t);return qM(e._query),$M(n,e._query).then(o=>new XM(t,r,e,o))}function tV(e,t,n,...r){e=ds(e,gn);const o=ds(e.firestore,ac),s=Ky(o);let i;return i=typeof(t=Dr(t))=="string"||t instanceof bf?BM(s,"updateDoc",e._key,t,n,r):UM(s,"updateDoc",e._key,t),Jy(o,[i.toMutation(e._key,zn.exists(!0))])}function nV(e){return Jy(ds(e.firestore,ac),[new Iy(e._key,zn.none())])}function rV(e,t){const n=ds(e.firestore,ac),r=zy(e),o=ZM(e.converter,t);return Jy(n,[jM(Ky(e.firestore),"addDoc",r._key,o,e.converter!==null,{}).toMutation(r._key,zn.exists(!1))]).then(()=>r)}function Jy(e,t){return function(r,o){const s=new po;return r.asyncQueue.enqueueAndForget(async()=>yM(await kM(r),o,s)),s.promise}(rb(e),t)}(function(t,n=!0){(function(o){Bi=o})(C$),td(new ol("firestore",(r,{instanceIdentifier:o,options:s})=>{const i=r.getProvider("app").getImmediate(),a=new ac(new QN(r.getProvider("auth-internal")),new JN(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new J($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gl(c.options.projectId,u)}(i,o),i);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),si(P_,"4.6.1",t),si(P_,"4.6.1","esm2017")})();const oV={apiKey:"AIzaSyCKaDoXhRm0NtA1kh3NY-66ecFz_XFzwmE",authDomain:"books-app-a6e7c.firebaseapp.com",projectId:"books-app-a6e7c",storageBucket:"books-app-a6e7c.appspot.com",messagingSenderId:"574447057564",appId:"1:574447057564:web:4d97710b7d1649e26e0b59"},sV=Qx(oV),cc=MM(sV),iV=async e=>{try{const t=[],n=`${e[0].toUpperCase()}${e==null?void 0:e.slice(1,e.length)}`;console.log(n);const r=GM(By(cc,"authors"),fw("name",">=",n),fw("name","<=",n+""));return console.log(e),(await fb(r)).forEach(s=>{console.log(s),t.push({id:s.id,name:s.data().name})}),t}catch{throw new Error("There was a problem with your request")}},aV=async e=>{try{const t={title:e.title,authors:e.authors,publishedYear:e.publishedYear?e.publishedYear:"Нет информации",rating:e.rating,ISBN:e.ISBN},n=await rV(By(cc,"books"),{...t});return{...e,id:n.id,rating:Number(e.rating),publishedYear:e.publishedYear?e.publishedYear:void 0}}catch{throw new Error("There was a problem with your request")}},lV=async e=>{try{return await nV(zy(cc,"books",e)),e}catch{throw new Error("There was a problem with your request")}},cV=async(e,t)=>{try{return await tV(zy(cc,"books",t),{...e}),{book:e,id:t}}catch{throw new Error("There was a problem with your request")}},uV=async()=>{try{const e=[];return(await fb(By(cc,"books"))).forEach(n=>{const r=n.data();e.push({id:n.id,title:r.title,authors:r.authors,publishedYear:r.publishedYear?r.publishedYear:null,rating:r.rating?r.rating:null,ISBN:r.ISBN?r.ISBN:null})}),e}catch{throw new Error("There was a problem with your request")}},hb=Qd("books/get",async(e,t)=>{try{return await uV()}catch{return t.rejectWithValue("There was a problem with your request")}}),pb=Qd("books/edit",async({book:e,id:t},n)=>{try{return await cV(e,t)}catch{return n.rejectWithValue("There was a problem with your request")}}),mb=Qd("books/delete",async(e,t)=>{try{return await lV(e)}catch{return t.rejectWithValue("There was a problem with your request")}}),gb=Qd("books/create",async(e,t)=>{try{return await aV(e)}catch{return t.rejectWithValue("There was a problem with your request")}}),dV={books:[]},fV=XP({name:"books",initialState:dV,reducers:{},extraReducers:e=>{e.addCase(gb.fulfilled,(t,n)=>{console.log(n.payload),t.books.push(n.payload)}),e.addCase(hb.fulfilled,(t,n)=>{t.books=n.payload}),e.addCase(mb.fulfilled,(t,n)=>{t.books.splice(t.books.findIndex(r=>r.id===n.payload),1)}),e.addCase(pb.fulfilled,(t,n)=>{t.books.splice(t.books.findIndex(r=>r.id===n.payload.id),1,n.payload.book)})}}),hV=fV.reducer;function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}function pV(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Af(...e){return t=>e.forEach(n=>pV(n,t))}function je(...e){return f.useCallback(Af(...e),e)}const fs=f.forwardRef((e,t)=>{const{children:n,...r}=e,o=f.Children.toArray(n),s=o.find(gV);if(s){const i=s.props.children,a=o.map(l=>l===s?f.Children.count(i)>1?f.Children.only(null):f.isValidElement(i)?i.props.children:null:l);return f.createElement(Pm,z({},r,{ref:t}),f.isValidElement(i)?f.cloneElement(i,void 0,a):null)}return f.createElement(Pm,z({},r,{ref:t}),n)});fs.displayName="Slot";const Pm=f.forwardRef((e,t)=>{const{children:n,...r}=e;return f.isValidElement(n)?f.cloneElement(n,{...yV(r,n.props),ref:t?Af(t,n.ref):n.ref}):f.Children.count(n)>1?f.Children.only(null):null});Pm.displayName="SlotClone";const mV=({children:e})=>f.createElement(f.Fragment,null,e);function gV(e){return f.isValidElement(e)&&e.type===mV}function yV(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{s(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function yb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=yb(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function vV(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=yb(e))&&(r&&(r+=" "),r+=t);return r}const mw=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,gw=vV,vb=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return gw(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:s}=t,i=Object.keys(o).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const h=mw(u)||mw(d);return o[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...m}=u;return Object.entries(m).every(v=>{let[y,w]=v;return Array.isArray(w)?w.includes({...s,...a}[y]):{...s,...a}[y]===w})?[...c,d,h]:c},[]);return gw(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};function _b(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=_b(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function _V(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=_b(e))&&(r&&(r+=" "),r+=t);return r}const ev="-";function wV(e){const t=xV(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;function o(i){const a=i.split(ev);return a[0]===""&&a.length!==1&&a.shift(),wb(a,t)||EV(i)}function s(i,a){const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}return{getClassGroupId:o,getConflictingClassGroupIds:s}}function wb(e,t){var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?wb(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const s=e.join(ev);return(i=t.validators.find(({validator:a})=>a(s)))==null?void 0:i.classGroupId}const yw=/^\[(.+)\]$/;function EV(e){if(yw.test(e)){const t=yw.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function xV(e){const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return SV(Object.entries(e.classGroups),n).forEach(([s,i])=>{$m(i,r,s,t)}),r}function $m(e,t,n,r){e.forEach(o=>{if(typeof o=="string"){const s=o===""?t:vw(t,o);s.classGroupId=n;return}if(typeof o=="function"){if(TV(o)){$m(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([s,i])=>{$m(i,vw(t,s),n,r)})})}function vw(e,t){let n=e;return t.split(ev).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function TV(e){return e.isThemeGetter}function SV(e,t){return t?e.map(([n,r])=>{const o=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,a])=>[t+i,a])):s);return[n,o]}):e}function bV(e){if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;function o(s,i){n.set(s,i),t++,t>e&&(t=0,r=n,n=new Map)}return{get(s){let i=n.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return o(s,i),i},set(s,i){n.has(s)?n.set(s,i):o(s,i)}}}const Eb="!";function CV(e){const t=e.separator,n=t.length===1,r=t[0],o=t.length;return function(i){const a=[];let l=0,c=0,u;for(let y=0;y<i.length;y++){let w=i[y];if(l===0){if(w===r&&(n||i.slice(y,y+o)===t)){a.push(i.slice(c,y)),c=y+o;continue}if(w==="/"){u=y;continue}}w==="["?l++:w==="]"&&l--}const d=a.length===0?i:i.substring(c),h=d.startsWith(Eb),m=h?d.substring(1):d,v=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:v}}}function IV(e){if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t}function AV(e){return{cache:bV(e.cacheSize),splitModifiers:CV(e),...wV(e)}}const RV=/\s+/;function kV(e,t){const{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,s=new Set;return e.trim().split(RV).map(i=>{const{modifiers:a,hasImportantModifier:l,baseClassName:c,maybePostfixModifierPosition:u}=n(i);let d=r(u?c.substring(0,u):c),h=!!u;if(!d){if(!u)return{isTailwindClass:!1,originalClassName:i};if(d=r(c),!d)return{isTailwindClass:!1,originalClassName:i};h=!1}const m=IV(a).join(":");return{isTailwindClass:!0,modifierId:l?m+Eb:m,classGroupId:d,originalClassName:i,hasPostfixModifier:h}}).reverse().filter(i=>{if(!i.isTailwindClass)return!0;const{modifierId:a,classGroupId:l,hasPostfixModifier:c}=i,u=a+l;return s.has(u)?!1:(s.add(u),o(l,c).forEach(d=>s.add(a+d)),!0)}).reverse().map(i=>i.originalClassName).join(" ")}function PV(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=xb(t))&&(r&&(r+=" "),r+=n);return r}function xb(e){if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=xb(e[r]))&&(n&&(n+=" "),n+=t);return n}function $V(e,...t){let n,r,o,s=i;function i(l){const c=t.reduce((u,d)=>d(u),e());return n=AV(c),r=n.cache.get,o=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=kV(l,n);return o(l,u),u}return function(){return s(PV.apply(null,arguments))}}function Ue(e){const t=n=>n[e]||[];return t.isThemeGetter=!0,t}const Tb=/^\[(?:([a-z-]+):)?(.+)\]$/i,NV=/^\d+\/\d+$/,DV=new Set(["px","full","screen"]),OV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,MV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,LV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,FV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function yr(e){return Zo(e)||DV.has(e)||NV.test(e)}function Hr(e){return qi(e,"length",KV)}function Zo(e){return!!e&&!Number.isNaN(Number(e))}function Bc(e){return qi(e,"number",Zo)}function ua(e){return!!e&&Number.isInteger(Number(e))}function jV(e){return e.endsWith("%")&&Zo(e.slice(0,-1))}function ye(e){return Tb.test(e)}function qr(e){return OV.test(e)}const UV=new Set(["length","size","percentage"]);function BV(e){return qi(e,UV,Sb)}function zV(e){return qi(e,"position",Sb)}const WV=new Set(["image","url"]);function HV(e){return qi(e,WV,QV)}function qV(e){return qi(e,"",GV)}function da(){return!0}function qi(e,t,n){const r=Tb.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1}function KV(e){return MV.test(e)&&!VV.test(e)}function Sb(){return!1}function GV(e){return LV.test(e)}function QV(e){return FV.test(e)}function ZV(){const e=Ue("colors"),t=Ue("spacing"),n=Ue("blur"),r=Ue("brightness"),o=Ue("borderColor"),s=Ue("borderRadius"),i=Ue("borderSpacing"),a=Ue("borderWidth"),l=Ue("contrast"),c=Ue("grayscale"),u=Ue("hueRotate"),d=Ue("invert"),h=Ue("gap"),m=Ue("gradientColorStops"),v=Ue("gradientColorStopPositions"),y=Ue("inset"),w=Ue("margin"),g=Ue("opacity"),p=Ue("padding"),_=Ue("saturate"),E=Ue("scale"),x=Ue("sepia"),b=Ue("skew"),C=Ue("space"),I=Ue("translate"),F=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],oe=()=>["auto",ye,t],P=()=>[ye,t],G=()=>["",yr,Hr],N=()=>["auto",Zo,ye],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],k=()=>["","0",ye],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[Zo,Bc],he=()=>[Zo,ye];return{cacheSize:500,separator:":",theme:{colors:[da],spacing:[yr,Hr],blur:["none","",qr,ye],brightness:ie(),borderColor:[e],borderRadius:["none","","full",qr,ye],borderSpacing:P(),borderWidth:G(),contrast:ie(),grayscale:k(),hueRotate:he(),invert:k(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[jV,Hr],inset:oe(),margin:oe(),opacity:ie(),padding:P(),saturate:ie(),scale:ie(),sepia:k(),skew:he(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",ye]}],container:["container"],columns:[{columns:[qr]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),ye]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ua,ye]}],basis:[{basis:oe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ye]}],grow:[{grow:k()}],shrink:[{shrink:k()}],order:[{order:["first","last","none",ua,ye]}],"grid-cols":[{"grid-cols":[da]}],"col-start-end":[{col:["auto",{span:["full",ua,ye]},ye]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[da]}],"row-start-end":[{row:["auto",{span:[ua,ye]},ye]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ye]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ye,t]}],"min-w":[{"min-w":[ye,t,"min","max","fit"]}],"max-w":[{"max-w":[ye,t,"none","full","min","max","fit","prose",{screen:[qr]},qr]}],h:[{h:[ye,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ye,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ye,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ye,t,"auto","min","max","fit"]}],"font-size":[{text:["base",qr,Hr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bc]}],"font-family":[{font:[da]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ye]}],"line-clamp":[{"line-clamp":["none",Zo,Bc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",yr,ye]}],"list-image":[{"list-image":["none",ye]}],"list-style-type":[{list:["none","disc","decimal",ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",yr,Hr]}],"underline-offset":[{"underline-offset":["auto",yr,ye]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),zV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",BV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},HV]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:te()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[yr,ye]}],"outline-w":[{outline:[yr,Hr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[yr,Hr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qr,qV]}],"shadow-color":[{shadow:[da]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",qr,ye]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[_]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ye]}],duration:[{duration:he()}],ease:[{ease:["linear","in","out","in-out",ye]}],delay:[{delay:he()}],animate:[{animate:["none","spin","ping","pulse","bounce",ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[ua,ye]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ye]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[yr,Hr,Bc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const YV=$V(ZV);function qe(...e){return YV(_V(e))}const XV=vb("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ri=f.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},s)=>{const i=r?fs:"button";return S.jsx(i,{className:qe(XV({variant:t,size:n,className:e})),ref:s,...o})});Ri.displayName="Button";const go=f.forwardRef(({className:e,type:t,children:n,...r},o)=>S.jsx("input",{type:t,className:qe("flex h-10 w-full focus:outline-none rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),ref:o,...r}));go.displayName="Input";const JV=1,e3=1e6;let jh=0;function t3(){return jh=(jh+1)%Number.MAX_SAFE_INTEGER,jh.toString()}const Uh=new Map,_w=e=>{if(Uh.has(e))return;const t=setTimeout(()=>{Uh.delete(e),La({type:"REMOVE_TOAST",toastId:e})},e3);Uh.set(e,t)},n3=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,JV)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?_w(n):e.toasts.forEach(r=>{_w(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},mu=[];let gu={toasts:[]};function La(e){gu=n3(gu,e),mu.forEach(t=>{t(gu)})}function r3({...e}){const t=t3(),n=o=>La({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>La({type:"DISMISS_TOAST",toastId:t});return La({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function Rf(){const[e,t]=f.useState(gu);return f.useEffect(()=>(mu.push(t),()=>{const n=mu.indexOf(t);n>-1&&mu.splice(n,1)}),[e]),{...e,toast:r3,dismiss:n=>La({type:"DISMISS_TOAST",toastId:n})}}function ww(e,[t,n]){return Math.min(n,Math.max(t,e))}function ne(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Es(e,t=[]){let n=[];function r(s,i){const a=f.createContext(i),l=n.length;n=[...n,i];function c(d){const{scope:h,children:m,...v}=d,y=(h==null?void 0:h[e][l])||a,w=f.useMemo(()=>v,Object.values(v));return f.createElement(y.Provider,{value:w},m)}function u(d,h){const m=(h==null?void 0:h[e][l])||a,v=f.useContext(m);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const o=()=>{const s=n.map(i=>f.createContext(i));return function(a){const l=(a==null?void 0:a[e])||s;return f.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,o3(o,...t)]}function o3(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function kf(e){const t=e+"CollectionProvider",[n,r]=Es(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:v,children:y}=m,w=Ge.useRef(null),g=Ge.useRef(new Map).current;return Ge.createElement(o,{scope:v,itemMap:g,collectionRef:w},y)},a=e+"CollectionSlot",l=Ge.forwardRef((m,v)=>{const{scope:y,children:w}=m,g=s(a,y),p=je(v,g.collectionRef);return Ge.createElement(fs,{ref:p},w)}),c=e+"CollectionItemSlot",u="data-radix-collection-item",d=Ge.forwardRef((m,v)=>{const{scope:y,children:w,...g}=m,p=Ge.useRef(null),_=je(v,p),E=s(c,y);return Ge.useEffect(()=>(E.itemMap.set(p,{ref:p,...g}),()=>void E.itemMap.delete(p))),Ge.createElement(fs,{[u]:"",ref:_},w)});function h(m){const v=s(e+"CollectionConsumer",m);return Ge.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const g=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(v.itemMap.values()).sort((E,x)=>g.indexOf(E.ref.current)-g.indexOf(x.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:l,ItemSlot:d},h,r]}const s3=f.createContext(void 0);function tv(e){const t=f.useContext(s3);return e||t||"ltr"}const i3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ce=i3.reduce((e,t)=>{const n=f.forwardRef((r,o)=>{const{asChild:s,...i}=r,a=s?fs:t;return f.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),f.createElement(a,z({},i,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function nv(e,t){e&&Do.flushSync(()=>e.dispatchEvent(t))}function Gt(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function a3(e,t=globalThis==null?void 0:globalThis.document){const n=Gt(e);f.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const Nm="dismissableLayer.update",l3="dismissableLayer.pointerDownOutside",c3="dismissableLayer.focusOutside";let Ew;const bb=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rv=f.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=f.useContext(bb),[d,h]=f.useState(null),m=(n=d==null?void 0:d.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,v]=f.useState({}),y=je(t,I=>h(I)),w=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=w.indexOf(g),_=d?w.indexOf(d):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,x=_>=p,b=d3(I=>{const F=I.target,V=[...u.branches].some(oe=>oe.contains(F));!x||V||(s==null||s(I),a==null||a(I),I.defaultPrevented||l==null||l())},m),C=f3(I=>{const F=I.target;[...u.branches].some(oe=>oe.contains(F))||(i==null||i(I),a==null||a(I),I.defaultPrevented||l==null||l())},m);return a3(I=>{_===u.layers.size-1&&(o==null||o(I),!I.defaultPrevented&&l&&(I.preventDefault(),l()))},m),f.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Ew=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),xw(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Ew)}},[d,m,r,u]),f.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),xw())},[d,u]),f.useEffect(()=>{const I=()=>v({});return document.addEventListener(Nm,I),()=>document.removeEventListener(Nm,I)},[]),f.createElement(Ce.div,z({},c,{ref:y,style:{pointerEvents:E?x?"auto":"none":void 0,...e.style},onFocusCapture:ne(e.onFocusCapture,C.onFocusCapture),onBlurCapture:ne(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ne(e.onPointerDownCapture,b.onPointerDownCapture)}))}),u3=f.forwardRef((e,t)=>{const n=f.useContext(bb),r=f.useRef(null),o=je(t,r);return f.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),f.createElement(Ce.div,z({},e,{ref:o}))});function d3(e,t=globalThis==null?void 0:globalThis.document){const n=Gt(e),r=f.useRef(!1),o=f.useRef(()=>{});return f.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let u=function(){Cb(l3,n,c,{discrete:!0})};var l=u;const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=u,t.addEventListener("click",o.current,{once:!0})):u()}else t.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function f3(e,t=globalThis==null?void 0:globalThis.document){const n=Gt(e),r=f.useRef(!1);return f.useEffect(()=>{const o=s=>{s.target&&!r.current&&Cb(c3,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function xw(){const e=new CustomEvent(Nm);document.dispatchEvent(e)}function Cb(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?nv(o,s):o.dispatchEvent(s)}const h3=rv,p3=u3;let Bh=0;function Ib(){f.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:Tw()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:Tw()),Bh++,()=>{Bh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Bh--}},[])}function Tw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const zh="focusScope.autoFocusOnMount",Wh="focusScope.autoFocusOnUnmount",Sw={bubbles:!1,cancelable:!0},Ab=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=e,[a,l]=f.useState(null),c=Gt(o),u=Gt(s),d=f.useRef(null),h=je(t,y=>l(y)),m=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let p=function(b){if(m.paused||!a)return;const C=b.target;a.contains(C)?d.current=C:Kr(d.current,{select:!0})},_=function(b){if(m.paused||!a)return;const C=b.relatedTarget;C!==null&&(a.contains(C)||Kr(d.current,{select:!0}))},E=function(b){if(document.activeElement===document.body)for(const I of b)I.removedNodes.length>0&&Kr(a)};var y=p,w=_,g=E;document.addEventListener("focusin",p),document.addEventListener("focusout",_);const x=new MutationObserver(E);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",_),x.disconnect()}}},[r,a,m.paused]),f.useEffect(()=>{if(a){Cw.add(m);const y=document.activeElement;if(!a.contains(y)){const g=new CustomEvent(zh,Sw);a.addEventListener(zh,c),a.dispatchEvent(g),g.defaultPrevented||(m3(w3(Rb(a)),{select:!0}),document.activeElement===y&&Kr(a))}return()=>{a.removeEventListener(zh,c),setTimeout(()=>{const g=new CustomEvent(Wh,Sw);a.addEventListener(Wh,u),a.dispatchEvent(g),g.defaultPrevented||Kr(y??document.body,{select:!0}),a.removeEventListener(Wh,u),Cw.remove(m)},0)}}},[a,c,u,m]);const v=f.useCallback(y=>{if(!n&&!r||m.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,g=document.activeElement;if(w&&g){const p=y.currentTarget,[_,E]=g3(p);_&&E?!y.shiftKey&&g===E?(y.preventDefault(),n&&Kr(_,{select:!0})):y.shiftKey&&g===_&&(y.preventDefault(),n&&Kr(E,{select:!0})):g===p&&y.preventDefault()}},[n,r,m.paused]);return f.createElement(Ce.div,z({tabIndex:-1},i,{ref:h,onKeyDown:v}))});function m3(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Kr(r,{select:t}),document.activeElement!==n)return}function g3(e){const t=Rb(e),n=bw(t,e),r=bw(t.reverse(),e);return[n,r]}function Rb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function bw(e,t){for(const n of e)if(!y3(n,{upTo:t}))return n}function y3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function v3(e){return e instanceof HTMLInputElement&&"select"in e}function Kr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&v3(e)&&t&&e.select()}}const Cw=_3();function _3(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Iw(e,t),e.unshift(t)},remove(t){var n;e=Iw(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function Iw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function w3(e){return e.filter(t=>t.tagName!=="A")}const Qt=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},E3=Jh.useId||(()=>{});let x3=0;function ki(e){const[t,n]=f.useState(E3());return Qt(()=>{n(r=>r??String(x3++))},[e]),t?`radix-${t}`:""}const T3=["top","right","bottom","left"],So=Math.min,dn=Math.max,gd=Math.round,zc=Math.floor,bo=e=>({x:e,y:e}),S3={left:"right",right:"left",bottom:"top",top:"bottom"},b3={start:"end",end:"start"};function Dm(e,t,n){return dn(e,So(t,n))}function Lr(e,t){return typeof e=="function"?e(t):e}function Fr(e){return e.split("-")[0]}function Ki(e){return e.split("-")[1]}function ov(e){return e==="x"?"y":"x"}function sv(e){return e==="y"?"height":"width"}function Gi(e){return["top","bottom"].includes(Fr(e))?"y":"x"}function iv(e){return ov(Gi(e))}function C3(e,t,n){n===void 0&&(n=!1);const r=Ki(e),o=iv(e),s=sv(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=yd(i)),[i,yd(i)]}function I3(e){const t=yd(e);return[Om(e),t,Om(t)]}function Om(e){return e.replace(/start|end/g,t=>b3[t])}function A3(e,t,n){const r=["left","right"],o=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?s:i;default:return[]}}function R3(e,t,n,r){const o=Ki(e);let s=A3(Fr(e),n==="start",r);return o&&(s=s.map(i=>i+"-"+o),t&&(s=s.concat(s.map(Om)))),s}function yd(e){return e.replace(/left|right|bottom|top/g,t=>S3[t])}function k3(e){return{top:0,right:0,bottom:0,left:0,...e}}function kb(e){return typeof e!="number"?k3(e):{top:e,right:e,bottom:e,left:e}}function vd(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Aw(e,t,n){let{reference:r,floating:o}=e;const s=Gi(t),i=iv(t),a=sv(i),l=Fr(t),c=s==="y",u=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,h=r[a]/2-o[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-o.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-o.width,y:d};break;default:m={x:r.x,y:r.y}}switch(Ki(t)){case"start":m[i]-=h*(n&&c?-1:1);break;case"end":m[i]+=h*(n&&c?-1:1);break}return m}const P3=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:d}=Aw(c,r,l),h=r,m={},v=0;for(let y=0;y<a.length;y++){const{name:w,fn:g}=a[y],{x:p,y:_,data:E,reset:x}=await g({x:u,y:d,initialPlacement:r,placement:h,strategy:o,middlewareData:m,rects:c,platform:i,elements:{reference:e,floating:t}});u=p??u,d=_??d,m={...m,[w]:{...m[w],...E}},x&&v<=50&&(v++,typeof x=="object"&&(x.placement&&(h=x.placement),x.rects&&(c=x.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):x.rects),{x:u,y:d}=Aw(c,h,l)),y=-1)}return{x:u,y:d,placement:h,strategy:o,middlewareData:m}};async function wl(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:m=0}=Lr(t,e),v=kb(m),w=a[h?d==="floating"?"reference":"floating":d],g=vd(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),p=d==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),E=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},x=vd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:p,offsetParent:_,strategy:l}):p);return{top:(g.top-x.top+v.top)/E.y,bottom:(x.bottom-g.bottom+v.bottom)/E.y,left:(g.left-x.left+v.left)/E.x,right:(x.right-g.right+v.right)/E.x}}const $3=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=Lr(e,t)||{};if(c==null)return{};const d=kb(u),h={x:n,y:r},m=iv(o),v=sv(m),y=await i.getDimensions(c),w=m==="y",g=w?"top":"left",p=w?"bottom":"right",_=w?"clientHeight":"clientWidth",E=s.reference[v]+s.reference[m]-h[m]-s.floating[v],x=h[m]-s.reference[m],b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let C=b?b[_]:0;(!C||!await(i.isElement==null?void 0:i.isElement(b)))&&(C=a.floating[_]||s.floating[v]);const I=E/2-x/2,F=C/2-y[v]/2-1,V=So(d[g],F),oe=So(d[p],F),P=V,G=C-y[v]-oe,N=C/2-y[v]/2+I,U=Dm(P,N,G),te=!l.arrow&&Ki(o)!=null&&N!==U&&s.reference[v]/2-(N<P?V:oe)-y[v]/2<0,Y=te?N<P?N-P:N-G:0;return{[m]:h[m]+Y,data:{[m]:U,centerOffset:N-U-Y,...te&&{alignmentOffset:Y}},reset:te}}}),N3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...w}=Lr(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=Fr(o),p=Fr(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=h||(p||!y?[yd(a)]:I3(a));!h&&v!=="none"&&E.push(...R3(a,y,v,_));const x=[a,...E],b=await wl(t,w),C=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&C.push(b[g]),d){const P=C3(o,i,_);C.push(b[P[0]],b[P[1]])}if(I=[...I,{placement:o,overflows:C}],!C.every(P=>P<=0)){var F,V;const P=(((F=s.flip)==null?void 0:F.index)||0)+1,G=x[P];if(G)return{data:{index:P,overflows:I},reset:{placement:G}};let N=(V=I.filter(U=>U.overflows[0]<=0).sort((U,te)=>U.overflows[1]-te.overflows[1])[0])==null?void 0:V.placement;if(!N)switch(m){case"bestFit":{var oe;const U=(oe=I.map(te=>[te.placement,te.overflows.filter(Y=>Y>0).reduce((Y,D)=>Y+D,0)]).sort((te,Y)=>te[1]-Y[1])[0])==null?void 0:oe[0];U&&(N=U);break}case"initialPlacement":N=a;break}if(o!==N)return{reset:{placement:N}}}return{}}}};function Rw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function kw(e){return T3.some(t=>e[t]>=0)}const D3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Lr(e,t);switch(r){case"referenceHidden":{const s=await wl(t,{...o,elementContext:"reference"}),i=Rw(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:kw(i)}}}case"escaped":{const s=await wl(t,{...o,altBoundary:!0}),i=Rw(s,n.floating);return{data:{escapedOffsets:i,escaped:kw(i)}}}default:return{}}}}};async function O3(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=Fr(n),a=Ki(n),l=Gi(n)==="y",c=["left","top"].includes(i)?-1:1,u=s&&l?-1:1,d=Lr(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*u,y:h*c}:{x:h*c,y:m*u}}const M3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:i,middlewareData:a}=t,l=await O3(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:s+l.y,data:{...l,placement:i}}}}},V3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:w=>{let{x:g,y:p}=w;return{x:g,y:p}}},...l}=Lr(e,t),c={x:n,y:r},u=await wl(t,l),d=Gi(Fr(o)),h=ov(d);let m=c[h],v=c[d];if(s){const w=h==="y"?"top":"left",g=h==="y"?"bottom":"right",p=m+u[w],_=m-u[g];m=Dm(p,m,_)}if(i){const w=d==="y"?"top":"left",g=d==="y"?"bottom":"right",p=v+u[w],_=v-u[g];v=Dm(p,v,_)}const y=a.fn({...t,[h]:m,[d]:v});return{...y,data:{x:y.x-n,y:y.y-r}}}}},L3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Lr(e,t),u={x:n,y:r},d=Gi(o),h=ov(d);let m=u[h],v=u[d];const y=Lr(a,t),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const _=h==="y"?"height":"width",E=s.reference[h]-s.floating[_]+w.mainAxis,x=s.reference[h]+s.reference[_]-w.mainAxis;m<E?m=E:m>x&&(m=x)}if(c){var g,p;const _=h==="y"?"width":"height",E=["top","left"].includes(Fr(o)),x=s.reference[d]-s.floating[_]+(E&&((g=i.offset)==null?void 0:g[d])||0)+(E?0:w.crossAxis),b=s.reference[d]+s.reference[_]+(E?0:((p=i.offset)==null?void 0:p[d])||0)-(E?w.crossAxis:0);v<x?v=x:v>b&&(v=b)}return{[h]:m,[d]:v}}}},F3=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:s}=t,{apply:i=()=>{},...a}=Lr(e,t),l=await wl(t,a),c=Fr(n),u=Ki(n),d=Gi(n)==="y",{width:h,height:m}=r.floating;let v,y;c==="top"||c==="bottom"?(v=c,y=u===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(y=c,v=u==="end"?"top":"bottom");const w=m-l[v],g=h-l[y],p=!t.middlewareData.shift;let _=w,E=g;if(d){const b=h-l.left-l.right;E=u||p?So(g,b):b}else{const b=m-l.top-l.bottom;_=u||p?So(w,b):b}if(p&&!u){const b=dn(l.left,0),C=dn(l.right,0),I=dn(l.top,0),F=dn(l.bottom,0);d?E=h-2*(b!==0||C!==0?b+C:dn(l.left,l.right)):_=m-2*(I!==0||F!==0?I+F:dn(l.top,l.bottom))}await i({...t,availableWidth:E,availableHeight:_});const x=await o.getDimensions(s.floating);return h!==x.width||m!==x.height?{reset:{rects:!0}}:{}}}};function Qi(e){return Pb(e)?(e.nodeName||"").toLowerCase():"#document"}function yn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Br(e){var t;return(t=(Pb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Pb(e){return e instanceof Node||e instanceof yn(e).Node}function fr(e){return e instanceof Element||e instanceof yn(e).Element}function hr(e){return e instanceof HTMLElement||e instanceof yn(e).HTMLElement}function Pw(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof yn(e).ShadowRoot}function uc(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Qn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function j3(e){return["table","td","th"].includes(Qi(e))}function av(e){const t=lv(),n=Qn(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function U3(e){let t=Co(e);for(;hr(t)&&!Pi(t);){if(av(t))return t;t=Co(t)}return null}function lv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pi(e){return["html","body","#document"].includes(Qi(e))}function Qn(e){return yn(e).getComputedStyle(e)}function Pf(e){return fr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Co(e){if(Qi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Pw(e)&&e.host||Br(e);return Pw(t)?t.host:t}function $b(e){const t=Co(e);return Pi(t)?e.ownerDocument?e.ownerDocument.body:e.body:hr(t)&&uc(t)?t:$b(t)}function El(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=$b(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),i=yn(o);return s?t.concat(i,i.visualViewport||[],uc(o)?o:[],i.frameElement&&n?El(i.frameElement):[]):t.concat(o,El(o,[],n))}function Nb(e){const t=Qn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=hr(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r,a=gd(n)!==s||gd(r)!==i;return a&&(n=s,r=i),{width:n,height:r,$:a}}function cv(e){return fr(e)?e:e.contextElement}function ci(e){const t=cv(e);if(!hr(t))return bo(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=Nb(t);let i=(s?gd(n.width):n.width)/r,a=(s?gd(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const B3=bo(0);function Db(e){const t=yn(e);return!lv()||!t.visualViewport?B3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function z3(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==yn(e)?!1:t}function hs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=cv(e);let i=bo(1);t&&(r?fr(r)&&(i=ci(r)):i=ci(e));const a=z3(s,n,r)?Db(s):bo(0);let l=(o.left+a.x)/i.x,c=(o.top+a.y)/i.y,u=o.width/i.x,d=o.height/i.y;if(s){const h=yn(s),m=r&&fr(r)?yn(r):r;let v=h,y=v.frameElement;for(;y&&r&&m!==v;){const w=ci(y),g=y.getBoundingClientRect(),p=Qn(y),_=g.left+(y.clientLeft+parseFloat(p.paddingLeft))*w.x,E=g.top+(y.clientTop+parseFloat(p.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,d*=w.y,l+=_,c+=E,v=yn(y),y=v.frameElement}}return vd({width:u,height:d,x:l,y:c})}const W3=[":popover-open",":modal"];function uv(e){return W3.some(t=>{try{return e.matches(t)}catch{return!1}})}function H3(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",i=Br(r),a=t?uv(t.floating):!1;if(r===i||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=bo(1);const u=bo(0),d=hr(r);if((d||!d&&!s)&&((Qi(r)!=="body"||uc(i))&&(l=Pf(r)),hr(r))){const h=hs(r);c=ci(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function q3(e){return Array.from(e.getClientRects())}function Ob(e){return hs(Br(e)).left+Pf(e).scrollLeft}function K3(e){const t=Br(e),n=Pf(e),r=e.ownerDocument.body,o=dn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=dn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Ob(e);const a=-n.scrollTop;return Qn(r).direction==="rtl"&&(i+=dn(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:a}}function G3(e,t){const n=yn(e),r=Br(e),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,a=0,l=0;if(o){s=o.width,i=o.height;const c=lv();(!c||c&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:i,x:a,y:l}}function Q3(e,t){const n=hs(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=hr(e)?ci(e):bo(1),i=e.clientWidth*s.x,a=e.clientHeight*s.y,l=o*s.x,c=r*s.y;return{width:i,height:a,x:l,y:c}}function $w(e,t,n){let r;if(t==="viewport")r=G3(e,n);else if(t==="document")r=K3(Br(e));else if(fr(t))r=Q3(t,n);else{const o=Db(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return vd(r)}function Mb(e,t){const n=Co(e);return n===t||!fr(n)||Pi(n)?!1:Qn(n).position==="fixed"||Mb(n,t)}function Z3(e,t){const n=t.get(e);if(n)return n;let r=El(e,[],!1).filter(a=>fr(a)&&Qi(a)!=="body"),o=null;const s=Qn(e).position==="fixed";let i=s?Co(e):e;for(;fr(i)&&!Pi(i);){const a=Qn(i),l=av(i);!l&&a.position==="fixed"&&(o=null),(s?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||uc(i)&&!l&&Mb(e,i))?r=r.filter(u=>u!==i):o=a,i=Co(i)}return t.set(e,r),r}function Y3(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?uv(t)?[]:Z3(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,u)=>{const d=$w(t,u,o);return c.top=dn(d.top,c.top),c.right=So(d.right,c.right),c.bottom=So(d.bottom,c.bottom),c.left=dn(d.left,c.left),c},$w(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function X3(e){const{width:t,height:n}=Nb(e);return{width:t,height:n}}function J3(e,t,n){const r=hr(t),o=Br(t),s=n==="fixed",i=hs(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=bo(0);if(r||!r&&!s)if((Qi(t)!=="body"||uc(o))&&(a=Pf(t)),r){const d=hs(t,!0,s,t);l.x=d.x+t.clientLeft,l.y=d.y+t.clientTop}else o&&(l.x=Ob(o));const c=i.left+a.scrollLeft-l.x,u=i.top+a.scrollTop-l.y;return{x:c,y:u,width:i.width,height:i.height}}function Hh(e){return Qn(e).position==="static"}function Nw(e,t){return!hr(e)||Qn(e).position==="fixed"?null:t?t(e):e.offsetParent}function Vb(e,t){const n=yn(e);if(uv(e))return n;if(!hr(e)){let o=Co(e);for(;o&&!Pi(o);){if(fr(o)&&!Hh(o))return o;o=Co(o)}return n}let r=Nw(e,t);for(;r&&j3(r)&&Hh(r);)r=Nw(r,t);return r&&Pi(r)&&Hh(r)&&!av(r)?n:r||U3(e)||n}const e4=async function(e){const t=this.getOffsetParent||Vb,n=this.getDimensions,r=await n(e.floating);return{reference:J3(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function t4(e){return Qn(e).direction==="rtl"}const n4={convertOffsetParentRelativeRectToViewportRelativeRect:H3,getDocumentElement:Br,getClippingRect:Y3,getOffsetParent:Vb,getElementRects:e4,getClientRects:q3,getDimensions:X3,getScale:ci,isElement:fr,isRTL:t4};function r4(e,t){let n=null,r;const o=Br(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:h}=e.getBoundingClientRect();if(a||t(),!d||!h)return;const m=zc(u),v=zc(o.clientWidth-(c+d)),y=zc(o.clientHeight-(u+h)),w=zc(c),p={rootMargin:-m+"px "+-v+"px "+-y+"px "+-w+"px",threshold:dn(0,So(1,l))||1};let _=!0;function E(x){const b=x[0].intersectionRatio;if(b!==l){if(!_)return i();b?i(!1,b):r=setTimeout(()=>{i(!1,1e-7)},1e3)}_=!1}try{n=new IntersectionObserver(E,{...p,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,p)}n.observe(e)}return i(!0),s}function o4(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=cv(e),u=o||s?[...c?El(c):[],...El(t)]:[];u.forEach(g=>{o&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const d=c&&a?r4(c,n):null;let h=-1,m=null;i&&(m=new ResizeObserver(g=>{let[p]=g;p&&p.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=m)==null||_.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let v,y=l?hs(e):null;l&&w();function w(){const g=hs(e);y&&(g.x!==y.x||g.y!==y.y||g.width!==y.width||g.height!==y.height)&&n(),y=g,v=requestAnimationFrame(w)}return n(),()=>{var g;u.forEach(p=>{o&&p.removeEventListener("scroll",n),s&&p.removeEventListener("resize",n)}),d==null||d(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const s4=M3,i4=V3,a4=N3,l4=F3,c4=D3,Dw=$3,u4=L3,d4=(e,t,n)=>{const r=new Map,o={platform:n4,...n},s={...o.platform,_c:r};return P3(e,t,{...o,platform:s})},f4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Dw({element:r.current,padding:o}).fn(n):{}:r?Dw({element:r,padding:o}).fn(n):{}}}};var yu=typeof document<"u"?f.useLayoutEffect:f.useEffect;function _d(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!_d(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!_d(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Lb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ow(e,t){const n=Lb(e);return Math.round(t*n)/n}function Mw(e){const t=f.useRef(e);return yu(()=>{t.current=e}),t}function h4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,d]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=f.useState(r);_d(h,r)||m(r);const[v,y]=f.useState(null),[w,g]=f.useState(null),p=f.useCallback(Y=>{Y!==b.current&&(b.current=Y,y(Y))},[]),_=f.useCallback(Y=>{Y!==C.current&&(C.current=Y,g(Y))},[]),E=s||v,x=i||w,b=f.useRef(null),C=f.useRef(null),I=f.useRef(u),F=l!=null,V=Mw(l),oe=Mw(o),P=f.useCallback(()=>{if(!b.current||!C.current)return;const Y={placement:t,strategy:n,middleware:h};oe.current&&(Y.platform=oe.current),d4(b.current,C.current,Y).then(D=>{const k={...D,isPositioned:!0};G.current&&!_d(I.current,k)&&(I.current=k,Do.flushSync(()=>{d(k)}))})},[h,t,n,oe]);yu(()=>{c===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,d(Y=>({...Y,isPositioned:!1})))},[c]);const G=f.useRef(!1);yu(()=>(G.current=!0,()=>{G.current=!1}),[]),yu(()=>{if(E&&(b.current=E),x&&(C.current=x),E&&x){if(V.current)return V.current(E,x,P);P()}},[E,x,P,V,F]);const N=f.useMemo(()=>({reference:b,floating:C,setReference:p,setFloating:_}),[p,_]),U=f.useMemo(()=>({reference:E,floating:x}),[E,x]),te=f.useMemo(()=>{const Y={position:n,left:0,top:0};if(!U.floating)return Y;const D=Ow(U.floating,u.x),k=Ow(U.floating,u.y);return a?{...Y,transform:"translate("+D+"px, "+k+"px)",...Lb(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:k}},[n,a,U.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:P,refs:N,elements:U,floatingStyles:te}),[u,P,N,U,te])}function p4(e){const[t,n]=f.useState(void 0);return Qt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let i,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const Fb="Popper",[jb,$f]=Es(Fb),[m4,Ub]=jb(Fb),g4=e=>{const{__scopePopper:t,children:n}=e,[r,o]=f.useState(null);return f.createElement(m4,{scope:t,anchor:r,onAnchorChange:o},n)},y4="PopperAnchor",v4=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,s=Ub(y4,n),i=f.useRef(null),a=je(t,i);return f.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:f.createElement(Ce.div,z({},o,{ref:a}))}),Bb="PopperContent",[_4,qF]=jb(Bb),w4=f.forwardRef((e,t)=>{var n,r,o,s,i,a,l,c;const{__scopePopper:u,side:d="bottom",sideOffset:h=0,align:m="center",alignOffset:v=0,arrowPadding:y=0,avoidCollisions:w=!0,collisionBoundary:g=[],collisionPadding:p=0,sticky:_="partial",hideWhenDetached:E=!1,updatePositionStrategy:x="optimized",onPlaced:b,...C}=e,I=Ub(Bb,u),[F,V]=f.useState(null),oe=je(t,Yn=>V(Yn)),[P,G]=f.useState(null),N=p4(P),U=(n=N==null?void 0:N.width)!==null&&n!==void 0?n:0,te=(r=N==null?void 0:N.height)!==null&&r!==void 0?r:0,Y=d+(m!=="center"?"-"+m:""),D=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},k=Array.isArray(g)?g:[g],H=k.length>0,ie={padding:D,boundary:k.filter(E4),altBoundary:H},{refs:he,floatingStyles:Ke,placement:Ve,isPositioned:mt,middlewareData:$e}=h4({strategy:"fixed",placement:Y,whileElementsMounted:(...Yn)=>o4(...Yn,{animationFrame:x==="always"}),elements:{reference:I.anchor},middleware:[s4({mainAxis:h+te,alignmentAxis:v}),w&&i4({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?u4():void 0,...ie}),w&&a4({...ie}),l4({...ie,apply:({elements:Yn,rects:Lo,availableWidth:Cs,availableHeight:T})=>{const{width:A,height:R}=Lo.reference,q=Yn.floating.style;q.setProperty("--radix-popper-available-width",`${Cs}px`),q.setProperty("--radix-popper-available-height",`${T}px`),q.setProperty("--radix-popper-anchor-width",`${A}px`),q.setProperty("--radix-popper-anchor-height",`${R}px`)}}),P&&f4({element:P,padding:y}),x4({arrowWidth:U,arrowHeight:te}),E&&c4({strategy:"referenceHidden",...ie})]}),[re,be]=zb(Ve),Ie=Gt(b);Qt(()=>{mt&&(Ie==null||Ie())},[mt,Ie]);const ke=(o=$e.arrow)===null||o===void 0?void 0:o.x,Ae=(s=$e.arrow)===null||s===void 0?void 0:s.y,Pe=((i=$e.arrow)===null||i===void 0?void 0:i.centerOffset)!==0,[Pt,$t]=f.useState();return Qt(()=>{F&&$t(window.getComputedStyle(F).zIndex)},[F]),f.createElement("div",{ref:he.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ke,transform:mt?Ke.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pt,"--radix-popper-transform-origin":[(a=$e.transformOrigin)===null||a===void 0?void 0:a.x,(l=$e.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:e.dir},f.createElement(_4,{scope:u,placedSide:re,onArrowChange:G,arrowX:ke,arrowY:Ae,shouldHideArrow:Pe},f.createElement(Ce.div,z({"data-side":re,"data-align":be},C,{ref:oe,style:{...C.style,animation:mt?void 0:"none",opacity:(c=$e.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function E4(e){return e!==null}const x4=e=>({name:"transformOrigin",options:e,fn(t){var n,r,o,s,i;const{placement:a,rects:l,middlewareData:c}=t,d=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,h=d?0:e.arrowWidth,m=d?0:e.arrowHeight,[v,y]=zb(a),w={start:"0%",center:"50%",end:"100%"}[y],g=((r=(o=c.arrow)===null||o===void 0?void 0:o.x)!==null&&r!==void 0?r:0)+h/2,p=((s=(i=c.arrow)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0)+m/2;let _="",E="";return v==="bottom"?(_=d?w:`${g}px`,E=`${-m}px`):v==="top"?(_=d?w:`${g}px`,E=`${l.floating.height+m}px`):v==="right"?(_=`${-m}px`,E=d?w:`${p}px`):v==="left"&&(_=`${l.floating.width+m}px`,E=d?w:`${p}px`),{data:{x:_,y:E}}}});function zb(e){const[t,n="center"]=e.split("-");return[t,n]}const Wb=g4,Hb=v4,qb=w4,dv=f.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...o}=e;return r?uk.createPortal(f.createElement(Ce.div,z({},o,{ref:t})),r):null});function xl({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=T4({defaultProp:t,onChange:n}),s=e!==void 0,i=s?e:r,a=Gt(n),l=f.useCallback(c=>{if(s){const d=typeof c=="function"?c(e):c;d!==e&&a(d)}else o(c)},[s,e,o,a]);return[i,l]}function T4({defaultProp:e,onChange:t}){const n=f.useState(e),[r]=n,o=f.useRef(r),s=Gt(t);return f.useEffect(()=>{o.current!==r&&(s(r),o.current=r)},[r,o,s]),n}function S4(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const fv=f.forwardRef((e,t)=>f.createElement(Ce.span,z({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));var b4=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ps=new WeakMap,Wc=new WeakMap,Hc={},qh=0,Kb=function(e){return e&&(e.host||Kb(e.parentNode))},C4=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Kb(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},I4=function(e,t,n,r){var o=C4(t,Array.isArray(e)?e:[e]);Hc[n]||(Hc[n]=new WeakMap);var s=Hc[n],i=[],a=new Set,l=new Set(o),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};o.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var m=h.getAttribute(r),v=m!==null&&m!=="false",y=(Ps.get(h)||0)+1,w=(s.get(h)||0)+1;Ps.set(h,y),s.set(h,w),i.push(h),y===1&&v&&Wc.set(h,!0),w===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",h,g)}})};return u(t),a.clear(),qh++,function(){i.forEach(function(d){var h=Ps.get(d)-1,m=s.get(d)-1;Ps.set(d,h),s.set(d,m),h||(Wc.has(d)||d.removeAttribute(r),Wc.delete(d)),m||d.removeAttribute(n)}),qh--,qh||(Ps=new WeakMap,Ps=new WeakMap,Wc=new WeakMap,Hc={})}},Gb=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=b4(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),I4(r,o,n,"aria-hidden")):function(){return null}},nr=function(){return nr=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},nr.apply(this,arguments)};function Qb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function A4(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var vu="right-scroll-bar-position",_u="width-before-scroll-bar",R4="with-scroll-bars-hidden",k4="--removed-body-scroll-bar-size";function Kh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function P4(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var $4=typeof window<"u"?f.useLayoutEffect:f.useEffect,Vw=new WeakMap;function N4(e,t){var n=P4(null,function(r){return e.forEach(function(o){return Kh(o,r)})});return $4(function(){var r=Vw.get(n);if(r){var o=new Set(r),s=new Set(e),i=n.current;o.forEach(function(a){s.has(a)||Kh(a,null)}),s.forEach(function(a){o.has(a)||Kh(a,i)})}Vw.set(n,e)},[e]),n}function D4(e){return e}function O4(e,t){t===void 0&&(t=D4);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var i=t(s,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(s){for(r=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(s),i=n}var l=function(){var u=i;i=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){i.push(u),c()},filter:function(u){return i=i.filter(u),n}}}};return o}function M4(e){e===void 0&&(e={});var t=O4(null);return t.options=nr({async:!0,ssr:!1},e),t}var Zb=function(e){var t=e.sideCar,n=Qb(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,nr({},n))};Zb.isSideCarExport=!0;function V4(e,t){return e.useMedium(t),Zb}var Yb=M4(),Gh=function(){},Nf=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:Gh,onWheelCapture:Gh,onTouchMoveCapture:Gh}),o=r[0],s=r[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,h=e.sideCar,m=e.noIsolation,v=e.inert,y=e.allowPinchZoom,w=e.as,g=w===void 0?"div":w,p=Qb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),_=h,E=N4([n,t]),x=nr(nr({},p),o);return f.createElement(f.Fragment,null,u&&f.createElement(_,{sideCar:Yb,removeScrollBar:c,shards:d,noIsolation:m,inert:v,setCallbacks:s,allowPinchZoom:!!y,lockRef:n}),i?f.cloneElement(f.Children.only(a),nr(nr({},x),{ref:E})):f.createElement(g,nr({},x,{className:l,ref:E}),a))});Nf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nf.classNames={fullWidth:_u,zeroRight:vu};var L4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function F4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=L4();return t&&e.setAttribute("nonce",t),e}function j4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function U4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var B4=function(){var e=0,t=null;return{add:function(n){e==0&&(t=F4())&&(j4(t,n),U4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},z4=function(){var e=B4();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Xb=function(){var e=z4(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},W4={left:0,top:0,right:0,gap:0},Qh=function(e){return parseInt(e||"",10)||0},H4=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Qh(n),Qh(r),Qh(o)]},q4=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return W4;var t=H4(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},K4=Xb(),ui="data-scroll-locked",G4=function(e,t,n,r){var o=e.left,s=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(R4,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ui,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(_u,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(vu," .").concat(vu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(_u," .").concat(_u,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ui,`] {
    `).concat(k4,": ").concat(a,`px;
  }
`)},Lw=function(){var e=parseInt(document.body.getAttribute(ui)||"0",10);return isFinite(e)?e:0},Q4=function(){f.useEffect(function(){return document.body.setAttribute(ui,(Lw()+1).toString()),function(){var e=Lw()-1;e<=0?document.body.removeAttribute(ui):document.body.setAttribute(ui,e.toString())}},[])},Z4=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;Q4();var s=f.useMemo(function(){return q4(o)},[o]);return f.createElement(K4,{styles:G4(s,!t,o,n?"":"!important")})},Mm=!1;if(typeof window<"u")try{var qc=Object.defineProperty({},"passive",{get:function(){return Mm=!0,!0}});window.addEventListener("test",qc,qc),window.removeEventListener("test",qc,qc)}catch{Mm=!1}var $s=Mm?{passive:!1}:!1,Y4=function(e){return e.tagName==="TEXTAREA"},Jb=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Y4(e)&&n[t]==="visible")},X4=function(e){return Jb(e,"overflowY")},J4=function(e){return Jb(e,"overflowX")},Fw=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=eC(e,n);if(r){var o=tC(e,n),s=o[1],i=o[2];if(s>i)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},e9=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},t9=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},eC=function(e,t){return e==="v"?X4(t):J4(t)},tC=function(e,t){return e==="v"?e9(t):t9(t)},n9=function(e,t){return e==="h"&&t==="rtl"?-1:1},r9=function(e,t,n,r,o){var s=n9(e,window.getComputedStyle(t).direction),i=s*r,a=n.target,l=t.contains(a),c=!1,u=i>0,d=0,h=0;do{var m=tC(e,a),v=m[0],y=m[1],w=m[2],g=y-w-s*v;(v||g)&&eC(e,a)&&(d+=g,h+=v),a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&(d===0||!o)||!u&&(h===0||!o))&&(c=!0),c},Kc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},jw=function(e){return[e.deltaX,e.deltaY]},Uw=function(e){return e&&"current"in e?e.current:e},o9=function(e,t){return e[0]===t[0]&&e[1]===t[1]},s9=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},i9=0,Ns=[];function a9(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),o=f.useState(i9++)[0],s=f.useState(function(){return Xb()})[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var y=A4([e.lockRef.current],(e.shards||[]).map(Uw),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=f.useCallback(function(y,w){if("touches"in y&&y.touches.length===2)return!i.current.allowPinchZoom;var g=Kc(y),p=n.current,_="deltaX"in y?y.deltaX:p[0]-g[0],E="deltaY"in y?y.deltaY:p[1]-g[1],x,b=y.target,C=Math.abs(_)>Math.abs(E)?"h":"v";if("touches"in y&&C==="h"&&b.type==="range")return!1;var I=Fw(C,b);if(!I)return!0;if(I?x=C:(x=C==="v"?"h":"v",I=Fw(C,b)),!I)return!1;if(!r.current&&"changedTouches"in y&&(_||E)&&(r.current=x),!x)return!0;var F=r.current||x;return r9(F,w,y,F==="h"?_:E,!0)},[]),l=f.useCallback(function(y){var w=y;if(!(!Ns.length||Ns[Ns.length-1]!==s)){var g="deltaY"in w?jw(w):Kc(w),p=t.current.filter(function(x){return x.name===w.type&&x.target===w.target&&o9(x.delta,g)})[0];if(p&&p.should){w.cancelable&&w.preventDefault();return}if(!p){var _=(i.current.shards||[]).map(Uw).filter(Boolean).filter(function(x){return x.contains(w.target)}),E=_.length>0?a(w,_[0]):!i.current.noIsolation;E&&w.cancelable&&w.preventDefault()}}},[]),c=f.useCallback(function(y,w,g,p){var _={name:y,delta:w,target:g,should:p};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(E){return E!==_})},1)},[]),u=f.useCallback(function(y){n.current=Kc(y),r.current=void 0},[]),d=f.useCallback(function(y){c(y.type,jw(y),y.target,a(y,e.lockRef.current))},[]),h=f.useCallback(function(y){c(y.type,Kc(y),y.target,a(y,e.lockRef.current))},[]);f.useEffect(function(){return Ns.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,$s),document.addEventListener("touchmove",l,$s),document.addEventListener("touchstart",u,$s),function(){Ns=Ns.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,$s),document.removeEventListener("touchmove",l,$s),document.removeEventListener("touchstart",u,$s)}},[]);var m=e.removeScrollBar,v=e.inert;return f.createElement(f.Fragment,null,v?f.createElement(s,{styles:s9(o)}):null,m?f.createElement(Z4,{gapMode:"margin"}):null)}const l9=V4(Yb,a9);var hv=f.forwardRef(function(e,t){return f.createElement(Nf,nr({},e,{ref:t,sideCar:l9}))});hv.classNames=Nf.classNames;const c9=[" ","Enter","ArrowUp","ArrowDown"],u9=[" ","Enter"],Df="Select",[Of,Mf,d9]=kf(Df),[Zi,KF]=Es(Df,[d9,$f]),pv=$f(),[f9,xs]=Zi(Df),[h9,p9]=Zi(Df),m9=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:s,value:i,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:h,required:m}=e,v=pv(t),[y,w]=f.useState(null),[g,p]=f.useState(null),[_,E]=f.useState(!1),x=tv(c),[b=!1,C]=xl({prop:r,defaultProp:o,onChange:s}),[I,F]=xl({prop:i,defaultProp:a,onChange:l}),V=f.useRef(null),oe=y?!!y.closest("form"):!0,[P,G]=f.useState(new Set),N=Array.from(P).map(U=>U.props.value).join(";");return f.createElement(Wb,v,f.createElement(f9,{required:m,scope:t,trigger:y,onTriggerChange:w,valueNode:g,onValueNodeChange:p,valueNodeHasChildren:_,onValueNodeHasChildrenChange:E,contentId:ki(),value:I,onValueChange:F,open:b,onOpenChange:C,dir:x,triggerPointerDownPosRef:V,disabled:h},f.createElement(Of.Provider,{scope:t},f.createElement(h9,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(U=>{G(te=>new Set(te).add(U))},[]),onNativeOptionRemove:f.useCallback(U=>{G(te=>{const Y=new Set(te);return Y.delete(U),Y})},[])},n)),oe?f.createElement(iC,{key:N,"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:d,value:I,onChange:U=>F(U.target.value),disabled:h},I===void 0?f.createElement("option",{value:""}):null,Array.from(P)):null))},g9="SelectTrigger",y9=f.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,s=pv(n),i=xs(g9,n),a=i.disabled||r,l=je(t,i.onTriggerChange),c=Mf(n),[u,d,h]=aC(v=>{const y=c().filter(p=>!p.disabled),w=y.find(p=>p.value===i.value),g=lC(y,v,w);g!==void 0&&i.onValueChange(g.value)}),m=()=>{a||(i.onOpenChange(!0),h())};return f.createElement(Hb,z({asChild:!0},s),f.createElement(Ce.button,z({type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":sC(i.value)?"":void 0},o,{ref:l,onClick:ne(o.onClick,v=>{v.currentTarget.focus()}),onPointerDown:ne(o.onPointerDown,v=>{const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&(m(),i.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)},v.preventDefault())}),onKeyDown:ne(o.onKeyDown,v=>{const y=u.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&d(v.key),!(y&&v.key===" ")&&c9.includes(v.key)&&(m(),v.preventDefault())})})))}),v9="SelectValue",_9=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:s,placeholder:i="",...a}=e,l=xs(v9,n),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,d=je(t,l.onValueNodeChange);return Qt(()=>{c(u)},[c,u]),f.createElement(Ce.span,z({},a,{ref:d,style:{pointerEvents:"none"}}),sC(l.value)?f.createElement(f.Fragment,null,i):s)}),w9=f.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return f.createElement(Ce.span,z({"aria-hidden":!0},o,{ref:t}),r||"▼")}),E9=e=>f.createElement(dv,z({asChild:!0},e)),$i="SelectContent",x9=f.forwardRef((e,t)=>{const n=xs($i,e.__scopeSelect),[r,o]=f.useState();if(Qt(()=>{o(new DocumentFragment)},[]),!n.open){const s=r;return s?Do.createPortal(f.createElement(nC,{scope:e.__scopeSelect},f.createElement(Of.Slot,{scope:e.__scopeSelect},f.createElement("div",null,e.children))),s):null}return f.createElement(T9,z({},e,{ref:t}))}),Er=10,[nC,Ts]=Zi($i),T9=f.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:s,onPointerDownOutside:i,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:y,avoidCollisions:w,...g}=e,p=xs($i,n),[_,E]=f.useState(null),[x,b]=f.useState(null),C=je(t,re=>E(re)),[I,F]=f.useState(null),[V,oe]=f.useState(null),P=Mf(n),[G,N]=f.useState(!1),U=f.useRef(!1);f.useEffect(()=>{if(_)return Gb(_)},[_]),Ib();const te=f.useCallback(re=>{const[be,...Ie]=P().map(Pe=>Pe.ref.current),[ke]=Ie.slice(-1),Ae=document.activeElement;for(const Pe of re)if(Pe===Ae||(Pe==null||Pe.scrollIntoView({block:"nearest"}),Pe===be&&x&&(x.scrollTop=0),Pe===ke&&x&&(x.scrollTop=x.scrollHeight),Pe==null||Pe.focus(),document.activeElement!==Ae))return},[P,x]),Y=f.useCallback(()=>te([I,_]),[te,I,_]);f.useEffect(()=>{G&&Y()},[G,Y]);const{onOpenChange:D,triggerPointerDownPosRef:k}=p;f.useEffect(()=>{if(_){let re={x:0,y:0};const be=ke=>{var Ae,Pe,Pt,$t;re={x:Math.abs(Math.round(ke.pageX)-((Ae=(Pe=k.current)===null||Pe===void 0?void 0:Pe.x)!==null&&Ae!==void 0?Ae:0)),y:Math.abs(Math.round(ke.pageY)-((Pt=($t=k.current)===null||$t===void 0?void 0:$t.y)!==null&&Pt!==void 0?Pt:0))}},Ie=ke=>{re.x<=10&&re.y<=10?ke.preventDefault():_.contains(ke.target)||D(!1),document.removeEventListener("pointermove",be),k.current=null};return k.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",Ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",Ie,{capture:!0})}}},[_,D,k]),f.useEffect(()=>{const re=()=>D(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[D]);const[H,ie]=aC(re=>{const be=P().filter(Ae=>!Ae.disabled),Ie=be.find(Ae=>Ae.ref.current===document.activeElement),ke=lC(be,re,Ie);ke&&setTimeout(()=>ke.ref.current.focus())}),he=f.useCallback((re,be,Ie)=>{const ke=!U.current&&!Ie;(p.value!==void 0&&p.value===be||ke)&&(F(re),ke&&(U.current=!0))},[p.value]),Ke=f.useCallback(()=>_==null?void 0:_.focus(),[_]),Ve=f.useCallback((re,be,Ie)=>{const ke=!U.current&&!Ie;(p.value!==void 0&&p.value===be||ke)&&oe(re)},[p.value]),mt=r==="popper"?Bw:S9,$e=mt===Bw?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:y,avoidCollisions:w}:{};return f.createElement(nC,{scope:n,content:_,viewport:x,onViewportChange:b,itemRefCallback:he,selectedItem:I,onItemLeave:Ke,itemTextRefCallback:Ve,focusSelectedItem:Y,selectedItemText:V,position:r,isPositioned:G,searchRef:H},f.createElement(hv,{as:fs,allowPinchZoom:!0},f.createElement(Ab,{asChild:!0,trapped:p.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:ne(o,re=>{var be;(be=p.trigger)===null||be===void 0||be.focus({preventScroll:!0}),re.preventDefault()})},f.createElement(rv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>p.onOpenChange(!1)},f.createElement(mt,z({role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:re=>re.preventDefault()},g,$e,{onPlaced:()=>N(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:ne(g.onKeyDown,re=>{const be=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!be&&re.key.length===1&&ie(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let ke=P().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(re.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Ae=re.target,Pe=ke.indexOf(Ae);ke=ke.slice(Pe+1)}setTimeout(()=>te(ke)),re.preventDefault()}})}))))))}),S9=f.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,s=xs($i,n),i=Ts($i,n),[a,l]=f.useState(null),[c,u]=f.useState(null),d=je(t,C=>u(C)),h=Mf(n),m=f.useRef(!1),v=f.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:g,focusSelectedItem:p}=i,_=f.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&y&&w&&g){const C=s.trigger.getBoundingClientRect(),I=c.getBoundingClientRect(),F=s.valueNode.getBoundingClientRect(),V=g.getBoundingClientRect();if(s.dir!=="rtl"){const Ae=V.left-I.left,Pe=F.left-Ae,Pt=C.left-Pe,$t=C.width+Pt,Yn=Math.max($t,I.width),Lo=window.innerWidth-Er,Cs=ww(Pe,[Er,Lo-Yn]);a.style.minWidth=$t+"px",a.style.left=Cs+"px"}else{const Ae=I.right-V.right,Pe=window.innerWidth-F.right-Ae,Pt=window.innerWidth-C.right-Pe,$t=C.width+Pt,Yn=Math.max($t,I.width),Lo=window.innerWidth-Er,Cs=ww(Pe,[Er,Lo-Yn]);a.style.minWidth=$t+"px",a.style.right=Cs+"px"}const oe=h(),P=window.innerHeight-Er*2,G=y.scrollHeight,N=window.getComputedStyle(c),U=parseInt(N.borderTopWidth,10),te=parseInt(N.paddingTop,10),Y=parseInt(N.borderBottomWidth,10),D=parseInt(N.paddingBottom,10),k=U+te+G+D+Y,H=Math.min(w.offsetHeight*5,k),ie=window.getComputedStyle(y),he=parseInt(ie.paddingTop,10),Ke=parseInt(ie.paddingBottom,10),Ve=C.top+C.height/2-Er,mt=P-Ve,$e=w.offsetHeight/2,re=w.offsetTop+$e,be=U+te+re,Ie=k-be;if(be<=Ve){const Ae=w===oe[oe.length-1].ref.current;a.style.bottom="0px";const Pe=c.clientHeight-y.offsetTop-y.offsetHeight,Pt=Math.max(mt,$e+(Ae?Ke:0)+Pe+Y),$t=be+Pt;a.style.height=$t+"px"}else{const Ae=w===oe[0].ref.current;a.style.top="0px";const Pt=Math.max(Ve,U+y.offsetTop+(Ae?he:0)+$e)+Ie;a.style.height=Pt+"px",y.scrollTop=be-Ve+y.offsetTop}a.style.margin=`${Er}px 0`,a.style.minHeight=H+"px",a.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,a,c,y,w,g,s.dir,r]);Qt(()=>_(),[_]);const[E,x]=f.useState();Qt(()=>{c&&x(window.getComputedStyle(c).zIndex)},[c]);const b=f.useCallback(C=>{C&&v.current===!0&&(_(),p==null||p(),v.current=!1)},[_,p]);return f.createElement(b9,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:b},f.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E}},f.createElement(Ce.div,z({},o,{ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}}))))}),Bw=f.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=Er,...s}=e,i=pv(n);return f.createElement(qb,z({},i,s,{ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[b9,mv]=Zi($i,{}),zw="SelectViewport",C9=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Ts(zw,n),s=mv(zw,n),i=je(t,o.onViewportChange),a=f.useRef(0);return f.createElement(f.Fragment,null,f.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),f.createElement(Of.Slot,{scope:n},f.createElement(Ce.div,z({"data-radix-select-viewport":"",role:"presentation"},r,{ref:i,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:ne(r.onScroll,l=>{const c=l.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:d}=s;if(d!=null&&d.current&&u){const h=Math.abs(a.current-c.scrollTop);if(h>0){const m=window.innerHeight-Er*2,v=parseFloat(u.style.minHeight),y=parseFloat(u.style.height),w=Math.max(v,y);if(w<m){const g=w+h,p=Math.min(m,g),_=g-p;u.style.height=p+"px",u.style.bottom==="0px"&&(c.scrollTop=_>0?_:0,u.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),I9="SelectGroup",[A9,R9]=Zi(I9),k9=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=ki();return f.createElement(A9,{scope:n,id:o},f.createElement(Ce.div,z({role:"group","aria-labelledby":o},r,{ref:t})))}),P9="SelectLabel",$9=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=R9(P9,n);return f.createElement(Ce.div,z({id:o.id},r,{ref:t}))}),Vm="SelectItem",[N9,rC]=Zi(Vm),D9=f.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:s,...i}=e,a=xs(Vm,n),l=Ts(Vm,n),c=a.value===r,[u,d]=f.useState(s??""),[h,m]=f.useState(!1),v=je(t,g=>{var p;return(p=l.itemRefCallback)===null||p===void 0?void 0:p.call(l,g,r,o)}),y=ki(),w=()=>{o||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.createElement(N9,{scope:n,value:r,disabled:o,textId:y,isSelected:c,onItemTextChange:f.useCallback(g=>{d(p=>{var _;return p||((_=g==null?void 0:g.textContent)!==null&&_!==void 0?_:"").trim()})},[])},f.createElement(Of.ItemSlot,{scope:n,value:r,disabled:o,textValue:u},f.createElement(Ce.div,z({role:"option","aria-labelledby":y,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1},i,{ref:v,onFocus:ne(i.onFocus,()=>m(!0)),onBlur:ne(i.onBlur,()=>m(!1)),onPointerUp:ne(i.onPointerUp,w),onPointerMove:ne(i.onPointerMove,g=>{if(o){var p;(p=l.onItemLeave)===null||p===void 0||p.call(l)}else g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ne(i.onPointerLeave,g=>{if(g.currentTarget===document.activeElement){var p;(p=l.onItemLeave)===null||p===void 0||p.call(l)}}),onKeyDown:ne(i.onKeyDown,g=>{var p;((p=l.searchRef)===null||p===void 0?void 0:p.current)!==""&&g.key===" "||(u9.includes(g.key)&&w(),g.key===" "&&g.preventDefault())})}))))}),Gc="SelectItemText",O9=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...s}=e,i=xs(Gc,n),a=Ts(Gc,n),l=rC(Gc,n),c=p9(Gc,n),[u,d]=f.useState(null),h=je(t,g=>d(g),l.onItemTextChange,g=>{var p;return(p=a.itemTextRefCallback)===null||p===void 0?void 0:p.call(a,g,l.value,l.disabled)}),m=u==null?void 0:u.textContent,v=f.useMemo(()=>f.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},m),[l.disabled,l.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=c;return Qt(()=>(y(v),()=>w(v)),[y,w,v]),f.createElement(f.Fragment,null,f.createElement(Ce.span,z({id:l.textId},s,{ref:h})),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Do.createPortal(s.children,i.valueNode):null)}),M9="SelectItemIndicator",V9=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return rC(M9,n).isSelected?f.createElement(Ce.span,z({"aria-hidden":!0},r,{ref:t})):null}),Ww="SelectScrollUpButton",L9=f.forwardRef((e,t)=>{const n=Ts(Ww,e.__scopeSelect),r=mv(Ww,e.__scopeSelect),[o,s]=f.useState(!1),i=je(t,r.onScrollButtonChange);return Qt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=l.scrollTop>0;s(u)};var a=c;const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?f.createElement(oC,z({},e,{ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}})):null}),Hw="SelectScrollDownButton",F9=f.forwardRef((e,t)=>{const n=Ts(Hw,e.__scopeSelect),r=mv(Hw,e.__scopeSelect),[o,s]=f.useState(!1),i=je(t,r.onScrollButtonChange);return Qt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;s(d)};var a=c;const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?f.createElement(oC,z({},e,{ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}})):null}),oC=f.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,s=Ts("SelectScrollButton",n),i=f.useRef(null),a=Mf(n),l=f.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return f.useEffect(()=>()=>l(),[l]),Qt(()=>{var c;const u=a().find(d=>d.ref.current===document.activeElement);u==null||(c=u.ref.current)===null||c===void 0||c.scrollIntoView({block:"nearest"})},[a]),f.createElement(Ce.div,z({"aria-hidden":!0},o,{ref:t,style:{flexShrink:0,...o.style},onPointerDown:ne(o.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:ne(o.onPointerMove,()=>{var c;(c=s.onItemLeave)===null||c===void 0||c.call(s),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:ne(o.onPointerLeave,()=>{l()})}))}),j9=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return f.createElement(Ce.div,z({"aria-hidden":!0},r,{ref:t}))});function sC(e){return e===""||e===void 0}const iC=f.forwardRef((e,t)=>{const{value:n,...r}=e,o=f.useRef(null),s=je(t,o),i=S4(n);return f.useEffect(()=>{const a=o.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==n&&u){const d=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(d)}},[i,n]),f.createElement(fv,{asChild:!0},f.createElement("select",z({},r,{ref:s,defaultValue:n})))});iC.displayName="BubbleSelect";function aC(e){const t=Gt(e),n=f.useRef(""),r=f.useRef(0),o=f.useCallback(i=>{const a=n.current+i;t(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),s=f.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,s]}function lC(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let i=U9(e,Math.max(s,0));o.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.textValue.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function U9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const B9=m9,cC=y9,z9=_9,W9=w9,H9=E9,uC=x9,q9=C9,K9=k9,dC=$9,fC=D9,G9=O9,Q9=V9,hC=L9,pC=F9,mC=j9;/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gC=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:i,...a},l)=>f.createElement("svg",{ref:l,...Y9,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:gC("lucide",o),...a},[...i.map(([c,u])=>f.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=(e,t)=>{const n=f.forwardRef(({className:r,...o},s)=>f.createElement(X9,{ref:s,iconNode:t,className:gC(`lucide-${Z9(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=zr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=zr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=zr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=zr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=zr("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=zr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=zr("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=zr("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=zr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_C=B9,wC=K9,EC=z9,gv=f.forwardRef(({className:e,children:t,...n},r)=>S.jsxs(cC,{ref:r,className:qe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,S.jsx(W9,{asChild:!0,children:S.jsx(vC,{className:"h-4 w-4 opacity-50"})})]}));gv.displayName=cC.displayName;const xC=f.forwardRef(({className:e,...t},n)=>S.jsx(hC,{ref:n,className:qe("flex cursor-default items-center justify-center py-1",e),...t,children:S.jsx(eL,{className:"h-4 w-4"})}));xC.displayName=hC.displayName;const TC=f.forwardRef(({className:e,...t},n)=>S.jsx(pC,{ref:n,className:qe("flex cursor-default items-center justify-center py-1",e),...t,children:S.jsx(vC,{className:"h-4 w-4"})}));TC.displayName=pC.displayName;const yv=f.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>S.jsx(H9,{children:S.jsxs(uC,{ref:o,className:qe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[S.jsx(xC,{}),S.jsx(q9,{className:qe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),S.jsx(TC,{})]})}));yv.displayName=uC.displayName;const iL=f.forwardRef(({className:e,...t},n)=>S.jsx(dC,{ref:n,className:qe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));iL.displayName=dC.displayName;const Jt=f.forwardRef(({className:e,children:t,...n},r)=>S.jsxs(fC,{ref:r,className:qe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[S.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:S.jsx(Q9,{children:S.jsx(yC,{className:"h-4 w-4"})})}),S.jsx(G9,{children:t})]}));Jt.displayName=fC.displayName;const aL=f.forwardRef(({className:e,...t},n)=>S.jsx(mC,{ref:n,className:qe("-mx-1 my-1 h-px bg-muted",e),...t}));aL.displayName=mC.displayName;const SC=({selectCallback:e})=>S.jsxs(_C,{onValueChange:t=>e(t),children:[S.jsx(gv,{className:"w-full",children:S.jsx(EC,{placeholder:"Рейтинг"})}),S.jsx(yv,{children:S.jsxs(wC,{children:[S.jsx(Jt,{value:"0",children:"0 "}),S.jsx(Jt,{value:"1",children:"1 "}),S.jsx(Jt,{value:"2",children:"2"}),S.jsx(Jt,{value:"3",children:"3"}),S.jsx(Jt,{value:"4",children:"4"}),S.jsx(Jt,{value:"5",children:"5"}),S.jsx(Jt,{value:"6",children:"6"}),S.jsx(Jt,{value:"7",children:"7"}),S.jsx(Jt,{value:"8",children:"8"}),S.jsx(Jt,{value:"9",children:"9"}),S.jsx(Jt,{value:"10",children:"10"})]})})]}),bC=({defaultValue:e,stateCallback:t})=>{const n=f.useRef(null),[r,o]=f.useState(""),[s,i]=f.useState([]),[a,l]=f.useState(e||[]);f.useEffect(()=>{(async()=>{if(!r.trim()){i([]);return}const d=await iV(r),h=d.filter(m=>!a.find(v=>v.id===m.id));console.log(h,d,a,s),i([...h])})()},[r]);const c=d=>{var h;o(""),l(m=>[...m,d]),t([...a,d]),i([]),(h=n.current)==null||h.focus()},u=d=>{console.log(d,a),t(a.filter(h=>h.id!==d)),l(h=>h.filter(m=>m.id!==d))};return S.jsxs("div",{className:"flex flex-col relative w-full",children:[S.jsxs("div",{className:"w-full flex items-center flex-wrap border border-input rounded-md bg-background",children:[a.map(d=>S.jsx("span",{onClick:()=>{u(d.id)},className:"h-[30px] flex items-center m-[5px] p-[10px] rounded-md cursor-pointer bg-primary text-primary-foreground hover:bg-primary/90",children:d.name},d.id)),S.jsx(go,{ref:n,className:"w-1/2 border-transparent focus:border-transparent focus:ring-0",placeholder:"Авторы",value:r,onChange:d=>{o(d.target.value)}})]}),s.length?S.jsx("ul",{className:"max-h-[100px] overflow-y-scroll scrollbar border-b border-l border-r border-input list-none m-0",children:s.map(d=>S.jsx("li",{className:"flex items-center gap-[10px] p-5 cursor-pointer",onClick:()=>{c(d)},children:S.jsx("span",{children:d.name})},d.id))}):S.jsx(S.Fragment,{})]})},lL=e=>e.filter(t=>Number(t.publishedYear)+3<new Date().getFullYear()).sort((t,n)=>Number(n.rating)-Number(t.rating))[0],qw=e=>e.sort((t,n)=>t.title.localeCompare(n.title)),cL=(e,t)=>{const n=t==="years"||!t?uL([...e]):dL([...e]),r=[];Object.entries(n).forEach(([s,i])=>{s==="Нет информации"?r.unshift([s,qw(i)]):r.push([s,qw(i)])});const o=lL(e);return o&&r.push(["Рекомендованная книга",[o]]),r.reverse()},uL=e=>{const t={};return e.forEach(n=>{n.publishedYear?t.hasOwnProperty(n.publishedYear)?t[n.publishedYear].push(n):t[n.publishedYear]=[{...n}]:t.hasOwnProperty("Нет информации")?t["Нет информации"].push(n):t["Нет информации"]=[{...n}]}),t},dL=e=>{const t={};return e.forEach(n=>{n.authors.forEach(r=>{t.hasOwnProperty(r.name)?t[r.name].push(n):t[r.name]=[{...n}]})}),t},CC=e=>{let t=e;var n=/^(?:ISBN(?:-1[03])?:? )?(?=[0-9X]{10}$|(?=(?:[0-9]+[- ]){3})[- 0-9X]{13}$|97[89][0-9]{10}$|(?=(?:[0-9]+[- ]){4})[- 0-9]{17}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?[0-9]+[- ]?[0-9]+[- ]?[0-9X]$/;if(n.test(t)){var r=t.replace(/[- ]|^ISBN(?:-1[03])?:?/g,"").split(""),o=r.pop(),s=0,i,a;if(r.length==9){for(r.reverse(),a=0;a<r.length;a++)s+=(a+2)*parseInt(r[a],10);i=11-s%11,i==10?i="X":i==11&&(i="0")}else{for(a=0;a<r.length;a++)s+=(a%2*2+1)*parseInt(r[a],10);i=10-s%10,i==10&&(i="0")}return i==o}else return!1};var xe;(function(e){e.assertEqual=o=>o;function t(o){}e.assertIs=t;function n(o){throw new Error}e.assertNever=n,e.arrayToEnum=o=>{const s={};for(const i of o)s[i]=i;return s},e.getValidEnumValues=o=>{const s=e.objectKeys(o).filter(a=>typeof o[o[a]]!="number"),i={};for(const a of s)i[a]=o[a];return e.objectValues(i)},e.objectValues=o=>e.objectKeys(o).map(function(s){return o[s]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const s=[];for(const i in o)Object.prototype.hasOwnProperty.call(o,i)&&s.push(i);return s},e.find=(o,s)=>{for(const i of o)if(s(i))return i},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function r(o,s=" | "){return o.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(o,s)=>typeof s=="bigint"?s.toString():s})(xe||(xe={}));var Lm;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Lm||(Lm={}));const Q=xe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Xr=e=>{switch(typeof e){case"undefined":return Q.undefined;case"string":return Q.string;case"number":return isNaN(e)?Q.nan:Q.number;case"boolean":return Q.boolean;case"function":return Q.function;case"bigint":return Q.bigint;case"symbol":return Q.symbol;case"object":return Array.isArray(e)?Q.array:e===null?Q.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Q.promise:typeof Map<"u"&&e instanceof Map?Q.map:typeof Set<"u"&&e instanceof Set?Q.set:typeof Date<"u"&&e instanceof Date?Q.date:Q.object;default:return Q.unknown}},L=xe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),fL=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class vn extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(s){return s.message},r={_errors:[]},o=s=>{for(const i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(o);else if(i.code==="invalid_return_type")o(i.returnTypeError);else if(i.code==="invalid_arguments")o(i.argumentsError);else if(i.path.length===0)r._errors.push(n(i));else{let a=r,l=0;for(;l<i.path.length;){const c=i.path[l];l===i.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(i))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return o(this),r}static assert(t){if(!(t instanceof vn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,xe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}vn.create=e=>new vn(e);const Ni=(e,t)=>{let n;switch(e.code){case L.invalid_type:e.received===Q.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case L.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,xe.jsonStringifyReplacer)}`;break;case L.unrecognized_keys:n=`Unrecognized key(s) in object: ${xe.joinValues(e.keys,", ")}`;break;case L.invalid_union:n="Invalid input";break;case L.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${xe.joinValues(e.options)}`;break;case L.invalid_enum_value:n=`Invalid enum value. Expected ${xe.joinValues(e.options)}, received '${e.received}'`;break;case L.invalid_arguments:n="Invalid function arguments";break;case L.invalid_return_type:n="Invalid function return type";break;case L.invalid_date:n="Invalid date";break;case L.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:xe.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case L.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case L.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case L.custom:n="Invalid input";break;case L.invalid_intersection_types:n="Intersection results could not be merged";break;case L.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case L.not_finite:n="Number must be finite";break;default:n=t.defaultError,xe.assertNever(e)}return{message:n}};let IC=Ni;function hL(e){IC=e}function wd(){return IC}const Ed=e=>{const{data:t,path:n,errorMaps:r,issueData:o}=e,s=[...n,...o.path||[]],i={...o,path:s};if(o.message!==void 0)return{...o,path:s,message:o.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(i,{data:t,defaultError:a}).message;return{...o,path:s,message:a}},pL=[];function K(e,t){const n=wd(),r=Ed({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Ni?void 0:Ni].filter(o=>!!o)});e.common.issues.push(r)}class zt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const o of n){if(o.status==="aborted")return ue;o.status==="dirty"&&t.dirty(),r.push(o.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const o of n){const s=await o.key,i=await o.value;r.push({key:s,value:i})}return zt.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const o of n){const{key:s,value:i}=o;if(s.status==="aborted"||i.status==="aborted")return ue;s.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||o.alwaysSet)&&(r[s.value]=i.value)}return{status:t.value,value:r}}}const ue=Object.freeze({status:"aborted"}),Xs=e=>({status:"dirty",value:e}),Zt=e=>({status:"valid",value:e}),Fm=e=>e.status==="aborted",jm=e=>e.status==="dirty",Tl=e=>e.status==="valid",Sl=e=>typeof Promise<"u"&&e instanceof Promise;function xd(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function AC(e,t,n,r,o){if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var se;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(se||(se={}));var Ea,xa;class pr{constructor(t,n,r,o){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Kw=(e,t)=>{if(Tl(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new vn(e.common.issues);return this._error=n,this._error}}};function ge(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:o}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(i,a)=>{var l,c;const{message:u}=e;return i.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??r)!==null&&l!==void 0?l:a.defaultError}:i.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??n)!==null&&c!==void 0?c:a.defaultError}},description:o}}class ve{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Xr(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Xr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new zt,ctx:{common:t.parent.common,data:t.data,parsedType:Xr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Sl(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const o={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Xr(t)},s=this._parseSync({data:t,path:o.path,parent:o});return Kw(o,s)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Xr(t)},o=this._parse({data:t,path:r.path,parent:r}),s=await(Sl(o)?o:Promise.resolve(o));return Kw(r,s)}refine(t,n){const r=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,s)=>{const i=t(o),a=()=>s.addIssue({code:L.custom,...r(o)});return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(a(),!1)):i?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,o)=>t(r)?!0:(o.addIssue(typeof n=="function"?n(r,o):n),!1))}_refinement(t){return new Zn({schema:this,typeName:ce.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return ur.create(this,this._def)}nullable(){return ko.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Wn.create(this,this._def)}promise(){return Oi.create(this,this._def)}or(t){return Al.create([this,t],this._def)}and(t){return Rl.create(this,t,this._def)}transform(t){return new Zn({...ge(this._def),schema:this,typeName:ce.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Dl({...ge(this._def),innerType:this,defaultValue:n,typeName:ce.ZodDefault})}brand(){return new vv({typeName:ce.ZodBranded,type:this,...ge(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Ol({...ge(this._def),innerType:this,catchValue:n,typeName:ce.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return dc.create(this,t)}readonly(){return Ml.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const mL=/^c[^\s-]{8,}$/i,gL=/^[0-9a-z]+$/,yL=/^[0-9A-HJKMNP-TV-Z]{26}$/,vL=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_L=/^[a-z0-9_-]{21}$/i,wL=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,EL=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,xL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Zh;const TL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,SL=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,bL=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,RC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",CL=new RegExp(`^${RC}$`);function kC(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function IL(e){return new RegExp(`^${kC(e)}$`)}function PC(e){let t=`${RC}T${kC(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function AL(e,t){return!!((t==="v4"||!t)&&TL.test(e)||(t==="v6"||!t)&&SL.test(e))}class jn extends ve{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Q.string){const s=this._getOrReturnCtx(t);return K(s,{code:L.invalid_type,expected:Q.string,received:s.parsedType}),ue}const r=new zt;let o;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(o=this._getOrReturnCtx(t,o),K(o,{code:L.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")t.data.length>s.value&&(o=this._getOrReturnCtx(t,o),K(o,{code:L.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const i=t.data.length>s.value,a=t.data.length<s.value;(i||a)&&(o=this._getOrReturnCtx(t,o),i?K(o,{code:L.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&K(o,{code:L.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")EL.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"email",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Zh||(Zh=new RegExp(xL,"u")),Zh.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"emoji",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")vL.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"uuid",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")_L.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"nanoid",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")mL.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"cuid",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")gL.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"cuid2",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")yL.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"ulid",code:L.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),K(o,{validation:"url",code:L.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"regex",code:L.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(o=this._getOrReturnCtx(t,o),K(o,{code:L.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(o=this._getOrReturnCtx(t,o),K(o,{code:L.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(o=this._getOrReturnCtx(t,o),K(o,{code:L.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?PC(s).test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{code:L.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?CL.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{code:L.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?IL(s).test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{code:L.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?wL.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"duration",code:L.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?AL(t.data,s.version)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"ip",code:L.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?bL.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"base64",code:L.invalid_string,message:s.message}),r.dirty()):xe.assertNever(s);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(o=>t.test(o),{validation:n,code:L.invalid_string,...se.errToObj(r)})}_addCheck(t){return new jn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...se.errToObj(t)})}url(t){return this._addCheck({kind:"url",...se.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...se.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...se.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...se.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...se.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...se.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...se.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...se.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...se.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...se.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...se.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...se.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...se.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...se.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...se.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...se.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...se.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...se.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...se.errToObj(n)})}nonempty(t){return this.min(1,se.errToObj(t))}trim(){return new jn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new jn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new jn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}jn.create=e=>{var t;return new jn({checks:[],typeName:ce.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ge(e)})};function RL(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,o=n>r?n:r,s=parseInt(e.toFixed(o).replace(".","")),i=parseInt(t.toFixed(o).replace(".",""));return s%i/Math.pow(10,o)}class Io extends ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Q.number){const s=this._getOrReturnCtx(t);return K(s,{code:L.invalid_type,expected:Q.number,received:s.parsedType}),ue}let r;const o=new zt;for(const s of this._def.checks)s.kind==="int"?xe.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),K(r,{code:L.invalid_type,expected:"integer",received:"float",message:s.message}),o.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),K(r,{code:L.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),K(r,{code:L.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="multipleOf"?RL(t.data,s.value)!==0&&(r=this._getOrReturnCtx(t,r),K(r,{code:L.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),K(r,{code:L.not_finite,message:s.message}),o.dirty()):xe.assertNever(s);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,se.toString(n))}gt(t,n){return this.setLimit("min",t,!1,se.toString(n))}lte(t,n){return this.setLimit("max",t,!0,se.toString(n))}lt(t,n){return this.setLimit("max",t,!1,se.toString(n))}setLimit(t,n,r,o){return new Io({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:se.toString(o)}]})}_addCheck(t){return new Io({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:se.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:se.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:se.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:se.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:se.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:se.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&xe.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Io.create=e=>new Io({checks:[],typeName:ce.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ge(e)});class Ao extends ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==Q.bigint){const s=this._getOrReturnCtx(t);return K(s,{code:L.invalid_type,expected:Q.bigint,received:s.parsedType}),ue}let r;const o=new zt;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),K(r,{code:L.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),K(r,{code:L.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),K(r,{code:L.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):xe.assertNever(s);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,se.toString(n))}gt(t,n){return this.setLimit("min",t,!1,se.toString(n))}lte(t,n){return this.setLimit("max",t,!0,se.toString(n))}lt(t,n){return this.setLimit("max",t,!1,se.toString(n))}setLimit(t,n,r,o){return new Ao({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:se.toString(o)}]})}_addCheck(t){return new Ao({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:se.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:se.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ao.create=e=>{var t;return new Ao({checks:[],typeName:ce.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ge(e)})};class bl extends ve{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Q.boolean){const r=this._getOrReturnCtx(t);return K(r,{code:L.invalid_type,expected:Q.boolean,received:r.parsedType}),ue}return Zt(t.data)}}bl.create=e=>new bl({typeName:ce.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ge(e)});class ps extends ve{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Q.date){const s=this._getOrReturnCtx(t);return K(s,{code:L.invalid_type,expected:Q.date,received:s.parsedType}),ue}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return K(s,{code:L.invalid_date}),ue}const r=new zt;let o;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(o=this._getOrReturnCtx(t,o),K(o,{code:L.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(o=this._getOrReturnCtx(t,o),K(o,{code:L.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):xe.assertNever(s);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ps({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:se.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:se.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}ps.create=e=>new ps({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ce.ZodDate,...ge(e)});class Td extends ve{_parse(t){if(this._getType(t)!==Q.symbol){const r=this._getOrReturnCtx(t);return K(r,{code:L.invalid_type,expected:Q.symbol,received:r.parsedType}),ue}return Zt(t.data)}}Td.create=e=>new Td({typeName:ce.ZodSymbol,...ge(e)});class Cl extends ve{_parse(t){if(this._getType(t)!==Q.undefined){const r=this._getOrReturnCtx(t);return K(r,{code:L.invalid_type,expected:Q.undefined,received:r.parsedType}),ue}return Zt(t.data)}}Cl.create=e=>new Cl({typeName:ce.ZodUndefined,...ge(e)});class Il extends ve{_parse(t){if(this._getType(t)!==Q.null){const r=this._getOrReturnCtx(t);return K(r,{code:L.invalid_type,expected:Q.null,received:r.parsedType}),ue}return Zt(t.data)}}Il.create=e=>new Il({typeName:ce.ZodNull,...ge(e)});class Di extends ve{constructor(){super(...arguments),this._any=!0}_parse(t){return Zt(t.data)}}Di.create=e=>new Di({typeName:ce.ZodAny,...ge(e)});class es extends ve{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Zt(t.data)}}es.create=e=>new es({typeName:ce.ZodUnknown,...ge(e)});class jr extends ve{_parse(t){const n=this._getOrReturnCtx(t);return K(n,{code:L.invalid_type,expected:Q.never,received:n.parsedType}),ue}}jr.create=e=>new jr({typeName:ce.ZodNever,...ge(e)});class Sd extends ve{_parse(t){if(this._getType(t)!==Q.undefined){const r=this._getOrReturnCtx(t);return K(r,{code:L.invalid_type,expected:Q.void,received:r.parsedType}),ue}return Zt(t.data)}}Sd.create=e=>new Sd({typeName:ce.ZodVoid,...ge(e)});class Wn extends ve{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),o=this._def;if(n.parsedType!==Q.array)return K(n,{code:L.invalid_type,expected:Q.array,received:n.parsedType}),ue;if(o.exactLength!==null){const i=n.data.length>o.exactLength.value,a=n.data.length<o.exactLength.value;(i||a)&&(K(n,{code:i?L.too_big:L.too_small,minimum:a?o.exactLength.value:void 0,maximum:i?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(K(n,{code:L.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(K(n,{code:L.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((i,a)=>o.type._parseAsync(new pr(n,i,n.path,a)))).then(i=>zt.mergeArray(r,i));const s=[...n.data].map((i,a)=>o.type._parseSync(new pr(n,i,n.path,a)));return zt.mergeArray(r,s)}get element(){return this._def.type}min(t,n){return new Wn({...this._def,minLength:{value:t,message:se.toString(n)}})}max(t,n){return new Wn({...this._def,maxLength:{value:t,message:se.toString(n)}})}length(t,n){return new Wn({...this._def,exactLength:{value:t,message:se.toString(n)}})}nonempty(t){return this.min(1,t)}}Wn.create=(e,t)=>new Wn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ce.ZodArray,...ge(t)});function Vs(e){if(e instanceof Ze){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=ur.create(Vs(r))}return new Ze({...e._def,shape:()=>t})}else return e instanceof Wn?new Wn({...e._def,type:Vs(e.element)}):e instanceof ur?ur.create(Vs(e.unwrap())):e instanceof ko?ko.create(Vs(e.unwrap())):e instanceof mr?mr.create(e.items.map(t=>Vs(t))):e}class Ze extends ve{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=xe.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Q.object){const c=this._getOrReturnCtx(t);return K(c,{code:L.invalid_type,expected:Q.object,received:c.parsedType}),ue}const{status:r,ctx:o}=this._processInputParams(t),{shape:s,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof jr&&this._def.unknownKeys==="strip"))for(const c in o.data)i.includes(c)||a.push(c);const l=[];for(const c of i){const u=s[c],d=o.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new pr(o,d,o.path,c)),alwaysSet:c in o.data})}if(this._def.catchall instanceof jr){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:o.data[u]}});else if(c==="strict")a.length>0&&(K(o,{code:L.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=o.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new pr(o,d,o.path,u)),alwaysSet:u in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,h=await u.value;c.push({key:d,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>zt.mergeObjectSync(r,c)):zt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return se.errToObj,new Ze({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var o,s,i,a;const l=(i=(s=(o=this._def).errorMap)===null||s===void 0?void 0:s.call(o,n,r).message)!==null&&i!==void 0?i:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=se.errToObj(t).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Ze({...this._def,unknownKeys:"strip"})}passthrough(){return new Ze({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ze({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ze({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ce.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Ze({...this._def,catchall:t})}pick(t){const n={};return xe.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ze({...this._def,shape:()=>n})}omit(t){const n={};return xe.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new Ze({...this._def,shape:()=>n})}deepPartial(){return Vs(this)}partial(t){const n={};return xe.objectKeys(this.shape).forEach(r=>{const o=this.shape[r];t&&!t[r]?n[r]=o:n[r]=o.optional()}),new Ze({...this._def,shape:()=>n})}required(t){const n={};return xe.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof ur;)s=s._def.innerType;n[r]=s}}),new Ze({...this._def,shape:()=>n})}keyof(){return $C(xe.objectKeys(this.shape))}}Ze.create=(e,t)=>new Ze({shape:()=>e,unknownKeys:"strip",catchall:jr.create(),typeName:ce.ZodObject,...ge(t)});Ze.strictCreate=(e,t)=>new Ze({shape:()=>e,unknownKeys:"strict",catchall:jr.create(),typeName:ce.ZodObject,...ge(t)});Ze.lazycreate=(e,t)=>new Ze({shape:e,unknownKeys:"strip",catchall:jr.create(),typeName:ce.ZodObject,...ge(t)});class Al extends ve{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function o(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const i=s.map(a=>new vn(a.ctx.common.issues));return K(n,{code:L.invalid_union,unionErrors:i}),ue}if(n.common.async)return Promise.all(r.map(async s=>{const i={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(o);{let s;const i=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&i.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=i.map(l=>new vn(l));return K(n,{code:L.invalid_union,unionErrors:a}),ue}}get options(){return this._def.options}}Al.create=(e,t)=>new Al({options:e,typeName:ce.ZodUnion,...ge(t)});const _r=e=>e instanceof Pl?_r(e.schema):e instanceof Zn?_r(e.innerType()):e instanceof $l?[e.value]:e instanceof Ro?e.options:e instanceof Nl?xe.objectValues(e.enum):e instanceof Dl?_r(e._def.innerType):e instanceof Cl?[void 0]:e instanceof Il?[null]:e instanceof ur?[void 0,..._r(e.unwrap())]:e instanceof ko?[null,..._r(e.unwrap())]:e instanceof vv||e instanceof Ml?_r(e.unwrap()):e instanceof Ol?_r(e._def.innerType):[];class Vf extends ve{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Q.object)return K(n,{code:L.invalid_type,expected:Q.object,received:n.parsedType}),ue;const r=this.discriminator,o=n.data[r],s=this.optionsMap.get(o);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(K(n,{code:L.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ue)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const o=new Map;for(const s of n){const i=_r(s.shape[t]);if(!i.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of i){if(o.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);o.set(a,s)}}return new Vf({typeName:ce.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:o,...ge(r)})}}function Um(e,t){const n=Xr(e),r=Xr(t);if(e===t)return{valid:!0,data:e};if(n===Q.object&&r===Q.object){const o=xe.objectKeys(t),s=xe.objectKeys(e).filter(a=>o.indexOf(a)!==-1),i={...e,...t};for(const a of s){const l=Um(e[a],t[a]);if(!l.valid)return{valid:!1};i[a]=l.data}return{valid:!0,data:i}}else if(n===Q.array&&r===Q.array){if(e.length!==t.length)return{valid:!1};const o=[];for(let s=0;s<e.length;s++){const i=e[s],a=t[s],l=Um(i,a);if(!l.valid)return{valid:!1};o.push(l.data)}return{valid:!0,data:o}}else return n===Q.date&&r===Q.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Rl extends ve{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),o=(s,i)=>{if(Fm(s)||Fm(i))return ue;const a=Um(s.value,i.value);return a.valid?((jm(s)||jm(i))&&n.dirty(),{status:n.value,value:a.data}):(K(r,{code:L.invalid_intersection_types}),ue)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,i])=>o(s,i)):o(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Rl.create=(e,t,n)=>new Rl({left:e,right:t,typeName:ce.ZodIntersection,...ge(n)});class mr extends ve{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Q.array)return K(r,{code:L.invalid_type,expected:Q.array,received:r.parsedType}),ue;if(r.data.length<this._def.items.length)return K(r,{code:L.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ue;!this._def.rest&&r.data.length>this._def.items.length&&(K(r,{code:L.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((i,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new pr(r,i,r.path,a)):null}).filter(i=>!!i);return r.common.async?Promise.all(s).then(i=>zt.mergeArray(n,i)):zt.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new mr({...this._def,rest:t})}}mr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new mr({items:e,typeName:ce.ZodTuple,rest:null,...ge(t)})};class kl extends ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Q.object)return K(r,{code:L.invalid_type,expected:Q.object,received:r.parsedType}),ue;const o=[],s=this._def.keyType,i=this._def.valueType;for(const a in r.data)o.push({key:s._parse(new pr(r,a,r.path,a)),value:i._parse(new pr(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?zt.mergeObjectAsync(n,o):zt.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof ve?new kl({keyType:t,valueType:n,typeName:ce.ZodRecord,...ge(r)}):new kl({keyType:jn.create(),valueType:t,typeName:ce.ZodRecord,...ge(n)})}}class bd extends ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Q.map)return K(r,{code:L.invalid_type,expected:Q.map,received:r.parsedType}),ue;const o=this._def.keyType,s=this._def.valueType,i=[...r.data.entries()].map(([a,l],c)=>({key:o._parse(new pr(r,a,r.path,[c,"key"])),value:s._parse(new pr(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of i){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return ue;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of i){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return ue;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}bd.create=(e,t,n)=>new bd({valueType:t,keyType:e,typeName:ce.ZodMap,...ge(n)});class ms extends ve{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Q.set)return K(r,{code:L.invalid_type,expected:Q.set,received:r.parsedType}),ue;const o=this._def;o.minSize!==null&&r.data.size<o.minSize.value&&(K(r,{code:L.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&r.data.size>o.maxSize.value&&(K(r,{code:L.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const s=this._def.valueType;function i(l){const c=new Set;for(const u of l){if(u.status==="aborted")return ue;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new pr(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>i(l)):i(a)}min(t,n){return new ms({...this._def,minSize:{value:t,message:se.toString(n)}})}max(t,n){return new ms({...this._def,maxSize:{value:t,message:se.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}ms.create=(e,t)=>new ms({valueType:e,minSize:null,maxSize:null,typeName:ce.ZodSet,...ge(t)});class di extends ve{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Q.function)return K(n,{code:L.invalid_type,expected:Q.function,received:n.parsedType}),ue;function r(a,l){return Ed({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,wd(),Ni].filter(c=>!!c),issueData:{code:L.invalid_arguments,argumentsError:l}})}function o(a,l){return Ed({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,wd(),Ni].filter(c=>!!c),issueData:{code:L.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},i=n.data;if(this._def.returns instanceof Oi){const a=this;return Zt(async function(...l){const c=new vn([]),u=await a._def.args.parseAsync(l,s).catch(m=>{throw c.addIssue(r(l,m)),c}),d=await Reflect.apply(i,this,u);return await a._def.returns._def.type.parseAsync(d,s).catch(m=>{throw c.addIssue(o(d,m)),c})})}else{const a=this;return Zt(function(...l){const c=a._def.args.safeParse(l,s);if(!c.success)throw new vn([r(l,c.error)]);const u=Reflect.apply(i,this,c.data),d=a._def.returns.safeParse(u,s);if(!d.success)throw new vn([o(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new di({...this._def,args:mr.create(t).rest(es.create())})}returns(t){return new di({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new di({args:t||mr.create([]).rest(es.create()),returns:n||es.create(),typeName:ce.ZodFunction,...ge(r)})}}class Pl extends ve{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Pl.create=(e,t)=>new Pl({getter:e,typeName:ce.ZodLazy,...ge(t)});class $l extends ve{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return K(n,{received:n.data,code:L.invalid_literal,expected:this._def.value}),ue}return{status:"valid",value:t.data}}get value(){return this._def.value}}$l.create=(e,t)=>new $l({value:e,typeName:ce.ZodLiteral,...ge(t)});function $C(e,t){return new Ro({values:e,typeName:ce.ZodEnum,...ge(t)})}class Ro extends ve{constructor(){super(...arguments),Ea.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return K(n,{expected:xe.joinValues(r),received:n.parsedType,code:L.invalid_type}),ue}if(xd(this,Ea)||AC(this,Ea,new Set(this._def.values)),!xd(this,Ea).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return K(n,{received:n.data,code:L.invalid_enum_value,options:r}),ue}return Zt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Ro.create(t,{...this._def,...n})}exclude(t,n=this._def){return Ro.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Ea=new WeakMap;Ro.create=$C;class Nl extends ve{constructor(){super(...arguments),xa.set(this,void 0)}_parse(t){const n=xe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Q.string&&r.parsedType!==Q.number){const o=xe.objectValues(n);return K(r,{expected:xe.joinValues(o),received:r.parsedType,code:L.invalid_type}),ue}if(xd(this,xa)||AC(this,xa,new Set(xe.getValidEnumValues(this._def.values))),!xd(this,xa).has(t.data)){const o=xe.objectValues(n);return K(r,{received:r.data,code:L.invalid_enum_value,options:o}),ue}return Zt(t.data)}get enum(){return this._def.values}}xa=new WeakMap;Nl.create=(e,t)=>new Nl({values:e,typeName:ce.ZodNativeEnum,...ge(t)});class Oi extends ve{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Q.promise&&n.common.async===!1)return K(n,{code:L.invalid_type,expected:Q.promise,received:n.parsedType}),ue;const r=n.parsedType===Q.promise?n.data:Promise.resolve(n.data);return Zt(r.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Oi.create=(e,t)=>new Oi({type:e,typeName:ce.ZodPromise,...ge(t)});class Zn extends ve{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ce.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),o=this._def.effect||null,s={addIssue:i=>{K(r,i),i.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),o.type==="preprocess"){const i=o.transform(r.data,s);if(r.common.async)return Promise.resolve(i).then(async a=>{if(n.value==="aborted")return ue;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?ue:l.status==="dirty"||n.value==="dirty"?Xs(l.value):l});{if(n.value==="aborted")return ue;const a=this._def.schema._parseSync({data:i,path:r.path,parent:r});return a.status==="aborted"?ue:a.status==="dirty"||n.value==="dirty"?Xs(a.value):a}}if(o.type==="refinement"){const i=a=>{const l=o.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ue:(a.status==="dirty"&&n.dirty(),i(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?ue:(a.status==="dirty"&&n.dirty(),i(a.value).then(()=>({status:n.value,value:a.value}))))}if(o.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Tl(i))return i;const a=o.transform(i.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>Tl(i)?Promise.resolve(o.transform(i.value,s)).then(a=>({status:n.value,value:a})):i);xe.assertNever(o)}}Zn.create=(e,t,n)=>new Zn({schema:e,typeName:ce.ZodEffects,effect:t,...ge(n)});Zn.createWithPreprocess=(e,t,n)=>new Zn({schema:t,effect:{type:"preprocess",transform:e},typeName:ce.ZodEffects,...ge(n)});class ur extends ve{_parse(t){return this._getType(t)===Q.undefined?Zt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ur.create=(e,t)=>new ur({innerType:e,typeName:ce.ZodOptional,...ge(t)});class ko extends ve{_parse(t){return this._getType(t)===Q.null?Zt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ko.create=(e,t)=>new ko({innerType:e,typeName:ce.ZodNullable,...ge(t)});class Dl extends ve{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Q.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Dl.create=(e,t)=>new Dl({innerType:e,typeName:ce.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ge(t)});class Ol extends ve{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Sl(o)?o.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new vn(r.common.issues)},input:r.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new vn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ol.create=(e,t)=>new Ol({innerType:e,typeName:ce.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ge(t)});class Cd extends ve{_parse(t){if(this._getType(t)!==Q.nan){const r=this._getOrReturnCtx(t);return K(r,{code:L.invalid_type,expected:Q.nan,received:r.parsedType}),ue}return{status:"valid",value:t.data}}}Cd.create=e=>new Cd({typeName:ce.ZodNaN,...ge(e)});const kL=Symbol("zod_brand");class vv extends ve{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class dc extends ve{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ue:s.status==="dirty"?(n.dirty(),Xs(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const o=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?ue:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:r.path,parent:r})}}static create(t,n){return new dc({in:t,out:n,typeName:ce.ZodPipeline})}}class Ml extends ve{_parse(t){const n=this._def.innerType._parse(t),r=o=>(Tl(o)&&(o.value=Object.freeze(o.value)),o);return Sl(n)?n.then(o=>r(o)):r(n)}unwrap(){return this._def.innerType}}Ml.create=(e,t)=>new Ml({innerType:e,typeName:ce.ZodReadonly,...ge(t)});function NC(e,t={},n){return e?Di.create().superRefine((r,o)=>{var s,i;if(!e(r)){const a=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,l=(i=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&i!==void 0?i:!0,c=typeof a=="string"?{message:a}:a;o.addIssue({code:"custom",...c,fatal:l})}}):Di.create()}const PL={object:Ze.lazycreate};var ce;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ce||(ce={}));const $L=(e,t={message:`Input not instance of ${e.name}`})=>NC(n=>n instanceof e,t),DC=jn.create,OC=Io.create,NL=Cd.create,DL=Ao.create,MC=bl.create,OL=ps.create,ML=Td.create,VL=Cl.create,LL=Il.create,FL=Di.create,jL=es.create,UL=jr.create,BL=Sd.create,zL=Wn.create,WL=Ze.create,HL=Ze.strictCreate,qL=Al.create,KL=Vf.create,GL=Rl.create,QL=mr.create,ZL=kl.create,YL=bd.create,XL=ms.create,JL=di.create,e6=Pl.create,t6=$l.create,n6=Ro.create,r6=Nl.create,o6=Oi.create,Gw=Zn.create,s6=ur.create,i6=ko.create,a6=Zn.createWithPreprocess,l6=dc.create,c6=()=>DC().optional(),u6=()=>OC().optional(),d6=()=>MC().optional(),f6={string:e=>jn.create({...e,coerce:!0}),number:e=>Io.create({...e,coerce:!0}),boolean:e=>bl.create({...e,coerce:!0}),bigint:e=>Ao.create({...e,coerce:!0}),date:e=>ps.create({...e,coerce:!0})},h6=ue;var it=Object.freeze({__proto__:null,defaultErrorMap:Ni,setErrorMap:hL,getErrorMap:wd,makeIssue:Ed,EMPTY_PATH:pL,addIssueToContext:K,ParseStatus:zt,INVALID:ue,DIRTY:Xs,OK:Zt,isAborted:Fm,isDirty:jm,isValid:Tl,isAsync:Sl,get util(){return xe},get objectUtil(){return Lm},ZodParsedType:Q,getParsedType:Xr,ZodType:ve,datetimeRegex:PC,ZodString:jn,ZodNumber:Io,ZodBigInt:Ao,ZodBoolean:bl,ZodDate:ps,ZodSymbol:Td,ZodUndefined:Cl,ZodNull:Il,ZodAny:Di,ZodUnknown:es,ZodNever:jr,ZodVoid:Sd,ZodArray:Wn,ZodObject:Ze,ZodUnion:Al,ZodDiscriminatedUnion:Vf,ZodIntersection:Rl,ZodTuple:mr,ZodRecord:kl,ZodMap:bd,ZodSet:ms,ZodFunction:di,ZodLazy:Pl,ZodLiteral:$l,ZodEnum:Ro,ZodNativeEnum:Nl,ZodPromise:Oi,ZodEffects:Zn,ZodTransformer:Zn,ZodOptional:ur,ZodNullable:ko,ZodDefault:Dl,ZodCatch:Ol,ZodNaN:Cd,BRAND:kL,ZodBranded:vv,ZodPipeline:dc,ZodReadonly:Ml,custom:NC,Schema:ve,ZodSchema:ve,late:PL,get ZodFirstPartyTypeKind(){return ce},coerce:f6,any:FL,array:zL,bigint:DL,boolean:MC,date:OL,discriminatedUnion:KL,effect:Gw,enum:n6,function:JL,instanceof:$L,intersection:GL,lazy:e6,literal:t6,map:YL,nan:NL,nativeEnum:r6,never:UL,null:LL,nullable:i6,number:OC,object:WL,oboolean:d6,onumber:u6,optional:s6,ostring:c6,pipeline:l6,preprocess:a6,promise:o6,record:ZL,set:XL,strictObject:HL,string:DC,symbol:ML,transformer:Gw,tuple:QL,undefined:VL,union:qL,unknown:jL,void:BL,NEVER:h6,ZodIssueCode:L,quotelessJson:fL,ZodError:vn});const VC=it.object({id:it.string(),name:it.string()}),p6=it.object({title:it.string().min(1,"Название обязательно").max(100,"Название не может быть больше 100 символов"),authors:it.array(VC).nonempty({message:"Книга должна содержать хотя бы одного автора"}),publishedYear:it.coerce.number({message:"Число не валидное"}).min(1800,"Книга не может быть выпущена раньше 1800 года").optional().or(it.literal("")),rating:it.number().min(0,"Рейтинг не может быть ниже 0").max(10,"Рейтинг не может быть выше 10"),ISBN:it.string().refine(e=>CC(e),{message:"ISBN не валидный"}).optional().or(it.literal(""))}),m6=it.object({id:it.string(),title:it.string().min(1,"Название обязательно").max(100,"Название не может быть больше 100 символов"),authors:it.array(VC).nonempty({message:"Книга должна содержать хотя бы одного автора"}),publishedYear:it.coerce.number({message:"Число не валидное"}).min(1800,"Книга не может быть выпущена раньше 1800 года").optional().or(it.literal("")),rating:it.number().min(0,"Рейтинг не может быть ниже 0").max(10,"Рейтинг не может быть выше 10"),ISBN:it.string().refine(e=>CC(e),{message:"ISBN не валидный"}).optional().or(it.literal(""))});var Qw=function(e,t,n){if(e&&"reportValidity"in e){var r=X(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},LC=function(e,t){var n=function(o){var s=t.fields[o];s&&s.ref&&"reportValidity"in s.ref?Qw(s.ref,o,e):s.refs&&s.refs.forEach(function(i){return Qw(i,o,e)})};for(var r in t.fields)n(r)},g6=function(e,t){t.shouldUseNativeValidation&&LC(e,t);var n={};for(var r in e){var o=X(t.fields,r),s=Object.assign(e[r]||{},{ref:o&&o.ref});if(y6(t.names||Object.keys(e),r)){var i=Object.assign({},X(n,r));Me(i,"root",s),Me(n,r,i)}else Me(n,r,s)}return n},y6=function(e,t){return e.some(function(n){return n.startsWith(t+".")})},v6=function(e,t){for(var n={};e.length;){var r=e[0],o=r.code,s=r.message,i=r.path.join(".");if(!n[i])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[i]={message:a.message,type:a.code}}else n[i]={message:s,type:o};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return e.push(d)})}),t){var l=n[i].types,c=l&&l[r.code];n[i]=px(i,t,n,o,c?[].concat(c,r.message):r.message)}e.shift()}return n},FC=function(e,t,n){return n===void 0&&(n={}),function(r,o,s){try{return Promise.resolve(function(i,a){try{var l=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(c){return s.shouldUseNativeValidation&&LC({},s),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(i){if(function(a){return a.errors!=null}(i))return{values:{},errors:g6(v6(i.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw i}))}catch(i){return Promise.reject(i)}}};const _6=()=>{const{toast:e}=Rf(),t=Wd(),[n,r]=f.useState(!1),{setValue:o,register:s,handleSubmit:i,formState:{errors:a}}=Ex({resolver:FC(p6),defaultValues:{title:"",authors:[],publishedYear:"",rating:0,ISBN:void 0}}),l=async c=>{console.log(c),r(!0),await t(gb(c)).then(()=>e({title:"Успешно",description:"Книга была добавлена"})).catch(()=>e({variant:"destructive",title:"Ошибка!",description:"Что-то пошло не так!"})).finally(()=>r(!1))};return S.jsxs("form",{onSubmit:i(l),className:"flex flex-col space-y-[15px] max-w-[700px] w-full",children:[S.jsx(go,{placeholder:"Название",disabled:n,...s("title"),type:"text"}),a.title&&S.jsx("span",{className:"text-red-500 text-start m-[5px]",children:a.title.message}),S.jsx(go,{placeholder:"Год публикации",disabled:n,type:"text",...s("publishedYear")}),a.publishedYear&&S.jsx("span",{className:"text-red-500 text-start m-[5px]",children:a.publishedYear.message}),S.jsx(SC,{selectCallback:c=>{o("rating",Number(c))}}),a.rating&&S.jsx("span",{className:"text-red-500 text-start m-[5px]",children:a.rating.message}),S.jsx(go,{placeholder:"ISBN",disabled:n,type:"text",...s("ISBN")}),a.ISBN&&S.jsx("span",{className:"text-red-500 text-start m-[5px]",children:a.ISBN.message}),S.jsx("div",{className:"min-h-[50px] w-full",children:S.jsx(bC,{stateCallback:c=>{o("authors",c)}})}),a.authors&&S.jsx("span",{className:"text-red-500 text-start m-[5px]",children:a.authors.message}),S.jsx(Ri,{disabled:n,className:"w-full",children:"Создать"})]})};function w6(e,t){return f.useReducer((n,r)=>{const o=t[n][r];return o??n},e)}const Yi=e=>{const{present:t,children:n}=e,r=E6(t),o=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),s=je(r.ref,o.ref);return typeof n=="function"||r.isPresent?f.cloneElement(o,{ref:s}):null};Yi.displayName="Presence";function E6(e){const[t,n]=f.useState(),r=f.useRef({}),o=f.useRef(e),s=f.useRef("none"),i=e?"mounted":"unmounted",[a,l]=w6(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const c=Qc(r.current);s.current=a==="mounted"?c:"none"},[a]),Qt(()=>{const c=r.current,u=o.current;if(u!==e){const h=s.current,m=Qc(c);e?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==m?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),Qt(()=>{if(t){const c=d=>{const m=Qc(r.current).includes(d.animationName);d.target===t&&m&&Do.flushSync(()=>l("ANIMATION_END"))},u=d=>{d.target===t&&(s.current=Qc(r.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Qc(e){return(e==null?void 0:e.animationName)||"none"}const Yh="rovingFocusGroup.onEntryFocus",x6={bubbles:!1,cancelable:!0},_v="RovingFocusGroup",[Bm,jC,T6]=kf(_v),[S6,UC]=Es(_v,[T6]),[b6,C6]=S6(_v),I6=f.forwardRef((e,t)=>f.createElement(Bm.Provider,{scope:e.__scopeRovingFocusGroup},f.createElement(Bm.Slot,{scope:e.__scopeRovingFocusGroup},f.createElement(A6,z({},e,{ref:t}))))),A6=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,...u}=e,d=f.useRef(null),h=je(t,d),m=tv(s),[v=null,y]=xl({prop:i,defaultProp:a,onChange:l}),[w,g]=f.useState(!1),p=Gt(c),_=jC(n),E=f.useRef(!1),[x,b]=f.useState(0);return f.useEffect(()=>{const C=d.current;if(C)return C.addEventListener(Yh,p),()=>C.removeEventListener(Yh,p)},[p]),f.createElement(b6,{scope:n,orientation:r,dir:m,loop:o,currentTabStopId:v,onItemFocus:f.useCallback(C=>y(C),[y]),onItemShiftTab:f.useCallback(()=>g(!0),[]),onFocusableItemAdd:f.useCallback(()=>b(C=>C+1),[]),onFocusableItemRemove:f.useCallback(()=>b(C=>C-1),[])},f.createElement(Ce.div,z({tabIndex:w||x===0?-1:0,"data-orientation":r},u,{ref:h,style:{outline:"none",...e.style},onMouseDown:ne(e.onMouseDown,()=>{E.current=!0}),onFocus:ne(e.onFocus,C=>{const I=!E.current;if(C.target===C.currentTarget&&I&&!w){const F=new CustomEvent(Yh,x6);if(C.currentTarget.dispatchEvent(F),!F.defaultPrevented){const V=_().filter(U=>U.focusable),oe=V.find(U=>U.active),P=V.find(U=>U.id===v),N=[oe,P,...V].filter(Boolean).map(U=>U.ref.current);BC(N)}}E.current=!1}),onBlur:ne(e.onBlur,()=>g(!1))})))}),R6="RovingFocusGroupItem",k6=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,...i}=e,a=ki(),l=s||a,c=C6(R6,n),u=c.currentTabStopId===l,d=jC(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=c;return f.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),f.createElement(Bm.ItemSlot,{scope:n,id:l,focusable:r,active:o},f.createElement(Ce.span,z({tabIndex:u?0:-1,"data-orientation":c.orientation},i,{ref:t,onMouseDown:ne(e.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:ne(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:ne(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=N6(v,c.orientation,c.dir);if(y!==void 0){v.preventDefault();let g=d().filter(p=>p.focusable).map(p=>p.ref.current);if(y==="last")g.reverse();else if(y==="prev"||y==="next"){y==="prev"&&g.reverse();const p=g.indexOf(v.currentTarget);g=c.loop?D6(g,p+1):g.slice(p+1)}setTimeout(()=>BC(g))}})})))}),P6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function N6(e,t,n){const r=$6(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return P6[r]}function BC(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function D6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const O6=I6,M6=k6,zm=["Enter"," "],V6=["ArrowDown","PageUp","Home"],zC=["ArrowUp","PageDown","End"],L6=[...V6,...zC],F6={ltr:[...zm,"ArrowRight"],rtl:[...zm,"ArrowLeft"]},j6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Lf="Menu",[Vl,U6,B6]=kf(Lf),[Ss,WC]=Es(Lf,[B6,$f,UC]),wv=$f(),HC=UC(),[z6,bs]=Ss(Lf),[W6,fc]=Ss(Lf),H6=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:s,modal:i=!0}=e,a=wv(t),[l,c]=f.useState(null),u=f.useRef(!1),d=Gt(s),h=tv(o);return f.useEffect(()=>{const m=()=>{u.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>u.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),f.createElement(Wb,a,f.createElement(z6,{scope:t,open:n,onOpenChange:d,content:l,onContentChange:c},f.createElement(W6,{scope:t,onClose:f.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:h,modal:i},r)))},qC=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=wv(n);return f.createElement(Hb,z({},o,r,{ref:t}))}),KC="MenuPortal",[q6,GC]=Ss(KC,{forceMount:void 0}),K6=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,s=bs(KC,t);return f.createElement(q6,{scope:t,forceMount:n},f.createElement(Yi,{present:n||s.open},f.createElement(dv,{asChild:!0,container:o},r)))},Hn="MenuContent",[G6,Ev]=Ss(Hn),Q6=f.forwardRef((e,t)=>{const n=GC(Hn,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=bs(Hn,e.__scopeMenu),i=fc(Hn,e.__scopeMenu);return f.createElement(Vl.Provider,{scope:e.__scopeMenu},f.createElement(Yi,{present:r||s.open},f.createElement(Vl.Slot,{scope:e.__scopeMenu},i.modal?f.createElement(Z6,z({},o,{ref:t})):f.createElement(Y6,z({},o,{ref:t})))))}),Z6=f.forwardRef((e,t)=>{const n=bs(Hn,e.__scopeMenu),r=f.useRef(null),o=je(t,r);return f.useEffect(()=>{const s=r.current;if(s)return Gb(s)},[]),f.createElement(xv,z({},e,{ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ne(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),Y6=f.forwardRef((e,t)=>{const n=bs(Hn,e.__scopeMenu);return f.createElement(xv,z({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),xv=f.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:m,disableOutsideScroll:v,...y}=e,w=bs(Hn,n),g=fc(Hn,n),p=wv(n),_=HC(n),E=U6(n),[x,b]=f.useState(null),C=f.useRef(null),I=je(t,C,w.onContentChange),F=f.useRef(0),V=f.useRef(""),oe=f.useRef(0),P=f.useRef(null),G=f.useRef("right"),N=f.useRef(0),U=v?hv:f.Fragment,te=v?{as:fs,allowPinchZoom:!0}:void 0,Y=k=>{var H,ie;const he=V.current+k,Ke=E().filter(Ie=>!Ie.disabled),Ve=document.activeElement,mt=(H=Ke.find(Ie=>Ie.ref.current===Ve))===null||H===void 0?void 0:H.textValue,$e=Ke.map(Ie=>Ie.textValue),re=h5($e,he,mt),be=(ie=Ke.find(Ie=>Ie.textValue===re))===null||ie===void 0?void 0:ie.ref.current;(function Ie(ke){V.current=ke,window.clearTimeout(F.current),ke!==""&&(F.current=window.setTimeout(()=>Ie(""),1e3))})(he),be&&setTimeout(()=>be.focus())};f.useEffect(()=>()=>window.clearTimeout(F.current),[]),Ib();const D=f.useCallback(k=>{var H,ie;return G.current===((H=P.current)===null||H===void 0?void 0:H.side)&&m5(k,(ie=P.current)===null||ie===void 0?void 0:ie.area)},[]);return f.createElement(G6,{scope:n,searchRef:V,onItemEnter:f.useCallback(k=>{D(k)&&k.preventDefault()},[D]),onItemLeave:f.useCallback(k=>{var H;D(k)||((H=C.current)===null||H===void 0||H.focus(),b(null))},[D]),onTriggerLeave:f.useCallback(k=>{D(k)&&k.preventDefault()},[D]),pointerGraceTimerRef:oe,onPointerGraceIntentChange:f.useCallback(k=>{P.current=k},[])},f.createElement(U,te,f.createElement(Ab,{asChild:!0,trapped:o,onMountAutoFocus:ne(s,k=>{var H;k.preventDefault(),(H=C.current)===null||H===void 0||H.focus()}),onUnmountAutoFocus:i},f.createElement(rv,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:m},f.createElement(O6,z({asChild:!0},_,{dir:g.dir,orientation:"vertical",loop:r,currentTabStopId:x,onCurrentTabStopIdChange:b,onEntryFocus:ne(l,k=>{g.isUsingKeyboardRef.current||k.preventDefault()})}),f.createElement(qb,z({role:"menu","aria-orientation":"vertical","data-state":JC(w.open),"data-radix-menu-content":"",dir:g.dir},p,y,{ref:I,style:{outline:"none",...y.style},onKeyDown:ne(y.onKeyDown,k=>{const ie=k.target.closest("[data-radix-menu-content]")===k.currentTarget,he=k.ctrlKey||k.altKey||k.metaKey,Ke=k.key.length===1;ie&&(k.key==="Tab"&&k.preventDefault(),!he&&Ke&&Y(k.key));const Ve=C.current;if(k.target!==Ve||!L6.includes(k.key))return;k.preventDefault();const $e=E().filter(re=>!re.disabled).map(re=>re.ref.current);zC.includes(k.key)&&$e.reverse(),d5($e)}),onBlur:ne(e.onBlur,k=>{k.currentTarget.contains(k.target)||(window.clearTimeout(F.current),V.current="")}),onPointerMove:ne(e.onPointerMove,Ll(k=>{const H=k.target,ie=N.current!==k.clientX;if(k.currentTarget.contains(H)&&ie){const he=k.clientX>N.current?"right":"left";G.current=he,N.current=k.clientX}}))})))))))}),X6=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return f.createElement(Ce.div,z({},r,{ref:t}))}),Wm="MenuItem",Zw="menu.itemSelect",Tv=f.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,s=f.useRef(null),i=fc(Wm,e.__scopeMenu),a=Ev(Wm,e.__scopeMenu),l=je(t,s),c=f.useRef(!1),u=()=>{const d=s.current;if(!n&&d){const h=new CustomEvent(Zw,{bubbles:!0,cancelable:!0});d.addEventListener(Zw,m=>r==null?void 0:r(m),{once:!0}),nv(d,h),h.defaultPrevented?c.current=!1:i.onClose()}};return f.createElement(QC,z({},o,{ref:l,disabled:n,onClick:ne(e.onClick,u),onPointerDown:d=>{var h;(h=e.onPointerDown)===null||h===void 0||h.call(e,d),c.current=!0},onPointerUp:ne(e.onPointerUp,d=>{var h;c.current||(h=d.currentTarget)===null||h===void 0||h.click()}),onKeyDown:ne(e.onKeyDown,d=>{const h=a.searchRef.current!=="";n||h&&d.key===" "||zm.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})}))}),QC=f.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...s}=e,i=Ev(Wm,n),a=HC(n),l=f.useRef(null),c=je(t,l),[u,d]=f.useState(!1),[h,m]=f.useState("");return f.useEffect(()=>{const v=l.current;if(v){var y;m(((y=v.textContent)!==null&&y!==void 0?y:"").trim())}},[s.children]),f.createElement(Vl.ItemSlot,{scope:n,disabled:r,textValue:o??h},f.createElement(M6,z({asChild:!0},a,{focusable:!r}),f.createElement(Ce.div,z({role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},s,{ref:c,onPointerMove:ne(e.onPointerMove,Ll(v=>{r?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus())})),onPointerLeave:ne(e.onPointerLeave,Ll(v=>i.onItemLeave(v))),onFocus:ne(e.onFocus,()=>d(!0)),onBlur:ne(e.onBlur,()=>d(!1))}))))}),J6=f.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return f.createElement(YC,{scope:e.__scopeMenu,checked:n},f.createElement(Tv,z({role:"menuitemcheckbox","aria-checked":Id(n)?"mixed":n},o,{ref:t,"data-state":Sv(n),onSelect:ne(o.onSelect,()=>r==null?void 0:r(Id(n)?!0:!n),{checkForDefaultPrevented:!1})})))}),e5="MenuRadioGroup",[GF,t5]=Ss(e5,{value:void 0,onValueChange:()=>{}}),n5="MenuRadioItem",r5=f.forwardRef((e,t)=>{const{value:n,...r}=e,o=t5(n5,e.__scopeMenu),s=n===o.value;return f.createElement(YC,{scope:e.__scopeMenu,checked:s},f.createElement(Tv,z({role:"menuitemradio","aria-checked":s},r,{ref:t,"data-state":Sv(s),onSelect:ne(r.onSelect,()=>{var i;return(i=o.onValueChange)===null||i===void 0?void 0:i.call(o,n)},{checkForDefaultPrevented:!1})})))}),ZC="MenuItemIndicator",[YC,o5]=Ss(ZC,{checked:!1}),s5=f.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,s=o5(ZC,n);return f.createElement(Yi,{present:r||Id(s.checked)||s.checked===!0},f.createElement(Ce.span,z({},o,{ref:t,"data-state":Sv(s.checked)})))}),i5=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return f.createElement(Ce.div,z({role:"separator","aria-orientation":"horizontal"},r,{ref:t}))}),a5="MenuSub",[QF,XC]=Ss(a5),Zc="MenuSubTrigger",l5=f.forwardRef((e,t)=>{const n=bs(Zc,e.__scopeMenu),r=fc(Zc,e.__scopeMenu),o=XC(Zc,e.__scopeMenu),s=Ev(Zc,e.__scopeMenu),i=f.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:e.__scopeMenu},u=f.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return f.useEffect(()=>u,[u]),f.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),f.createElement(qC,z({asChild:!0},c),f.createElement(QC,z({id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":JC(n.open)},e,{ref:Af(t,o.onTriggerChange),onClick:d=>{var h;(h=e.onClick)===null||h===void 0||h.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ne(e.onPointerMove,Ll(d=>{s.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:ne(e.onPointerLeave,Ll(d=>{var h;u();const m=(h=n.content)===null||h===void 0?void 0:h.getBoundingClientRect();if(m){var v;const y=(v=n.content)===null||v===void 0?void 0:v.dataset.side,w=y==="right",g=w?-5:5,p=m[w?"left":"right"],_=m[w?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+g,y:d.clientY},{x:p,y:m.top},{x:_,y:m.top},{x:_,y:m.bottom},{x:p,y:m.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ne(e.onKeyDown,d=>{const h=s.searchRef.current!=="";if(!(e.disabled||h&&d.key===" ")&&F6[r.dir].includes(d.key)){var m;n.onOpenChange(!0),(m=n.content)===null||m===void 0||m.focus(),d.preventDefault()}})})))}),c5="MenuSubContent",u5=f.forwardRef((e,t)=>{const n=GC(Hn,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=bs(Hn,e.__scopeMenu),i=fc(Hn,e.__scopeMenu),a=XC(c5,e.__scopeMenu),l=f.useRef(null),c=je(t,l);return f.createElement(Vl.Provider,{scope:e.__scopeMenu},f.createElement(Yi,{present:r||s.open},f.createElement(Vl.Slot,{scope:e.__scopeMenu},f.createElement(xv,z({id:a.contentId,"aria-labelledby":a.triggerId},o,{ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;i.isUsingKeyboardRef.current&&((d=l.current)===null||d===void 0||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ne(e.onFocusOutside,u=>{u.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ne(e.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:ne(e.onKeyDown,u=>{const d=u.currentTarget.contains(u.target),h=j6[i.dir].includes(u.key);if(d&&h){var m;s.onOpenChange(!1),(m=a.trigger)===null||m===void 0||m.focus(),u.preventDefault()}})})))))});function JC(e){return e?"open":"closed"}function Id(e){return e==="indeterminate"}function Sv(e){return Id(e)?"indeterminate":e?"checked":"unchecked"}function d5(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function f5(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function h5(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let i=f5(e,Math.max(s,0));o.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function p5(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s].x,l=t[s].y,c=t[i].x,u=t[i].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(o=!o)}return o}function m5(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return p5(n,t)}function Ll(e){return t=>t.pointerType==="mouse"?e(t):void 0}const g5=H6,y5=qC,v5=K6,_5=Q6,w5=X6,E5=Tv,x5=J6,T5=r5,S5=s5,b5=i5,C5=l5,I5=u5,eI="DropdownMenu",[A5,ZF]=Es(eI,[WC]),Nn=WC(),[R5,tI]=A5(eI),k5=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=Nn(t),c=f.useRef(null),[u=!1,d]=xl({prop:o,defaultProp:s,onChange:i});return f.createElement(R5,{scope:t,triggerId:ki(),triggerRef:c,contentId:ki(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),modal:a},f.createElement(g5,z({},l,{open:u,onOpenChange:d,dir:r,modal:a}),n))},P5="DropdownMenuTrigger",$5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,s=tI(P5,n),i=Nn(n);return f.createElement(y5,z({asChild:!0},i),f.createElement(Ce.button,z({type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},o,{ref:Af(t,s.triggerRef),onPointerDown:ne(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:ne(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})))}),N5=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Nn(t);return f.createElement(v5,z({},r,n))},D5="DropdownMenuContent",O5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=tI(D5,n),s=Nn(n),i=f.useRef(!1);return f.createElement(_5,z({id:o.contentId,"aria-labelledby":o.triggerId},s,r,{ref:t,onCloseAutoFocus:ne(e.onCloseAutoFocus,a=>{var l;i.current||(l=o.triggerRef.current)===null||l===void 0||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:ne(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!o.modal||u)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),M5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Nn(n);return f.createElement(w5,z({},o,r,{ref:t}))}),V5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Nn(n);return f.createElement(E5,z({},o,r,{ref:t}))}),L5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Nn(n);return f.createElement(x5,z({},o,r,{ref:t}))}),F5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Nn(n);return f.createElement(T5,z({},o,r,{ref:t}))}),j5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Nn(n);return f.createElement(S5,z({},o,r,{ref:t}))}),U5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Nn(n);return f.createElement(b5,z({},o,r,{ref:t}))}),B5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Nn(n);return f.createElement(C5,z({},o,r,{ref:t}))}),z5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Nn(n);return f.createElement(I5,z({},o,r,{ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),W5=k5,H5=$5,q5=N5,nI=O5,rI=M5,oI=V5,sI=L5,iI=F5,aI=j5,lI=U5,cI=B5,uI=z5,dI=W5,fI=H5,K5=f.forwardRef(({className:e,inset:t,children:n,...r},o)=>S.jsxs(cI,{ref:o,className:qe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,S.jsx(J9,{className:"ml-auto h-4 w-4"})]}));K5.displayName=cI.displayName;const G5=f.forwardRef(({className:e,...t},n)=>S.jsx(uI,{ref:n,className:qe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));G5.displayName=uI.displayName;const bv=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>S.jsx(q5,{children:S.jsx(nI,{ref:r,sideOffset:t,className:qe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));bv.displayName=nI.displayName;const fi=f.forwardRef(({className:e,inset:t,...n},r)=>S.jsx(oI,{ref:r,className:qe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));fi.displayName=oI.displayName;const Q5=f.forwardRef(({className:e,children:t,checked:n,...r},o)=>S.jsxs(sI,{ref:o,className:qe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[S.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:S.jsx(aI,{children:S.jsx(yC,{className:"h-4 w-4"})})}),t]}));Q5.displayName=sI.displayName;const Z5=f.forwardRef(({className:e,children:t,...n},r)=>S.jsxs(iI,{ref:r,className:qe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[S.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:S.jsx(aI,{children:S.jsx(tL,{className:"h-2 w-2 fill-current"})})}),t]}));Z5.displayName=iI.displayName;const Y5=f.forwardRef(({className:e,inset:t,...n},r)=>S.jsx(rI,{ref:r,className:qe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Y5.displayName=rI.displayName;const X5=f.forwardRef(({className:e,...t},n)=>S.jsx(lI,{ref:n,className:qe("-mx-1 my-1 h-px bg-muted",e),...t}));X5.displayName=lI.displayName;const J5={theme:"system",setTheme:()=>null},hI=f.createContext(J5);function eF({children:e,defaultTheme:t="system",storageKey:n="vite-ui-theme",...r}){const[o,s]=f.useState(()=>localStorage.getItem(n)||t);f.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),o==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(o)},[o]);const i={theme:o,setTheme:a=>{localStorage.setItem(n,a),s(a)}};return S.jsx(hI.Provider,{...r,value:i,children:e})}const tF=()=>{const e=f.useContext(hI);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},nF=()=>{const{setTheme:e}=tF();return S.jsxs(dI,{children:[S.jsx(fI,{asChild:!0,children:S.jsxs(Ri,{variant:"outline",size:"icon",children:[S.jsx(oL,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),S.jsx(rL,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),S.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),S.jsxs(bv,{align:"end",children:[S.jsx(fi,{onClick:()=>e("light"),children:"Light"}),S.jsx(fi,{onClick:()=>e("dark"),children:"Dark"}),S.jsx(fi,{onClick:()=>e("system"),children:"System"})]})]})},rF=()=>S.jsxs("header",{className:"w-full flex justify-between items-center p-[10px] border-b",children:[S.jsx("h1",{children:"BookStore"}),S.jsx(nF,{})]});function vr({className:e,...t}){return S.jsx("div",{className:qe("animate-pulse rounded-md bg-muted",e),...t})}const oF=()=>S.jsxs("div",{className:"flex flex-col justify-start",children:[S.jsxs("div",{className:"flex flex-col space-y-[30px] mt-[30px]",children:[S.jsx(vr,{className:"w-full h-[20px] "}),S.jsxs("div",{className:"flex flex-row items-center justify-start flex-wrap",children:[S.jsx(vr,{className:"w-[400px] h-[250px] m-[5px]"}),S.jsx(vr,{className:"w-[400px] h-[250px] m-[5px]"})]})]}),S.jsxs("div",{className:"flex flex-col space-y-[30px] mt-[30px]",children:[S.jsx(vr,{className:"w-full h-[20px] "}),S.jsxs("div",{className:"flex flex-row items-center justify-start flex-wrap",children:[S.jsx(vr,{className:"w-[400px] h-[250px] m-[5px]"}),S.jsx(vr,{className:"w-[400px] h-[250px] m-[5px]"})]})]}),S.jsxs("div",{className:"flex flex-col space-y-[30px] mt-[30px]",children:[S.jsx(vr,{className:"w-full h-[20px]"}),S.jsxs("div",{className:"flex flex-row items-center justify-start flex-wrap",children:[S.jsx(vr,{className:"w-[400px] h-[250px] m-[5px]"}),S.jsx(vr,{className:"w-[400px] h-[250px] m-[5px]"})]})]})]}),sF=({callback:e})=>S.jsxs(dI,{children:[S.jsx(fI,{asChild:!0,children:S.jsx(Ri,{variant:"outline",children:S.jsx(nL,{})})}),S.jsxs(bv,{className:"w-56",children:[S.jsx(fi,{onClick:()=>{e("delete")},children:"Удалить"}),S.jsx(fi,{onClick:()=>{e("edit")},children:"Изменить"})]})]}),iF="data:image/svg+xml,%3c?xml%20version='1.0'%20?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2048%2048'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%234b6ea4;}.cls-2{fill:%23445f96;}.cls-3{fill:%23a09b8c;}.cls-4{fill:%23f1f2f2;}.cls-5{fill:%234c5665;}%3c/style%3e%3c/defs%3e%3ctitle/%3e%3cg%20id='Book'%3e%3crect%20class='cls-1'%20height='48'%20rx='2'%20ry='2'%20width='34'%20x='8'/%3e%3cpath%20class='cls-2'%20d='M10,0h2a0,0,0,0,1,0,0V48a0,0,0,0,1,0,0H10a2,2,0,0,1-2-2V2A2,2,0,0,1,10,0Z'/%3e%3cpath%20class='cls-3'%20d='M40,44H10a2,2,0,0,0,0,4H40a2,2,0,0,0,2-2V42A2.006,2.006,0,0,1,40,44Z'/%3e%3cpath%20class='cls-4'%20d='M40,44H10a2,2,0,0,0,0,4H40a2,2,0,0,0,2-2V42A2.006,2.006,0,0,1,40,44Z'/%3e%3cpath%20class='cls-5'%20d='M42,44v2a2.006,2.006,0,0,1-2,2H10a2,2,0,0,1-1.73-3A2,2,0,0,0,10,46H40A2.006,2.006,0,0,0,42,44Z'/%3e%3crect%20class='cls-2'%20height='10'%20rx='1'%20ry='1'%20width='19'%20x='17'%20y='6'/%3e%3c/g%3e%3c/svg%3e",aF=({props:e,callback:t})=>{const{toast:n}=Rf(),r=Wd(),o=async s=>{s==="edit"?t():await r(mb(e.id)).then(()=>n({title:"Успешно",description:"Книга была удалена!"})).catch(()=>n({variant:"destructive",title:"Ошибка!",description:"Что-то пошло не так!"}))};return S.jsxs("div",{id:"book",className:"relative w-[400px] flex flex-row border bg-secondary rounded-md p-[10px]",children:[S.jsx("img",{src:iF,alt:"",width:"159px",height:"226px",className:"object-cover w-[159px] h-[226px]"}),S.jsxs("div",{className:"flex flex-col justify-between pl-5 pr-12",children:[S.jsx("div",{className:"absolute top-0 right-0",children:S.jsx(sF,{callback:s=>o(s)})}),S.jsxs("h4",{children:[e.title.slice(0,22),"..."]}),S.jsxs("p",{children:["Авторы: ",e.authors.map(s=>s.name).join(",").slice(0,20)]}),S.jsxs("p",{children:["Рейтинг: ",e.rating?e.rating:0]}),S.jsxs("p",{children:["Год издания: ",e.publishedYear?e.publishedYear:"Неизвестно"]})]})]})},lF=({props:e,callback:t})=>{const n=Wd(),{toast:r}=Rf(),[o,s]=f.useState(!1),{setValue:i,register:a,handleSubmit:l,formState:{errors:c}}=Ex({resolver:FC(m6),defaultValues:{id:e.id,title:e.title,authors:e.authors,publishedYear:e.publishedYear!=="Нет информации"?Number(e.publishedYear):"",rating:e.rating?e.rating:0,ISBN:e.ISBN?e.ISBN:void 0}}),u=async d=>{s(!0),await n(pb({book:d,id:d.id})).then(()=>{r({title:"Успешно",description:"Книга была изменена"}),t()}).catch(()=>r({variant:"destructive",title:"Ошибка!",description:"Что-то пошло не так!"})).finally(()=>s(!1))};return S.jsxs("form",{onSubmit:l(u),className:"flex flex-col space-y-[15px] w-[400px] rounded-md p-[10px] bg-secondary border",children:[S.jsx(go,{...a("title"),placeholder:"Название",disabled:o,type:"text"}),c.title&&S.jsx("span",{className:"text-red-500 text-start m-[5px]",children:c.title.message}),S.jsx(go,{...a("publishedYear"),placeholder:"Год публикации",disabled:o,type:"text"}),c.publishedYear&&S.jsx("span",{className:"text-red-500 text-start m-[5px]",children:c.publishedYear.message}),S.jsx(SC,{selectCallback:d=>{i("rating",Number(d))}}),c.rating&&S.jsx("span",{className:"text-red-500 text-start m-[5px]",children:c.rating.message}),S.jsx(go,{...a("ISBN"),placeholder:"ISBN",disabled:o,type:"text"}),c.ISBN&&S.jsx("span",{className:"text-red-500 text-start m-[5px]",children:c.ISBN.message}),S.jsx("div",{className:"min-h-[50px] w-full",children:S.jsx(bC,{defaultValue:e.authors,stateCallback:d=>{i("authors",d)}})}),c.authors&&S.jsx("span",{className:"text-red-500 text-start m-[5px]",children:c.authors.message}),S.jsx(Ri,{disabled:o,className:"w-full",children:"Изменить"}),S.jsx(Ri,{variant:"destructive",type:"button",onClick:t,className:"w-full",children:"Отмена"})]})},cF=({props:e})=>{const[t,n]=f.useState(!1);return S.jsx(S.Fragment,{children:t?S.jsx(lF,{props:e,callback:()=>{n(!t)}}):S.jsx(aF,{props:e,callback:()=>{n(!t)}})})},uF=({props:e})=>S.jsx("div",{className:"flex flex-col justify-start",children:e==null?void 0:e.map(([t,n])=>S.jsxs("div",{id:"category",className:"flex flex-col space-y-[30px] mt-[30px]",children:[S.jsx("h2",{children:Number(t)?`${t} год`:t}),S.jsx("div",{className:"flex flex-row items-center justify-start flex-wrap",children:n.map(r=>S.jsx("div",{className:"m-[5px]",children:S.jsx(cF,{props:r})},r.id))})]},t))}),dF=({selectCallback:e})=>S.jsxs(_C,{onValueChange:t=>e(t),children:[S.jsx(gv,{className:"w-full",children:S.jsx(EC,{placeholder:"Сортировать по"})}),S.jsx(yv,{children:S.jsxs(wC,{children:[S.jsx(Jt,{value:"authors",children:"По авторам"}),S.jsx(Jt,{value:"years",children:"По годам"})]})})]}),fF=({props:e})=>{const[t,n]=f.useState("years"),[r,o]=f.useState();return f.useEffect(()=>{(async()=>o(cL(e,t)))()},[e,t]),S.jsx(S.Fragment,{children:r&&S.jsxs(S.Fragment,{children:[S.jsx(dF,{selectCallback:s=>n(s)}),S.jsx(uF,{props:r})]})})},hF=()=>{const e=Wd(),t=eP(o=>o.booksStore.books),[n,r]=f.useState(!1);return f.useEffect(()=>{(async()=>{r(!0),await e(hb("")).then(s=>console.log(s)).catch(s=>console.log(s)).finally(()=>r(!1))})()},[]),S.jsxs("div",{className:"mx-auto w-full p-[5px] max-w-[1280px]",children:[S.jsx(rF,{}),S.jsxs("div",{className:"mt-10 w-full space-y-[15px] flex flex-col items-center ",children:[S.jsx("h2",{children:"Добавить книгу:"}),S.jsx(_6,{})]}),S.jsx("div",{className:"mt-10",children:n?S.jsx(oF,{}):S.jsx(fF,{props:t})})]})},pF=LP({reducer:{booksStore:hV}}),pI="ToastProvider",[Cv,mF,gF]=kf("Toast"),[mI,YF]=Es("Toast",[gF]),[yF,Ff]=mI(pI),gI=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:s=50,children:i}=e,[a,l]=f.useState(null),[c,u]=f.useState(0),d=f.useRef(!1),h=f.useRef(!1);return f.createElement(Cv.Provider,{scope:t},f.createElement(yF,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:f.useCallback(()=>u(m=>m+1),[]),onToastRemove:f.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h},i))};gI.propTypes={label(e){if(e.label&&typeof e.label=="string"&&!e.label.trim()){const t=`Invalid prop \`label\` supplied to \`${pI}\`. Expected non-empty \`string\`.`;return new Error(t)}return null}};const vF="ToastViewport",_F=["F8"],Hm="toast.viewportPause",qm="toast.viewportResume",wF=f.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=_F,label:o="Notifications ({hotkey})",...s}=e,i=Ff(vF,n),a=mF(n),l=f.useRef(null),c=f.useRef(null),u=f.useRef(null),d=f.useRef(null),h=je(t,d,i.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;f.useEffect(()=>{const w=g=>{var p;r.every(E=>g[E]||g.code===E)&&((p=d.current)===null||p===void 0||p.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),f.useEffect(()=>{const w=l.current,g=d.current;if(v&&w&&g){const p=()=>{if(!i.isClosePausedRef.current){const b=new CustomEvent(Hm);g.dispatchEvent(b),i.isClosePausedRef.current=!0}},_=()=>{if(i.isClosePausedRef.current){const b=new CustomEvent(qm);g.dispatchEvent(b),i.isClosePausedRef.current=!1}},E=b=>{!w.contains(b.relatedTarget)&&_()},x=()=>{w.contains(document.activeElement)||_()};return w.addEventListener("focusin",p),w.addEventListener("focusout",E),w.addEventListener("pointermove",p),w.addEventListener("pointerleave",x),window.addEventListener("blur",p),window.addEventListener("focus",_),()=>{w.removeEventListener("focusin",p),w.removeEventListener("focusout",E),w.removeEventListener("pointermove",p),w.removeEventListener("pointerleave",x),window.removeEventListener("blur",p),window.removeEventListener("focus",_)}}},[v,i.isClosePausedRef]);const y=f.useCallback(({tabbingDirection:w})=>{const p=a().map(_=>{const E=_.ref.current,x=[E,...MF(E)];return w==="forwards"?x:x.reverse()});return(w==="forwards"?p.reverse():p).flat()},[a]);return f.useEffect(()=>{const w=d.current;if(w){const g=p=>{const _=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!_){const I=document.activeElement,F=p.shiftKey;if(p.target===w&&F){var x;(x=c.current)===null||x===void 0||x.focus();return}const P=y({tabbingDirection:F?"backwards":"forwards"}),G=P.findIndex(N=>N===I);if(Xh(P.slice(G+1)))p.preventDefault();else{var b,C;F?(b=c.current)===null||b===void 0||b.focus():(C=u.current)===null||C===void 0||C.focus()}}};return w.addEventListener("keydown",g),()=>w.removeEventListener("keydown",g)}},[a,y]),f.createElement(p3,{ref:l,role:"region","aria-label":o.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"}},v&&f.createElement(Yw,{ref:c,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});Xh(w)}}),f.createElement(Cv.Slot,{scope:n},f.createElement(Ce.ol,z({tabIndex:-1},s,{ref:h}))),v&&f.createElement(Yw,{ref:u,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});Xh(w)}}))}),EF="ToastFocusProxy",Yw=f.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,s=Ff(EF,n);return f.createElement(fv,z({"aria-hidden":!0,tabIndex:0},o,{ref:t,style:{position:"fixed"},onFocus:i=>{var a;const l=i.relatedTarget;!((a=s.viewport)!==null&&a!==void 0&&a.contains(l))&&r()}}))}),jf="Toast",xF="toast.swipeStart",TF="toast.swipeMove",SF="toast.swipeCancel",bF="toast.swipeEnd",CF=f.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:s,...i}=e,[a=!0,l]=xl({prop:r,defaultProp:o,onChange:s});return f.createElement(Yi,{present:n||a},f.createElement(yI,z({open:a},i,{ref:t,onClose:()=>l(!1),onPause:Gt(e.onPause),onResume:Gt(e.onResume),onSwipeStart:ne(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ne(e.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:ne(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ne(e.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})))}),[IF,AF]=mI(jf,{onClose(){}}),yI=f.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:s,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:m,...v}=e,y=Ff(jf,n),[w,g]=f.useState(null),p=je(t,N=>g(N)),_=f.useRef(null),E=f.useRef(null),x=o||y.duration,b=f.useRef(0),C=f.useRef(x),I=f.useRef(0),{onToastAdd:F,onToastRemove:V}=y,oe=Gt(()=>{var N;(w==null?void 0:w.contains(document.activeElement))&&((N=y.viewport)===null||N===void 0||N.focus()),i()}),P=f.useCallback(N=>{!N||N===1/0||(window.clearTimeout(I.current),b.current=new Date().getTime(),I.current=window.setTimeout(oe,N))},[oe]);f.useEffect(()=>{const N=y.viewport;if(N){const U=()=>{P(C.current),c==null||c()},te=()=>{const Y=new Date().getTime()-b.current;C.current=C.current-Y,window.clearTimeout(I.current),l==null||l()};return N.addEventListener(Hm,te),N.addEventListener(qm,U),()=>{N.removeEventListener(Hm,te),N.removeEventListener(qm,U)}}},[y.viewport,x,l,c,P]),f.useEffect(()=>{s&&!y.isClosePausedRef.current&&P(x)},[s,x,y.isClosePausedRef,P]),f.useEffect(()=>(F(),()=>V()),[F,V]);const G=f.useMemo(()=>w?EI(w):null,[w]);return y.viewport?f.createElement(f.Fragment,null,G&&f.createElement(RF,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0},G),f.createElement(IF,{scope:n,onClose:oe},Do.createPortal(f.createElement(Cv.ItemSlot,{scope:n},f.createElement(h3,{asChild:!0,onEscapeKeyDown:ne(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||oe(),y.isFocusedToastEscapeKeyDownRef.current=!1})},f.createElement(Ce.li,z({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection},v,{ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ne(e.onKeyDown,N=>{N.key==="Escape"&&(a==null||a(N.nativeEvent),N.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,oe()))}),onPointerDown:ne(e.onPointerDown,N=>{N.button===0&&(_.current={x:N.clientX,y:N.clientY})}),onPointerMove:ne(e.onPointerMove,N=>{if(!_.current)return;const U=N.clientX-_.current.x,te=N.clientY-_.current.y,Y=!!E.current,D=["left","right"].includes(y.swipeDirection),k=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,H=D?k(0,U):0,ie=D?0:k(0,te),he=N.pointerType==="touch"?10:2,Ke={x:H,y:ie},Ve={originalEvent:N,delta:Ke};Y?(E.current=Ke,Yc(TF,d,Ve,{discrete:!1})):Xw(Ke,y.swipeDirection,he)?(E.current=Ke,Yc(xF,u,Ve,{discrete:!1}),N.target.setPointerCapture(N.pointerId)):(Math.abs(U)>he||Math.abs(te)>he)&&(_.current=null)}),onPointerUp:ne(e.onPointerUp,N=>{const U=E.current,te=N.target;if(te.hasPointerCapture(N.pointerId)&&te.releasePointerCapture(N.pointerId),E.current=null,_.current=null,U){const Y=N.currentTarget,D={originalEvent:N,delta:U};Xw(U,y.swipeDirection,y.swipeThreshold)?Yc(bF,m,D,{discrete:!0}):Yc(SF,h,D,{discrete:!0}),Y.addEventListener("click",k=>k.preventDefault(),{once:!0})}})})))),y.viewport))):null});yI.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){const t=`Invalid prop \`type\` supplied to \`${jf}\`. Expected \`foreground | background\`.`;return new Error(t)}return null}};const RF=e=>{const{__scopeToast:t,children:n,...r}=e,o=Ff(jf,t),[s,i]=f.useState(!1),[a,l]=f.useState(!1);return DF(()=>i(!0)),f.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:f.createElement(dv,{asChild:!0},f.createElement(fv,r,s&&f.createElement(f.Fragment,null,o.label," ",n)))},kF=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return f.createElement(Ce.div,z({},r,{ref:t}))}),PF=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return f.createElement(Ce.div,z({},r,{ref:t}))}),$F="ToastAction",vI=f.forwardRef((e,t)=>{const{altText:n,...r}=e;return n?f.createElement(wI,{altText:n,asChild:!0},f.createElement(_I,z({},r,{ref:t}))):null});vI.propTypes={altText(e){return e.altText?null:new Error(`Missing prop \`altText\` expected on \`${$F}\``)}};const NF="ToastClose",_I=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=AF(NF,n);return f.createElement(wI,{asChild:!0},f.createElement(Ce.button,z({type:"button"},r,{ref:t,onClick:ne(e.onClick,o.onClose)})))}),wI=f.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return f.createElement(Ce.div,z({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0},o,{ref:t}))});function EI(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),OF(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!o)if(s){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...EI(r))}}),t}function Yc(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?nv(o,s):o.dispatchEvent(s)}const Xw=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),s=r>o;return t==="left"||t==="right"?s&&r>n:!s&&o>n};function DF(e=()=>{}){const t=Gt(e);Qt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function OF(e){return e.nodeType===e.ELEMENT_NODE}function MF(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Xh(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}const VF=gI,xI=wF,TI=CF,SI=kF,bI=PF,CI=vI,II=_I,LF=VF,AI=f.forwardRef(({className:e,...t},n)=>S.jsx(xI,{ref:n,className:qe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));AI.displayName=xI.displayName;const FF=vb("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),RI=f.forwardRef(({className:e,variant:t,...n},r)=>S.jsx(TI,{ref:r,className:qe(FF({variant:t}),e),...n}));RI.displayName=TI.displayName;const jF=f.forwardRef(({className:e,...t},n)=>S.jsx(CI,{ref:n,className:qe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));jF.displayName=CI.displayName;const kI=f.forwardRef(({className:e,...t},n)=>S.jsx(II,{ref:n,className:qe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:S.jsx(sL,{className:"h-4 w-4"})}));kI.displayName=II.displayName;const PI=f.forwardRef(({className:e,...t},n)=>S.jsx(SI,{ref:n,className:qe("text-sm font-semibold",e),...t}));PI.displayName=SI.displayName;const $I=f.forwardRef(({className:e,...t},n)=>S.jsx(bI,{ref:n,className:qe("text-sm opacity-90",e),...t}));$I.displayName=bI.displayName;function UF(){const{toasts:e}=Rf();return S.jsxs(LF,{children:[e.map(function({id:t,title:n,description:r,action:o,...s}){return S.jsxs(RI,{...s,children:[S.jsxs("div",{className:"grid gap-1",children:[n&&S.jsx(PI,{children:n}),r&&S.jsx($I,{children:r})]}),o,S.jsx(kI,{})]},t)}),S.jsx(AI,{})]})}ep.createRoot(document.getElementById("root")).render(S.jsx(eF,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:S.jsxs(Zk,{store:pF,children:[S.jsx(hF,{}),S.jsx(UF,{})]})}));
